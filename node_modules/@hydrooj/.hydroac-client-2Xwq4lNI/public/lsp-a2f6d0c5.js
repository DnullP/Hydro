(()=>{var yu=Object.create;var ia=Object.defineProperty;var Cu=Object.getOwnPropertyDescriptor;var _u=Object.getOwnPropertyNames;var bu=Object.getPrototypeOf,wu=Object.prototype.hasOwnProperty;var or=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var A=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Du=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _u(e))!wu.call(r,i)&&i!==t&&ia(r,i,{get:()=>e[i],enumerable:!(n=Cu(e,i))||n.enumerable});return r};var oa=(r,e,t)=>(t=r!=null?yu(bu(r)):{},Du(e||!r||!r.__esModule?ia(t,"default",{value:r,enumerable:!0}):t,r));var qt=A(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});var ti;function ni(){if(ti===void 0)throw new Error("No runtime abstraction layer installed");return ti}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");ti=t}r.install=e})(ni||(ni={}));ri.default=ni});var sr=A(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.Disposable=void 0;var Ru;(function(r){function e(t){return{dispose:t}}r.create=e})(Ru=Nn.Disposable||(Nn.Disposable={}))});var rn=A(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.Emitter=nn.Event=void 0;var Tu=qt(),Pu;(function(r){let e={dispose(){}};r.None=function(){return e}})(Pu=nn.Event||(nn.Event={}));var ii=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=n.length;s<o;s++)try{t.push(n[s].apply(i[s],e))}catch(f){Tu.default().console.error(f)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},mn=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new ii),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,t),i.dispose=mn._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};nn.Emitter=mn;mn._noop=function(){}});var sa=A(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.AbstractMessageBuffer=void 0;var Su=13,Eu=10,ku=`\r
`,oi=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,t=0,n=0,i=0;e:for(;t<this._chunks.length;){let l=this._chunks[t];n=0;t:for(;n<l.length;){switch(l[n]){case Su:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case Eu:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=l.byteLength,t++}if(e!==4)return;let s=this._read(i+n),o=new Map,f=this.toString(s,"ascii").split(ku);if(f.length<2)return o;for(let l=0;l<f.length-2;l++){let g=f[l],m=g.indexOf(":");if(m===-1)throw new Error("Message header must separate key and value using :");let _=g.substr(0,m),R=g.substr(m+1).trim();o.set(_,R)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);t.set(o,n),n+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else t.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return t}};ar.AbstractMessageBuffer=oi});var ca=A(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var xu=qt(),pn=sr(),qu=rn(),Ou=sa(),vn=class extends Ou.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return vn.emptyBuffer}fromString(e,t){return new TextEncoder().encode(e)}toString(e,t){return t==="ascii"?this.asciiDecoder.decode(e):new TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e:e.slice(0,t)}allocNative(e){return new Uint8Array(e)}};vn.emptyBuffer=new Uint8Array(0);var si=class{constructor(e){this.socket=e,this._onData=new qu.Emitter,this._messageListener=t=>{t.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))})},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),pn.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),pn.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),pn.Disposable.create(()=>this.socket.removeEventListener("end",e))}onData(e){return this._onData.event(e)}},ai=class{constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),pn.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),pn.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),pn.Disposable.create(()=>this.socket.removeEventListener("end",e))}write(e,t){if(typeof e=="string"){if(t!==void 0&&t!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encding is supported. But got encoding: ${t}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}},Iu=new TextEncoder,aa=Object.freeze({messageBuffer:Object.freeze({create:r=>new vn(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{if(e.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encding is supported. But got encoding: ${e.charset}`);return Promise.resolve(Iu.encode(JSON.stringify(r,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{if(!(r instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(e.charset).decode(r)))}})}),stream:Object.freeze({asReadableStream:r=>new si(r),asWritableStream:r=>new ai(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){return setTimeout(r,e,...t)},clearTimeout(r){clearTimeout(r)},setImmediate(r,...e){return setTimeout(r,0,...e)},clearImmediate(r){clearTimeout(r)}})});function ci(){return aa}(function(r){function e(){xu.default.install(aa)}r.install=e})(ci||(ci={}));ui.default=ci});var yn=A(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.stringArray=ze.array=ze.func=ze.error=ze.number=ze.string=ze.boolean=void 0;function Fu(r){return r===!0||r===!1}ze.boolean=Fu;function ua(r){return typeof r=="string"||r instanceof String}ze.string=ua;function Mu(r){return typeof r=="number"||r instanceof Number}ze.number=Mu;function Nu(r){return r instanceof Error}ze.error=Nu;function Lu(r){return typeof r=="function"}ze.func=Lu;function da(r){return Array.isArray(r)}ze.array=da;function Au(r){return da(r)&&r.every(e=>ua(e))}ze.stringArray=Au});var cr=A(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.isResponseMessage=z.isNotificationMessage=z.isRequestMessage=z.NotificationType9=z.NotificationType8=z.NotificationType7=z.NotificationType6=z.NotificationType5=z.NotificationType4=z.NotificationType3=z.NotificationType2=z.NotificationType1=z.NotificationType0=z.NotificationType=z.RequestType9=z.RequestType8=z.RequestType7=z.RequestType6=z.RequestType5=z.RequestType4=z.RequestType3=z.RequestType2=z.RequestType1=z.RequestType=z.RequestType0=z.AbstractMessageSignature=z.ParameterStructures=z.ResponseError=z.ErrorCodes=void 0;var on=yn(),la;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=r.jsonrpcReservedErrorRangeStart,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=r.jsonrpcReservedErrorRangeEnd})(la=z.ErrorCodes||(z.ErrorCodes={}));var Ln=class extends Error{constructor(e,t,n){super(t),this.code=on.number(e)?e:la.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Ln.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};z.ResponseError=Ln;var Ae=class{constructor(e){this.kind=e}static is(e){return e===Ae.auto||e===Ae.byName||e===Ae.byPosition}toString(){return this.kind}};z.ParameterStructures=Ae;Ae.auto=new Ae("auto");Ae.byPosition=new Ae("byPosition");Ae.byName=new Ae("byName");var be=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return Ae.auto}};z.AbstractMessageSignature=be;var di=class extends be{constructor(e){super(e,0)}};z.RequestType0=di;var li=class extends be{constructor(e,t=Ae.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};z.RequestType=li;var fi=class extends be{constructor(e,t=Ae.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};z.RequestType1=fi;var gi=class extends be{constructor(e){super(e,2)}};z.RequestType2=gi;var hi=class extends be{constructor(e){super(e,3)}};z.RequestType3=hi;var mi=class extends be{constructor(e){super(e,4)}};z.RequestType4=mi;var pi=class extends be{constructor(e){super(e,5)}};z.RequestType5=pi;var vi=class extends be{constructor(e){super(e,6)}};z.RequestType6=vi;var yi=class extends be{constructor(e){super(e,7)}};z.RequestType7=yi;var Ci=class extends be{constructor(e){super(e,8)}};z.RequestType8=Ci;var _i=class extends be{constructor(e){super(e,9)}};z.RequestType9=_i;var bi=class extends be{constructor(e,t=Ae.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};z.NotificationType=bi;var wi=class extends be{constructor(e){super(e,0)}};z.NotificationType0=wi;var Di=class extends be{constructor(e,t=Ae.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};z.NotificationType1=Di;var Ri=class extends be{constructor(e){super(e,2)}};z.NotificationType2=Ri;var Ti=class extends be{constructor(e){super(e,3)}};z.NotificationType3=Ti;var Pi=class extends be{constructor(e){super(e,4)}};z.NotificationType4=Pi;var Si=class extends be{constructor(e){super(e,5)}};z.NotificationType5=Si;var Ei=class extends be{constructor(e){super(e,6)}};z.NotificationType6=Ei;var ki=class extends be{constructor(e){super(e,7)}};z.NotificationType7=ki;var xi=class extends be{constructor(e){super(e,8)}};z.NotificationType8=xi;var qi=class extends be{constructor(e){super(e,9)}};z.NotificationType9=qi;function ju(r){let e=r;return e&&on.string(e.method)&&(on.string(e.id)||on.number(e.id))}z.isRequestMessage=ju;function Ku(r){let e=r;return e&&on.string(e.method)&&r.id===void 0}z.isNotificationMessage=Ku;function Hu(r){let e=r;return e&&(e.result!==void 0||!!e.error)&&(on.string(e.id)||on.number(e.id)||e.id===null)}z.isResponseMessage=Hu});var Mi=A(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.CancellationTokenSource=sn.CancellationToken=void 0;var fa=qt(),Wu=yn(),Oi=rn(),Ii;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Oi.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Oi.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||Wu.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(Ii=sn.CancellationToken||(sn.CancellationToken={}));var Uu=Object.freeze(function(r,e){let t=fa.default().timer.setTimeout(r.bind(e),0);return{dispose(){fa.default().timer.clearTimeout(t)}}}),ur=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Uu:(this._emitter||(this._emitter=new Oi.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Fi=class{get token(){return this._token||(this._token=new ur),this._token}cancel(){this._token?this._token.cancel():this._token=Ii.Cancelled}dispose(){this._token?this._token instanceof ur&&this._token.dispose():this._token=Ii.None}};sn.CancellationTokenSource=Fi});var ji=A(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.ReadableStreamMessageReader=Ot.AbstractMessageReader=Ot.MessageReader=void 0;var dr=qt(),Cn=yn(),Ni=rn(),zu;(function(r){function e(t){let n=t;return n&&Cn.func(n.listen)&&Cn.func(n.dispose)&&Cn.func(n.onError)&&Cn.func(n.onClose)&&Cn.func(n.onPartialMessage)}r.is=e})(zu=Ot.MessageReader||(Ot.MessageReader={}));var lr=class{constructor(){this.errorEmitter=new Ni.Emitter,this.closeEmitter=new Ni.Emitter,this.partialMessageEmitter=new Ni.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Cn.string(e.message)?e.message:"unknown"}`)}};Ot.AbstractMessageReader=lr;var Li;(function(r){function e(t){var n;let i,s,o,f=new Map,l,g=new Map;if(t===void 0||typeof t=="string")i=t??"utf-8";else{if(i=(n=t.charset)!==null&&n!==void 0?n:"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,f.set(o.name,o)),t.contentDecoders!==void 0)for(let m of t.contentDecoders)f.set(m.name,m);if(t.contentTypeDecoder!==void 0&&(l=t.contentTypeDecoder,g.set(l.name,l)),t.contentTypeDecoders!==void 0)for(let m of t.contentTypeDecoders)g.set(m.name,m)}return l===void 0&&(l=dr.default().applicationJson.decoder,g.set(l.name,l)),{charset:i,contentDecoder:o,contentDecoders:f,contentTypeDecoder:l,contentTypeDecoders:g}}r.fromOptions=e})(Li||(Li={}));var Ai=class extends lr{constructor(e,t){super(),this.readable=e,this.options=Li.fromOptions(t),this.buffer=dr.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(t):n=Promise.resolve(t),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(dr.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=dr.default().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ot.ReadableStreamMessageReader=Ai});var ga=A(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.Semaphore=void 0;var $u=qt(),Ki=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||$u.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};fr.Semaphore=Ki});var Ui=A(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.WriteableStreamMessageWriter=It.AbstractMessageWriter=It.MessageWriter=void 0;var ha=qt(),An=yn(),Ju=ga(),ma=rn(),Bu="Content-Length: ",pa=`\r
`,Gu;(function(r){function e(t){let n=t;return n&&An.func(n.dispose)&&An.func(n.onClose)&&An.func(n.onError)&&An.func(n.write)}r.is=e})(Gu=It.MessageWriter||(It.MessageWriter={}));var gr=class{constructor(){this.errorEmitter=new ma.Emitter,this.closeEmitter=new ma.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${An.string(e.message)?e.message:"unknown"}`)}};It.AbstractMessageWriter=gr;var Hi;(function(r){function e(t){var n,i;return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:ha.default().applicationJson.encoder}:{charset:(n=t.charset)!==null&&n!==void 0?n:"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:(i=t.contentTypeEncoder)!==null&&i!==void 0?i:ha.default().applicationJson.encoder}}r.fromOptions=e})(Hi||(Hi={}));var Wi=class extends gr{constructor(e,t){super(),this.writable=e,this.options=Hi.fromOptions(t),this.errorCount=0,this.writeSemaphore=new Ju.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Bu,n.byteLength.toString(),pa),i.push(pa),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};It.WriteableStreamMessageWriter=Wi});var va=A(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.LRUCache=Ft.LinkedMap=Ft.Touch=void 0;var Je;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Je=Ft.Touch||(Ft.Touch={}));var hr=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=Je.None){let n=this._map.get(e);if(!!n)return t!==Je.None&&this.touch(n,t),n.value}set(e,t,n=Je.None){let i=this._map.get(e);if(i)i.value=t,n!==Je.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Je.None:this.addItemLast(i);break;case Je.First:this.addItemFirst(i);break;case Je.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,t=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,t=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,t=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Je.First&&t!==Je.Last)){if(t===Je.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Je.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};Ft.LinkedMap=hr;var zi=class extends hr{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Je.AsNew){return super.get(e,t)}peek(e){return super.get(e,Je.None)}set(e,t){return super.set(e,t,Je.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ft.LRUCache=zi});var wa=A(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.createMessageConnection=te.ConnectionOptions=te.CancellationStrategy=te.CancellationSenderStrategy=te.CancellationReceiverStrategy=te.ConnectionStrategy=te.ConnectionError=te.ConnectionErrors=te.LogTraceNotification=te.SetTraceNotification=te.TraceFormat=te.Trace=te.NullLogger=te.ProgressType=void 0;var ya=qt(),je=yn(),Y=cr(),Ca=va(),jn=rn(),$i=Mi(),Kn;(function(r){r.type=new Y.NotificationType("$/cancelRequest")})(Kn||(Kn={}));var pr;(function(r){r.type=new Y.NotificationType("$/progress")})(pr||(pr={}));var Ji=class{constructor(){}};te.ProgressType=Ji;var Bi;(function(r){function e(t){return je.func(t)}r.is=e})(Bi||(Bi={}));te.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Me;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Verbose=2]="Verbose"})(Me=te.Trace||(te.Trace={}));(function(r){function e(n){if(!je.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(Me=te.Trace||(te.Trace={}));var ut;(function(r){r.Text="text",r.JSON="json"})(ut=te.TraceFormat||(te.TraceFormat={}));(function(r){function e(t){return t=t.toLowerCase(),t==="json"?r.JSON:r.Text}r.fromString=e})(ut=te.TraceFormat||(te.TraceFormat={}));var _a;(function(r){r.type=new Y.NotificationType("$/setTrace")})(_a=te.SetTraceNotification||(te.SetTraceNotification={}));var Gi;(function(r){r.type=new Y.NotificationType("$/logTrace")})(Gi=te.LogTraceNotification||(te.LogTraceNotification={}));var mr;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(mr=te.ConnectionErrors||(te.ConnectionErrors={}));var Jt=class extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,Jt.prototype)}};te.ConnectionError=Jt;var ba;(function(r){function e(t){let n=t;return n&&je.func(n.cancelUndispatched)}r.is=e})(ba=te.ConnectionStrategy||(te.ConnectionStrategy={}));var Qi;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new $i.CancellationTokenSource}});function e(t){let n=t;return n&&je.func(n.createCancellationTokenSource)}r.is=e})(Qi=te.CancellationReceiverStrategy||(te.CancellationReceiverStrategy={}));var Vi;(function(r){r.Message=Object.freeze({sendCancellation(t,n){t.sendNotification(Kn.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&je.func(n.sendCancellation)&&je.func(n.cleanup)}r.is=e})(Vi=te.CancellationSenderStrategy||(te.CancellationSenderStrategy={}));var Xi;(function(r){r.Message=Object.freeze({receiver:Qi.Message,sender:Vi.Message});function e(t){let n=t;return n&&Qi.is(n.receiver)&&Vi.is(n.sender)}r.is=e})(Xi=te.CancellationStrategy||(te.CancellationStrategy={}));var Qu;(function(r){function e(t){let n=t;return n&&(Xi.is(n.cancellationStrategy)||ba.is(n.connectionStrategy))}r.is=e})(Qu=te.ConnectionOptions||(te.ConnectionOptions={}));var dt;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(dt||(dt={}));function Vu(r,e,t,n){let i=t!==void 0?t:te.NullLogger,s=0,o=0,f=0,l="2.0",g,m=Object.create(null),_,R=Object.create(null),P=new Map,F,j=new Ca.LinkedMap,Q=Object.create(null),U=Object.create(null),B=Me.Off,ne=ut.Text,Z,ee=dt.New,S=new jn.Emitter,E=new jn.Emitter,k=new jn.Emitter,O=new jn.Emitter,N=new jn.Emitter,D=n&&n.cancellationStrategy?n.cancellationStrategy:Xi.Message;function x(b){if(b===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+b.toString()}function M(b){return b===null?"res-unknown-"+(++f).toString():"res-"+b.toString()}function H(){return"not-"+(++o).toString()}function ie(b,p){Y.isRequestMessage(p)?b.set(x(p.id),p):Y.isResponseMessage(p)?b.set(M(p.id),p):b.set(H(),p)}function re(b){}function X(){return ee===dt.Listening}function We(){return ee===dt.Closed}function ve(){return ee===dt.Disposed}function Fe(){(ee===dt.New||ee===dt.Listening)&&(ee=dt.Closed,E.fire(void 0))}function Ge(b){S.fire([b,void 0,void 0])}function Qe(b){S.fire(b)}r.onClose(Fe),r.onError(Ge),e.onClose(Fe),e.onError(Qe);function jt(){F||j.size===0||(F=ya.default().timer.setImmediate(()=>{F=void 0,Kt()}))}function Kt(){if(j.size===0)return;let b=j.shift();try{Y.isRequestMessage(b)?St(b):Y.isNotificationMessage(b)?_t(b):Y.isResponseMessage(b)?Ct(b):Et(b)}finally{jt()}}let Pt=b=>{try{if(Y.isNotificationMessage(b)&&b.method===Kn.type.method){let p=x(b.params.id),d=j.get(p);if(Y.isRequestMessage(d)){let v=n?.connectionStrategy,w=v&&v.cancelUndispatched?v.cancelUndispatched(d,re):void 0;if(w&&(w.error!==void 0||w.result!==void 0)){j.delete(p),w.id=d.id,et(w,b.method,Date.now()),e.write(w);return}}}ie(j,b)}finally{jt()}};function St(b){if(ve())return;function p(T,K,J){let se={jsonrpc:l,id:b.id};T instanceof Y.ResponseError?se.error=T.toJson():se.result=T===void 0?null:T,et(se,K,J),e.write(se)}function d(T,K,J){let se={jsonrpc:l,id:b.id,error:T.toJson()};et(se,K,J),e.write(se)}function v(T,K,J){T===void 0&&(T=null);let se={jsonrpc:l,id:b.id,result:T};et(se,K,J),e.write(se)}Wt(b);let w=m[b.method],a,c;w&&(a=w.type,c=w.handler);let C=Date.now();if(c||g){let T=String(b.id),K=D.receiver.createCancellationTokenSource(T);U[T]=K;try{let J;if(c)if(b.params===void 0){if(a!==void 0&&a.numberOfParams!==0){d(new Y.ResponseError(Y.ErrorCodes.InvalidParams,`Request ${b.method} defines ${a.numberOfParams} params but recevied none.`),b.method,C);return}J=c(K.token)}else if(Array.isArray(b.params)){if(a!==void 0&&a.parameterStructures===Y.ParameterStructures.byName){d(new Y.ResponseError(Y.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by name but received parameters by position`),b.method,C);return}J=c(...b.params,K.token)}else{if(a!==void 0&&a.parameterStructures===Y.ParameterStructures.byPosition){d(new Y.ResponseError(Y.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by position but received parameters by name`),b.method,C);return}J=c(b.params,K.token)}else g&&(J=g(b.method,b.params,K.token));let se=J;J?se.then?se.then(me=>{delete U[T],p(me,b.method,C)},me=>{delete U[T],me instanceof Y.ResponseError?d(me,b.method,C):me&&je.string(me.message)?d(new Y.ResponseError(Y.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${me.message}`),b.method,C):d(new Y.ResponseError(Y.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,C)}):(delete U[T],p(J,b.method,C)):(delete U[T],v(J,b.method,C))}catch(J){delete U[T],J instanceof Y.ResponseError?p(J,b.method,C):J&&je.string(J.message)?d(new Y.ResponseError(Y.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${J.message}`),b.method,C):d(new Y.ResponseError(Y.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,C)}}else d(new Y.ResponseError(Y.ErrorCodes.MethodNotFound,`Unhandled method ${b.method}`),b.method,C)}function Ct(b){if(!ve())if(b.id===null)b.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(b.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let p=String(b.id),d=Q[p];if(Zt(b,d),d){delete Q[p];try{if(b.error){let v=b.error;d.reject(new Y.ResponseError(v.code,v.message,v.data))}else if(b.result!==void 0)d.resolve(b.result);else throw new Error("Should never happen.")}catch(v){v.message?i.error(`Response handler '${d.method}' failed with message: ${v.message}`):i.error(`Response handler '${d.method}' failed unexpectedly.`)}}}}function _t(b){if(ve())return;let p,d;if(b.method===Kn.type.method)d=v=>{let w=v.id,a=U[String(w)];a&&a.cancel()};else{let v=R[b.method];v&&(d=v.handler,p=v.type)}if(d||_)try{tt(b),d?b.params===void 0?(p!==void 0&&p.numberOfParams!==0&&p.parameterStructures!==Y.ParameterStructures.byName&&i.error(`Notification ${b.method} defines ${p.numberOfParams} params but recevied none.`),d()):Array.isArray(b.params)?(p!==void 0&&(p.parameterStructures===Y.ParameterStructures.byName&&i.error(`Notification ${b.method} defines parameters by name but received parameters by position`),p.numberOfParams!==b.params.length&&i.error(`Notification ${b.method} defines ${p.numberOfParams} params but received ${b.params.length} argumennts`)),d(...b.params)):(p!==void 0&&p.parameterStructures===Y.ParameterStructures.byPosition&&i.error(`Notification ${b.method} defines parameters by position but received parameters by name`),d(b.params)):_&&_(b.method,b.params)}catch(v){v.message?i.error(`Notification handler '${b.method}' failed with message: ${v.message}`):i.error(`Notification handler '${b.method}' failed unexpectedly.`)}else k.fire(b)}function Et(b){if(!b){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(b,null,4)}`);let p=b;if(je.string(p.id)||je.number(p.id)){let d=String(p.id),v=Q[d];v&&v.reject(new Error("The received response has neither a result nor an error property."))}}function Ht(b){if(!(B===Me.Off||!Z))if(ne===ut.Text){let p;B===Me.Verbose&&b.params&&(p=`Params: ${JSON.stringify(b.params,null,4)}

`),Z.log(`Sending request '${b.method} - (${b.id})'.`,p)}else ke("send-request",b)}function Xt(b){if(!(B===Me.Off||!Z))if(ne===ut.Text){let p;B===Me.Verbose&&(b.params?p=`Params: ${JSON.stringify(b.params,null,4)}

`:p=`No parameters provided.

`),Z.log(`Sending notification '${b.method}'.`,p)}else ke("send-notification",b)}function et(b,p,d){if(!(B===Me.Off||!Z))if(ne===ut.Text){let v;B===Me.Verbose&&(b.error&&b.error.data?v=`Error data: ${JSON.stringify(b.error.data,null,4)}

`:b.result?v=`Result: ${JSON.stringify(b.result,null,4)}

`:b.error===void 0&&(v=`No result returned.

`)),Z.log(`Sending response '${p} - (${b.id})'. Processing request took ${Date.now()-d}ms`,v)}else ke("send-response",b)}function Wt(b){if(!(B===Me.Off||!Z))if(ne===ut.Text){let p;B===Me.Verbose&&b.params&&(p=`Params: ${JSON.stringify(b.params,null,4)}

`),Z.log(`Received request '${b.method} - (${b.id})'.`,p)}else ke("receive-request",b)}function tt(b){if(!(B===Me.Off||!Z||b.method===Gi.type.method))if(ne===ut.Text){let p;B===Me.Verbose&&(b.params?p=`Params: ${JSON.stringify(b.params,null,4)}

`:p=`No parameters provided.

`),Z.log(`Received notification '${b.method}'.`,p)}else ke("receive-notification",b)}function Zt(b,p){if(!(B===Me.Off||!Z))if(ne===ut.Text){let d;if(B===Me.Verbose&&(b.error&&b.error.data?d=`Error data: ${JSON.stringify(b.error.data,null,4)}

`:b.result?d=`Result: ${JSON.stringify(b.result,null,4)}

`:b.error===void 0&&(d=`No result returned.

`)),p){let v=b.error?` Request failed: ${b.error.message} (${b.error.code}).`:"";Z.log(`Received response '${p.method} - (${b.id})' in ${Date.now()-p.timerStart}ms.${v}`,d)}else Z.log(`Received response ${b.id} without active response promise.`,d)}else ke("receive-response",b)}function ke(b,p){if(!Z||B===Me.Off)return;let d={isLSPMessage:!0,type:b,message:p,timestamp:Date.now()};Z.log(d)}function Ve(){if(We())throw new Jt(mr.Closed,"Connection is closed.");if(ve())throw new Jt(mr.Disposed,"Connection is disposed.")}function Ut(){if(X())throw new Jt(mr.AlreadyListening,"Connection is already listening")}function Yt(){if(!X())throw new Error("Call listen() first.")}function nt(b){return b===void 0?null:b}function zt(b){if(b!==null)return b}function kt(b){return b!=null&&!Array.isArray(b)&&typeof b=="object"}function rt(b,p){switch(b){case Y.ParameterStructures.auto:return kt(p)?zt(p):[nt(p)];case Y.ParameterStructures.byName:if(!kt(p))throw new Error("Recevied parameters by name but param is not an object literal.");return zt(p);case Y.ParameterStructures.byPosition:return[nt(p)];default:throw new Error(`Unknown parameter structure ${b.toString()}`)}}function xt(b,p){let d,v=b.numberOfParams;switch(v){case 0:d=void 0;break;case 1:d=rt(b.parameterStructures,p[0]);break;default:d=[];for(let w=0;w<p.length&&w<v;w++)d.push(nt(p[w]));if(p.length<v)for(let w=p.length;w<v;w++)d.push(null);break}return d}let it={sendNotification:(b,...p)=>{Ve();let d,v;if(je.string(b)){d=b;let a=p[0],c=0,C=Y.ParameterStructures.auto;Y.ParameterStructures.is(a)&&(c=1,C=a);let T=p.length,K=T-c;switch(K){case 0:v=void 0;break;case 1:v=rt(C,p[c]);break;default:if(C===Y.ParameterStructures.byName)throw new Error(`Recevied ${K} parameters for 'by Name' notification parameter structure.`);v=p.slice(c,T).map(J=>nt(J));break}}else{let a=p;d=b.method,v=xt(b,a)}let w={jsonrpc:l,method:d,params:v};Xt(w),e.write(w)},onNotification:(b,p)=>{Ve();let d;return je.func(b)?_=b:p&&(je.string(b)?(d=b,R[b]={type:void 0,handler:p}):(d=b.method,R[b.method]={type:b,handler:p})),{dispose:()=>{d!==void 0?delete R[d]:_=void 0}}},onProgress:(b,p,d)=>{if(P.has(p))throw new Error(`Progress handler for token ${p} already registered`);return P.set(p,d),{dispose:()=>{P.delete(p)}}},sendProgress:(b,p,d)=>{it.sendNotification(pr.type,{token:p,value:d})},onUnhandledProgress:O.event,sendRequest:(b,...p)=>{Ve(),Yt();let d,v,w;if(je.string(b)){d=b;let T=p[0],K=p[p.length-1],J=0,se=Y.ParameterStructures.auto;Y.ParameterStructures.is(T)&&(J=1,se=T);let me=p.length;$i.CancellationToken.is(K)&&(me=me-1,w=K);let xe=me-J;switch(xe){case 0:v=void 0;break;case 1:v=rt(se,p[J]);break;default:if(se===Y.ParameterStructures.byName)throw new Error(`Recevied ${xe} parameters for 'by Name' request parameter structure.`);v=p.slice(J,me).map(qe=>nt(qe));break}}else{let T=p;d=b.method,v=xt(b,T);let K=b.numberOfParams;w=$i.CancellationToken.is(T[K])?T[K]:void 0}let a=s++,c;return w&&(c=w.onCancellationRequested(()=>{D.sender.sendCancellation(it,a)})),new Promise((T,K)=>{let J={jsonrpc:l,id:a,method:d,params:v},se=qe=>{T(qe),D.sender.cleanup(a),c?.dispose()},me=qe=>{K(qe),D.sender.cleanup(a),c?.dispose()},xe={method:d,timerStart:Date.now(),resolve:se,reject:me};Ht(J);try{e.write(J)}catch(qe){xe.reject(new Y.ResponseError(Y.ErrorCodes.MessageWriteError,qe.message?qe.message:"Unknown reason")),xe=null}xe&&(Q[String(a)]=xe)})},onRequest:(b,p)=>{Ve();let d=null;return Bi.is(b)?(d=void 0,g=b):je.string(b)?(d=null,p!==void 0&&(d=b,m[b]={handler:p,type:void 0})):p!==void 0&&(d=b.method,m[b.method]={type:b,handler:p}),{dispose:()=>{d!==null&&(d!==void 0?delete m[d]:g=void 0)}}},trace:(b,p,d)=>{let v=!1,w=ut.Text;d!==void 0&&(je.boolean(d)?v=d:(v=d.sendNotification||!1,w=d.traceFormat||ut.Text)),B=b,ne=w,B===Me.Off?Z=void 0:Z=p,v&&!We()&&!ve()&&it.sendNotification(_a.type,{value:Me.toString(b)})},onError:S.event,onClose:E.event,onUnhandledNotification:k.event,onDispose:N.event,end:()=>{e.end()},dispose:()=>{if(ve())return;ee=dt.Disposed,N.fire(void 0);let b=new Error("Connection got disposed.");Object.keys(Q).forEach(p=>{Q[p].reject(b)}),Q=Object.create(null),U=Object.create(null),j=new Ca.LinkedMap,je.func(e.dispose)&&e.dispose(),je.func(r.dispose)&&r.dispose()},listen:()=>{Ve(),Ut(),ee=dt.Listening,r.listen(Pt)},inspect:()=>{ya.default().console.log("inspect")}};return it.onNotification(Gi.type,b=>{B===Me.Off||!Z||Z.log(b.message,B===Me.Verbose?b.verbose:void 0)}),it.onNotification(pr.type,b=>{let p=P.get(b.token);p?p(b.value):O.fire(b)}),it}te.createMessageConnection=Vu});var eo=A(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.CancellationSenderStrategy=I.CancellationReceiverStrategy=I.ConnectionError=I.ConnectionErrors=I.LogTraceNotification=I.SetTraceNotification=I.TraceFormat=I.Trace=I.ProgressType=I.createMessageConnection=I.NullLogger=I.ConnectionOptions=I.ConnectionStrategy=I.WriteableStreamMessageWriter=I.AbstractMessageWriter=I.MessageWriter=I.ReadableStreamMessageReader=I.AbstractMessageReader=I.MessageReader=I.CancellationToken=I.CancellationTokenSource=I.Emitter=I.Event=I.Disposable=I.ParameterStructures=I.NotificationType9=I.NotificationType8=I.NotificationType7=I.NotificationType6=I.NotificationType5=I.NotificationType4=I.NotificationType3=I.NotificationType2=I.NotificationType1=I.NotificationType0=I.NotificationType=I.ErrorCodes=I.ResponseError=I.RequestType9=I.RequestType8=I.RequestType7=I.RequestType6=I.RequestType5=I.RequestType4=I.RequestType3=I.RequestType2=I.RequestType1=I.RequestType0=I.RequestType=I.RAL=void 0;I.CancellationStrategy=void 0;var we=cr();Object.defineProperty(I,"RequestType",{enumerable:!0,get:function(){return we.RequestType}});Object.defineProperty(I,"RequestType0",{enumerable:!0,get:function(){return we.RequestType0}});Object.defineProperty(I,"RequestType1",{enumerable:!0,get:function(){return we.RequestType1}});Object.defineProperty(I,"RequestType2",{enumerable:!0,get:function(){return we.RequestType2}});Object.defineProperty(I,"RequestType3",{enumerable:!0,get:function(){return we.RequestType3}});Object.defineProperty(I,"RequestType4",{enumerable:!0,get:function(){return we.RequestType4}});Object.defineProperty(I,"RequestType5",{enumerable:!0,get:function(){return we.RequestType5}});Object.defineProperty(I,"RequestType6",{enumerable:!0,get:function(){return we.RequestType6}});Object.defineProperty(I,"RequestType7",{enumerable:!0,get:function(){return we.RequestType7}});Object.defineProperty(I,"RequestType8",{enumerable:!0,get:function(){return we.RequestType8}});Object.defineProperty(I,"RequestType9",{enumerable:!0,get:function(){return we.RequestType9}});Object.defineProperty(I,"ResponseError",{enumerable:!0,get:function(){return we.ResponseError}});Object.defineProperty(I,"ErrorCodes",{enumerable:!0,get:function(){return we.ErrorCodes}});Object.defineProperty(I,"NotificationType",{enumerable:!0,get:function(){return we.NotificationType}});Object.defineProperty(I,"NotificationType0",{enumerable:!0,get:function(){return we.NotificationType0}});Object.defineProperty(I,"NotificationType1",{enumerable:!0,get:function(){return we.NotificationType1}});Object.defineProperty(I,"NotificationType2",{enumerable:!0,get:function(){return we.NotificationType2}});Object.defineProperty(I,"NotificationType3",{enumerable:!0,get:function(){return we.NotificationType3}});Object.defineProperty(I,"NotificationType4",{enumerable:!0,get:function(){return we.NotificationType4}});Object.defineProperty(I,"NotificationType5",{enumerable:!0,get:function(){return we.NotificationType5}});Object.defineProperty(I,"NotificationType6",{enumerable:!0,get:function(){return we.NotificationType6}});Object.defineProperty(I,"NotificationType7",{enumerable:!0,get:function(){return we.NotificationType7}});Object.defineProperty(I,"NotificationType8",{enumerable:!0,get:function(){return we.NotificationType8}});Object.defineProperty(I,"NotificationType9",{enumerable:!0,get:function(){return we.NotificationType9}});Object.defineProperty(I,"ParameterStructures",{enumerable:!0,get:function(){return we.ParameterStructures}});var Xu=sr();Object.defineProperty(I,"Disposable",{enumerable:!0,get:function(){return Xu.Disposable}});var Da=rn();Object.defineProperty(I,"Event",{enumerable:!0,get:function(){return Da.Event}});Object.defineProperty(I,"Emitter",{enumerable:!0,get:function(){return Da.Emitter}});var Ra=Mi();Object.defineProperty(I,"CancellationTokenSource",{enumerable:!0,get:function(){return Ra.CancellationTokenSource}});Object.defineProperty(I,"CancellationToken",{enumerable:!0,get:function(){return Ra.CancellationToken}});var Zi=ji();Object.defineProperty(I,"MessageReader",{enumerable:!0,get:function(){return Zi.MessageReader}});Object.defineProperty(I,"AbstractMessageReader",{enumerable:!0,get:function(){return Zi.AbstractMessageReader}});Object.defineProperty(I,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Zi.ReadableStreamMessageReader}});var Yi=Ui();Object.defineProperty(I,"MessageWriter",{enumerable:!0,get:function(){return Yi.MessageWriter}});Object.defineProperty(I,"AbstractMessageWriter",{enumerable:!0,get:function(){return Yi.AbstractMessageWriter}});Object.defineProperty(I,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Yi.WriteableStreamMessageWriter}});var Xe=wa();Object.defineProperty(I,"ConnectionStrategy",{enumerable:!0,get:function(){return Xe.ConnectionStrategy}});Object.defineProperty(I,"ConnectionOptions",{enumerable:!0,get:function(){return Xe.ConnectionOptions}});Object.defineProperty(I,"NullLogger",{enumerable:!0,get:function(){return Xe.NullLogger}});Object.defineProperty(I,"createMessageConnection",{enumerable:!0,get:function(){return Xe.createMessageConnection}});Object.defineProperty(I,"ProgressType",{enumerable:!0,get:function(){return Xe.ProgressType}});Object.defineProperty(I,"Trace",{enumerable:!0,get:function(){return Xe.Trace}});Object.defineProperty(I,"TraceFormat",{enumerable:!0,get:function(){return Xe.TraceFormat}});Object.defineProperty(I,"SetTraceNotification",{enumerable:!0,get:function(){return Xe.SetTraceNotification}});Object.defineProperty(I,"LogTraceNotification",{enumerable:!0,get:function(){return Xe.LogTraceNotification}});Object.defineProperty(I,"ConnectionErrors",{enumerable:!0,get:function(){return Xe.ConnectionErrors}});Object.defineProperty(I,"ConnectionError",{enumerable:!0,get:function(){return Xe.ConnectionError}});Object.defineProperty(I,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Xe.CancellationReceiverStrategy}});Object.defineProperty(I,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Xe.CancellationSenderStrategy}});Object.defineProperty(I,"CancellationStrategy",{enumerable:!0,get:function(){return Xe.CancellationStrategy}});var Zu=qt();I.RAL=Zu.default});var Mt=A(Ze=>{"use strict";var Yu=Ze&&Ze.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ed=Ze&&Ze.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Yu(e,r,t)};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.createMessageConnection=Ze.BrowserMessageWriter=Ze.BrowserMessageReader=void 0;var td=ca();td.default.install();var _n=eo();ed(eo(),Ze);var to=class extends _n.AbstractMessageReader{constructor(e){super(),this._onData=new _n.Emitter,this._messageListener=t=>{this._onData.fire(t.data)},e.addEventListener("error",t=>this.fireError(t)),e.onmessage=this._messageListener}listen(e){return this._onData.event(e)}};Ze.BrowserMessageReader=to;var no=class extends _n.AbstractMessageWriter{constructor(e){super(),this.context=e,this.errorCount=0,e.addEventListener("error",t=>this.fireError(t))}write(e){try{return this.context.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Ze.BrowserMessageWriter=no;function nd(r,e,t,n){return t===void 0&&(t=_n.NullLogger),_n.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),_n.createMessageConnection(r,e,t,n)}Ze.createMessageConnection=nd});var Ta=A(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.DisposableCollection=bn.Disposable=void 0;var rd=sr();Object.defineProperty(bn,"Disposable",{enumerable:!0,get:function(){return rd.Disposable}});var ro=class{constructor(){this.disposables=[]}dispose(){for(;this.disposables.length!==0;)this.disposables.pop().dispose()}push(e){let t=this.disposables;return t.push(e),{dispose(){let n=t.indexOf(e);n!==-1&&t.splice(n,1)}}}};bn.DisposableCollection=ro});var Sa=A(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0})});var oo=A(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.WebSocketMessageReader=void 0;var id=ji(),io=class extends id.AbstractMessageReader{constructor(e){super(),this.socket=e,this.state="initial",this.events=[],this.socket.onMessage(t=>this.readMessage(t)),this.socket.onError(t=>this.fireError(t)),this.socket.onClose((t,n)=>{if(t!==1e3){let i={name:""+t,message:`Error during socket reconnect: code = ${t}, reason = ${n}`};this.fireError(i)}this.fireClose()})}listen(e){if(this.state==="initial")for(this.state="listening",this.callback=e;this.events.length!==0;){let t=this.events.pop();t.message?this.readMessage(t.message):t.error?this.fireError(t.error):this.fireClose()}return{dispose:()=>{this.callback===e&&(this.callback=void 0)}}}readMessage(e){if(this.state==="initial")this.events.splice(0,0,{message:e});else if(this.state==="listening"){let t=JSON.parse(e);this.callback(t)}}fireError(e){this.state==="initial"?this.events.splice(0,0,{error:e}):this.state==="listening"&&super.fireError(e)}fireClose(){this.state==="initial"?this.events.splice(0,0,{}):this.state==="listening"&&super.fireClose(),this.state="closed"}};vr.WebSocketMessageReader=io});var ao=A(wn=>{"use strict";var od=wn&&wn.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function f(m){try{g(n.next(m))}catch(_){o(_)}}function l(m){try{g(n.throw(m))}catch(_){o(_)}}function g(m){m.done?s(m.value):i(m.value).then(f,l)}g((n=n.apply(r,e||[])).next())})};Object.defineProperty(wn,"__esModule",{value:!0});wn.WebSocketMessageWriter=void 0;var sd=Ui(),so=class extends sd.AbstractMessageWriter{constructor(e){super(),this.socket=e,this.errorCount=0}end(){}write(e){return od(this,void 0,void 0,function*(){try{let t=JSON.stringify(e);this.socket.send(t)}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}})}};wn.WebSocketMessageWriter=so});var Ea=A(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.createWebSocketConnection=void 0;var ad=Mt(),cd=oo(),ud=ao();function dd(r,e){let t=new cd.WebSocketMessageReader(r),n=new ud.WebSocketMessageWriter(r),i=ad.createMessageConnection(t,n,e);return i.onClose(()=>i.dispose()),i}yr.createWebSocketConnection=dd});var co=A(bt=>{"use strict";var ld=bt&&bt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Cr=bt&&bt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ld(e,r,t)};Object.defineProperty(bt,"__esModule",{value:!0});Cr(Sa(),bt);Cr(oo(),bt);Cr(ao(),bt);Cr(Ea(),bt)});var lo=A(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.ConsoleLogger=void 0;var uo=class{error(e){console.error(e)}warn(e){console.warn(e)}info(e){console.info(e)}log(e){console.log(e)}debug(e){console.debug(e)}};_r.ConsoleLogger=uo});var xa=A(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.toSocket=Dn.listen=void 0;var fd=co(),gd=lo();function hd(r){let{webSocket:e,onConnection:t}=r,n=r.logger||new gd.ConsoleLogger;e.onopen=()=>{let i=ka(e),s=fd.createWebSocketConnection(i,n);t(s)}}Dn.listen=hd;function ka(r){return{send:e=>r.send(e),onMessage:e=>r.onmessage=t=>e(t.data),onError:e=>r.onerror=t=>{"message"in t&&e(t.message)},onClose:e=>r.onclose=t=>e(t.code,t.reason),dispose:()=>r.close()}}Dn.toSocket=ka});var qa=A(ot=>{"use strict";var md=ot&&ot.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Rn=ot&&ot.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&md(e,r,t)};Object.defineProperty(ot,"__esModule",{value:!0});Rn(Mt(),ot);Rn(cr(),ot);Rn(Ta(),ot);Rn(co(),ot);Rn(lo(),ot);Rn(xa(),ot)});var fo=A((em,Oa)=>{"use strict";Oa.exports=Mt()});var Fa=A((Ia,br)=>{(function(r){if(typeof br=="object"&&typeof br.exports=="object"){var e=r(or,Ia);e!==void 0&&(br.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var t;(function(d){d.MIN_VALUE=-2147483648,d.MAX_VALUE=2147483647})(t=e.integer||(e.integer={}));var n;(function(d){d.MIN_VALUE=0,d.MAX_VALUE=2147483647})(n=e.uinteger||(e.uinteger={}));var i;(function(d){function v(a,c){return a===Number.MAX_VALUE&&(a=n.MAX_VALUE),c===Number.MAX_VALUE&&(c=n.MAX_VALUE),{line:a,character:c}}d.create=v;function w(a){var c=a;return p.objectLiteral(c)&&p.uinteger(c.line)&&p.uinteger(c.character)}d.is=w})(i=e.Position||(e.Position={}));var s;(function(d){function v(a,c,C,T){if(p.uinteger(a)&&p.uinteger(c)&&p.uinteger(C)&&p.uinteger(T))return{start:i.create(a,c),end:i.create(C,T)};if(i.is(a)&&i.is(c))return{start:a,end:c};throw new Error("Range#create called with invalid arguments["+a+", "+c+", "+C+", "+T+"]")}d.create=v;function w(a){var c=a;return p.objectLiteral(c)&&i.is(c.start)&&i.is(c.end)}d.is=w})(s=e.Range||(e.Range={}));var o;(function(d){function v(a,c){return{uri:a,range:c}}d.create=v;function w(a){var c=a;return p.defined(c)&&s.is(c.range)&&(p.string(c.uri)||p.undefined(c.uri))}d.is=w})(o=e.Location||(e.Location={}));var f;(function(d){function v(a,c,C,T){return{targetUri:a,targetRange:c,targetSelectionRange:C,originSelectionRange:T}}d.create=v;function w(a){var c=a;return p.defined(c)&&s.is(c.targetRange)&&p.string(c.targetUri)&&(s.is(c.targetSelectionRange)||p.undefined(c.targetSelectionRange))&&(s.is(c.originSelectionRange)||p.undefined(c.originSelectionRange))}d.is=w})(f=e.LocationLink||(e.LocationLink={}));var l;(function(d){function v(a,c,C,T){return{red:a,green:c,blue:C,alpha:T}}d.create=v;function w(a){var c=a;return p.numberRange(c.red,0,1)&&p.numberRange(c.green,0,1)&&p.numberRange(c.blue,0,1)&&p.numberRange(c.alpha,0,1)}d.is=w})(l=e.Color||(e.Color={}));var g;(function(d){function v(a,c){return{range:a,color:c}}d.create=v;function w(a){var c=a;return s.is(c.range)&&l.is(c.color)}d.is=w})(g=e.ColorInformation||(e.ColorInformation={}));var m;(function(d){function v(a,c,C){return{label:a,textEdit:c,additionalTextEdits:C}}d.create=v;function w(a){var c=a;return p.string(c.label)&&(p.undefined(c.textEdit)||ne.is(c))&&(p.undefined(c.additionalTextEdits)||p.typedArray(c.additionalTextEdits,ne.is))}d.is=w})(m=e.ColorPresentation||(e.ColorPresentation={}));var _;(function(d){d.Comment="comment",d.Imports="imports",d.Region="region"})(_=e.FoldingRangeKind||(e.FoldingRangeKind={}));var R;(function(d){function v(a,c,C,T,K){var J={startLine:a,endLine:c};return p.defined(C)&&(J.startCharacter=C),p.defined(T)&&(J.endCharacter=T),p.defined(K)&&(J.kind=K),J}d.create=v;function w(a){var c=a;return p.uinteger(c.startLine)&&p.uinteger(c.startLine)&&(p.undefined(c.startCharacter)||p.uinteger(c.startCharacter))&&(p.undefined(c.endCharacter)||p.uinteger(c.endCharacter))&&(p.undefined(c.kind)||p.string(c.kind))}d.is=w})(R=e.FoldingRange||(e.FoldingRange={}));var P;(function(d){function v(a,c){return{location:a,message:c}}d.create=v;function w(a){var c=a;return p.defined(c)&&o.is(c.location)&&p.string(c.message)}d.is=w})(P=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var F;(function(d){d.Error=1,d.Warning=2,d.Information=3,d.Hint=4})(F=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var j;(function(d){d.Unnecessary=1,d.Deprecated=2})(j=e.DiagnosticTag||(e.DiagnosticTag={}));var Q;(function(d){function v(w){var a=w;return a!=null&&p.string(a.href)}d.is=v})(Q=e.CodeDescription||(e.CodeDescription={}));var U;(function(d){function v(a,c,C,T,K,J){var se={range:a,message:c};return p.defined(C)&&(se.severity=C),p.defined(T)&&(se.code=T),p.defined(K)&&(se.source=K),p.defined(J)&&(se.relatedInformation=J),se}d.create=v;function w(a){var c,C=a;return p.defined(C)&&s.is(C.range)&&p.string(C.message)&&(p.number(C.severity)||p.undefined(C.severity))&&(p.integer(C.code)||p.string(C.code)||p.undefined(C.code))&&(p.undefined(C.codeDescription)||p.string((c=C.codeDescription)===null||c===void 0?void 0:c.href))&&(p.string(C.source)||p.undefined(C.source))&&(p.undefined(C.relatedInformation)||p.typedArray(C.relatedInformation,P.is))}d.is=w})(U=e.Diagnostic||(e.Diagnostic={}));var B;(function(d){function v(a,c){for(var C=[],T=2;T<arguments.length;T++)C[T-2]=arguments[T];var K={title:a,command:c};return p.defined(C)&&C.length>0&&(K.arguments=C),K}d.create=v;function w(a){var c=a;return p.defined(c)&&p.string(c.title)&&p.string(c.command)}d.is=w})(B=e.Command||(e.Command={}));var ne;(function(d){function v(C,T){return{range:C,newText:T}}d.replace=v;function w(C,T){return{range:{start:C,end:C},newText:T}}d.insert=w;function a(C){return{range:C,newText:""}}d.del=a;function c(C){var T=C;return p.objectLiteral(T)&&p.string(T.newText)&&s.is(T.range)}d.is=c})(ne=e.TextEdit||(e.TextEdit={}));var Z;(function(d){function v(a,c,C){var T={label:a};return c!==void 0&&(T.needsConfirmation=c),C!==void 0&&(T.description=C),T}d.create=v;function w(a){var c=a;return c!==void 0&&p.objectLiteral(c)&&p.string(c.label)&&(p.boolean(c.needsConfirmation)||c.needsConfirmation===void 0)&&(p.string(c.description)||c.description===void 0)}d.is=w})(Z=e.ChangeAnnotation||(e.ChangeAnnotation={}));var ee;(function(d){function v(w){var a=w;return typeof a=="string"}d.is=v})(ee=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var S;(function(d){function v(C,T,K){return{range:C,newText:T,annotationId:K}}d.replace=v;function w(C,T,K){return{range:{start:C,end:C},newText:T,annotationId:K}}d.insert=w;function a(C,T){return{range:C,newText:"",annotationId:T}}d.del=a;function c(C){var T=C;return ne.is(T)&&(Z.is(T.annotationId)||ee.is(T.annotationId))}d.is=c})(S=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var E;(function(d){function v(a,c){return{textDocument:a,edits:c}}d.create=v;function w(a){var c=a;return p.defined(c)&&X.is(c.textDocument)&&Array.isArray(c.edits)}d.is=w})(E=e.TextDocumentEdit||(e.TextDocumentEdit={}));var k;(function(d){function v(a,c,C){var T={kind:"create",uri:a};return c!==void 0&&(c.overwrite!==void 0||c.ignoreIfExists!==void 0)&&(T.options=c),C!==void 0&&(T.annotationId=C),T}d.create=v;function w(a){var c=a;return c&&c.kind==="create"&&p.string(c.uri)&&(c.options===void 0||(c.options.overwrite===void 0||p.boolean(c.options.overwrite))&&(c.options.ignoreIfExists===void 0||p.boolean(c.options.ignoreIfExists)))&&(c.annotationId===void 0||ee.is(c.annotationId))}d.is=w})(k=e.CreateFile||(e.CreateFile={}));var O;(function(d){function v(a,c,C,T){var K={kind:"rename",oldUri:a,newUri:c};return C!==void 0&&(C.overwrite!==void 0||C.ignoreIfExists!==void 0)&&(K.options=C),T!==void 0&&(K.annotationId=T),K}d.create=v;function w(a){var c=a;return c&&c.kind==="rename"&&p.string(c.oldUri)&&p.string(c.newUri)&&(c.options===void 0||(c.options.overwrite===void 0||p.boolean(c.options.overwrite))&&(c.options.ignoreIfExists===void 0||p.boolean(c.options.ignoreIfExists)))&&(c.annotationId===void 0||ee.is(c.annotationId))}d.is=w})(O=e.RenameFile||(e.RenameFile={}));var N;(function(d){function v(a,c,C){var T={kind:"delete",uri:a};return c!==void 0&&(c.recursive!==void 0||c.ignoreIfNotExists!==void 0)&&(T.options=c),C!==void 0&&(T.annotationId=C),T}d.create=v;function w(a){var c=a;return c&&c.kind==="delete"&&p.string(c.uri)&&(c.options===void 0||(c.options.recursive===void 0||p.boolean(c.options.recursive))&&(c.options.ignoreIfNotExists===void 0||p.boolean(c.options.ignoreIfNotExists)))&&(c.annotationId===void 0||ee.is(c.annotationId))}d.is=w})(N=e.DeleteFile||(e.DeleteFile={}));var D;(function(d){function v(w){var a=w;return a&&(a.changes!==void 0||a.documentChanges!==void 0)&&(a.documentChanges===void 0||a.documentChanges.every(function(c){return p.string(c.kind)?k.is(c)||O.is(c)||N.is(c):E.is(c)}))}d.is=v})(D=e.WorkspaceEdit||(e.WorkspaceEdit={}));var x=function(){function d(v,w){this.edits=v,this.changeAnnotations=w}return d.prototype.insert=function(v,w,a){var c,C;if(a===void 0?c=ne.insert(v,w):ee.is(a)?(C=a,c=S.insert(v,w,a)):(this.assertChangeAnnotations(this.changeAnnotations),C=this.changeAnnotations.manage(a),c=S.insert(v,w,C)),this.edits.push(c),C!==void 0)return C},d.prototype.replace=function(v,w,a){var c,C;if(a===void 0?c=ne.replace(v,w):ee.is(a)?(C=a,c=S.replace(v,w,a)):(this.assertChangeAnnotations(this.changeAnnotations),C=this.changeAnnotations.manage(a),c=S.replace(v,w,C)),this.edits.push(c),C!==void 0)return C},d.prototype.delete=function(v,w){var a,c;if(w===void 0?a=ne.del(v):ee.is(w)?(c=w,a=S.del(v,w)):(this.assertChangeAnnotations(this.changeAnnotations),c=this.changeAnnotations.manage(w),a=S.del(v,c)),this.edits.push(a),c!==void 0)return c},d.prototype.add=function(v){this.edits.push(v)},d.prototype.all=function(){return this.edits},d.prototype.clear=function(){this.edits.splice(0,this.edits.length)},d.prototype.assertChangeAnnotations=function(v){if(v===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},d}(),M=function(){function d(v){this._annotations=v===void 0?Object.create(null):v,this._counter=0,this._size=0}return d.prototype.all=function(){return this._annotations},Object.defineProperty(d.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),d.prototype.manage=function(v,w){var a;if(ee.is(v)?a=v:(a=this.nextId(),w=v),this._annotations[a]!==void 0)throw new Error("Id "+a+" is already in use.");if(w===void 0)throw new Error("No annotation provided for id "+a);return this._annotations[a]=w,this._size++,a},d.prototype.nextId=function(){return this._counter++,this._counter.toString()},d}(),H=function(){function d(v){var w=this;this._textEditChanges=Object.create(null),v!==void 0?(this._workspaceEdit=v,v.documentChanges?(this._changeAnnotations=new M(v.changeAnnotations),v.changeAnnotations=this._changeAnnotations.all(),v.documentChanges.forEach(function(a){if(E.is(a)){var c=new x(a.edits,w._changeAnnotations);w._textEditChanges[a.textDocument.uri]=c}})):v.changes&&Object.keys(v.changes).forEach(function(a){var c=new x(v.changes[a]);w._textEditChanges[a]=c})):this._workspaceEdit={}}return Object.defineProperty(d.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),d.prototype.getTextEditChange=function(v){if(X.is(v)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var w={uri:v.uri,version:v.version},a=this._textEditChanges[w.uri];if(!a){var c=[],C={textDocument:w,edits:c};this._workspaceEdit.documentChanges.push(C),a=new x(c,this._changeAnnotations),this._textEditChanges[w.uri]=a}return a}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var a=this._textEditChanges[v];if(!a){var c=[];this._workspaceEdit.changes[v]=c,a=new x(c),this._textEditChanges[v]=a}return a}},d.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new M,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},d.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},d.prototype.createFile=function(v,w,a){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var c;Z.is(w)||ee.is(w)?c=w:a=w;var C,T;if(c===void 0?C=k.create(v,a):(T=ee.is(c)?c:this._changeAnnotations.manage(c),C=k.create(v,a,T)),this._workspaceEdit.documentChanges.push(C),T!==void 0)return T},d.prototype.renameFile=function(v,w,a,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var C;Z.is(a)||ee.is(a)?C=a:c=a;var T,K;if(C===void 0?T=O.create(v,w,c):(K=ee.is(C)?C:this._changeAnnotations.manage(C),T=O.create(v,w,c,K)),this._workspaceEdit.documentChanges.push(T),K!==void 0)return K},d.prototype.deleteFile=function(v,w,a){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var c;Z.is(w)||ee.is(w)?c=w:a=w;var C,T;if(c===void 0?C=N.create(v,a):(T=ee.is(c)?c:this._changeAnnotations.manage(c),C=N.create(v,a,T)),this._workspaceEdit.documentChanges.push(C),T!==void 0)return T},d}();e.WorkspaceChange=H;var ie;(function(d){function v(a){return{uri:a}}d.create=v;function w(a){var c=a;return p.defined(c)&&p.string(c.uri)}d.is=w})(ie=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var re;(function(d){function v(a,c){return{uri:a,version:c}}d.create=v;function w(a){var c=a;return p.defined(c)&&p.string(c.uri)&&p.integer(c.version)}d.is=w})(re=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var X;(function(d){function v(a,c){return{uri:a,version:c}}d.create=v;function w(a){var c=a;return p.defined(c)&&p.string(c.uri)&&(c.version===null||p.integer(c.version))}d.is=w})(X=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var We;(function(d){function v(a,c,C,T){return{uri:a,languageId:c,version:C,text:T}}d.create=v;function w(a){var c=a;return p.defined(c)&&p.string(c.uri)&&p.string(c.languageId)&&p.integer(c.version)&&p.string(c.text)}d.is=w})(We=e.TextDocumentItem||(e.TextDocumentItem={}));var ve;(function(d){d.PlainText="plaintext",d.Markdown="markdown"})(ve=e.MarkupKind||(e.MarkupKind={})),function(d){function v(w){var a=w;return a===d.PlainText||a===d.Markdown}d.is=v}(ve=e.MarkupKind||(e.MarkupKind={}));var Fe;(function(d){function v(w){var a=w;return p.objectLiteral(w)&&ve.is(a.kind)&&p.string(a.value)}d.is=v})(Fe=e.MarkupContent||(e.MarkupContent={}));var Ge;(function(d){d.Text=1,d.Method=2,d.Function=3,d.Constructor=4,d.Field=5,d.Variable=6,d.Class=7,d.Interface=8,d.Module=9,d.Property=10,d.Unit=11,d.Value=12,d.Enum=13,d.Keyword=14,d.Snippet=15,d.Color=16,d.File=17,d.Reference=18,d.Folder=19,d.EnumMember=20,d.Constant=21,d.Struct=22,d.Event=23,d.Operator=24,d.TypeParameter=25})(Ge=e.CompletionItemKind||(e.CompletionItemKind={}));var Qe;(function(d){d.PlainText=1,d.Snippet=2})(Qe=e.InsertTextFormat||(e.InsertTextFormat={}));var jt;(function(d){d.Deprecated=1})(jt=e.CompletionItemTag||(e.CompletionItemTag={}));var Kt;(function(d){function v(a,c,C){return{newText:a,insert:c,replace:C}}d.create=v;function w(a){var c=a;return c&&p.string(c.newText)&&s.is(c.insert)&&s.is(c.replace)}d.is=w})(Kt=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Pt;(function(d){d.asIs=1,d.adjustIndentation=2})(Pt=e.InsertTextMode||(e.InsertTextMode={}));var St;(function(d){function v(w){return{label:w}}d.create=v})(St=e.CompletionItem||(e.CompletionItem={}));var Ct;(function(d){function v(w,a){return{items:w||[],isIncomplete:!!a}}d.create=v})(Ct=e.CompletionList||(e.CompletionList={}));var _t;(function(d){function v(a){return a.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}d.fromPlainText=v;function w(a){var c=a;return p.string(c)||p.objectLiteral(c)&&p.string(c.language)&&p.string(c.value)}d.is=w})(_t=e.MarkedString||(e.MarkedString={}));var Et;(function(d){function v(w){var a=w;return!!a&&p.objectLiteral(a)&&(Fe.is(a.contents)||_t.is(a.contents)||p.typedArray(a.contents,_t.is))&&(w.range===void 0||s.is(w.range))}d.is=v})(Et=e.Hover||(e.Hover={}));var Ht;(function(d){function v(w,a){return a?{label:w,documentation:a}:{label:w}}d.create=v})(Ht=e.ParameterInformation||(e.ParameterInformation={}));var Xt;(function(d){function v(w,a){for(var c=[],C=2;C<arguments.length;C++)c[C-2]=arguments[C];var T={label:w};return p.defined(a)&&(T.documentation=a),p.defined(c)?T.parameters=c:T.parameters=[],T}d.create=v})(Xt=e.SignatureInformation||(e.SignatureInformation={}));var et;(function(d){d.Text=1,d.Read=2,d.Write=3})(et=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Wt;(function(d){function v(w,a){var c={range:w};return p.number(a)&&(c.kind=a),c}d.create=v})(Wt=e.DocumentHighlight||(e.DocumentHighlight={}));var tt;(function(d){d.File=1,d.Module=2,d.Namespace=3,d.Package=4,d.Class=5,d.Method=6,d.Property=7,d.Field=8,d.Constructor=9,d.Enum=10,d.Interface=11,d.Function=12,d.Variable=13,d.Constant=14,d.String=15,d.Number=16,d.Boolean=17,d.Array=18,d.Object=19,d.Key=20,d.Null=21,d.EnumMember=22,d.Struct=23,d.Event=24,d.Operator=25,d.TypeParameter=26})(tt=e.SymbolKind||(e.SymbolKind={}));var Zt;(function(d){d.Deprecated=1})(Zt=e.SymbolTag||(e.SymbolTag={}));var ke;(function(d){function v(w,a,c,C,T){var K={name:w,kind:a,location:{uri:C,range:c}};return T&&(K.containerName=T),K}d.create=v})(ke=e.SymbolInformation||(e.SymbolInformation={}));var Ve;(function(d){function v(a,c,C,T,K,J){var se={name:a,detail:c,kind:C,range:T,selectionRange:K};return J!==void 0&&(se.children=J),se}d.create=v;function w(a){var c=a;return c&&p.string(c.name)&&p.number(c.kind)&&s.is(c.range)&&s.is(c.selectionRange)&&(c.detail===void 0||p.string(c.detail))&&(c.deprecated===void 0||p.boolean(c.deprecated))&&(c.children===void 0||Array.isArray(c.children))&&(c.tags===void 0||Array.isArray(c.tags))}d.is=w})(Ve=e.DocumentSymbol||(e.DocumentSymbol={}));var Ut;(function(d){d.Empty="",d.QuickFix="quickfix",d.Refactor="refactor",d.RefactorExtract="refactor.extract",d.RefactorInline="refactor.inline",d.RefactorRewrite="refactor.rewrite",d.Source="source",d.SourceOrganizeImports="source.organizeImports",d.SourceFixAll="source.fixAll"})(Ut=e.CodeActionKind||(e.CodeActionKind={}));var Yt;(function(d){function v(a,c){var C={diagnostics:a};return c!=null&&(C.only=c),C}d.create=v;function w(a){var c=a;return p.defined(c)&&p.typedArray(c.diagnostics,U.is)&&(c.only===void 0||p.typedArray(c.only,p.string))}d.is=w})(Yt=e.CodeActionContext||(e.CodeActionContext={}));var nt;(function(d){function v(a,c,C){var T={title:a},K=!0;return typeof c=="string"?(K=!1,T.kind=c):B.is(c)?T.command=c:T.edit=c,K&&C!==void 0&&(T.kind=C),T}d.create=v;function w(a){var c=a;return c&&p.string(c.title)&&(c.diagnostics===void 0||p.typedArray(c.diagnostics,U.is))&&(c.kind===void 0||p.string(c.kind))&&(c.edit!==void 0||c.command!==void 0)&&(c.command===void 0||B.is(c.command))&&(c.isPreferred===void 0||p.boolean(c.isPreferred))&&(c.edit===void 0||D.is(c.edit))}d.is=w})(nt=e.CodeAction||(e.CodeAction={}));var zt;(function(d){function v(a,c){var C={range:a};return p.defined(c)&&(C.data=c),C}d.create=v;function w(a){var c=a;return p.defined(c)&&s.is(c.range)&&(p.undefined(c.command)||B.is(c.command))}d.is=w})(zt=e.CodeLens||(e.CodeLens={}));var kt;(function(d){function v(a,c){return{tabSize:a,insertSpaces:c}}d.create=v;function w(a){var c=a;return p.defined(c)&&p.uinteger(c.tabSize)&&p.boolean(c.insertSpaces)}d.is=w})(kt=e.FormattingOptions||(e.FormattingOptions={}));var rt;(function(d){function v(a,c,C){return{range:a,target:c,data:C}}d.create=v;function w(a){var c=a;return p.defined(c)&&s.is(c.range)&&(p.undefined(c.target)||p.string(c.target))}d.is=w})(rt=e.DocumentLink||(e.DocumentLink={}));var xt;(function(d){function v(a,c){return{range:a,parent:c}}d.create=v;function w(a){var c=a;return c!==void 0&&s.is(c.range)&&(c.parent===void 0||d.is(c.parent))}d.is=w})(xt=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var it;(function(d){function v(C,T,K,J){return new b(C,T,K,J)}d.create=v;function w(C){var T=C;return!!(p.defined(T)&&p.string(T.uri)&&(p.undefined(T.languageId)||p.string(T.languageId))&&p.uinteger(T.lineCount)&&p.func(T.getText)&&p.func(T.positionAt)&&p.func(T.offsetAt))}d.is=w;function a(C,T){for(var K=C.getText(),J=c(T,function($t,en){var ir=$t.range.start.line-en.range.start.line;return ir===0?$t.range.start.character-en.range.start.character:ir}),se=K.length,me=J.length-1;me>=0;me--){var xe=J[me],qe=C.offsetAt(xe.range.start),le=C.offsetAt(xe.range.end);if(le<=se)K=K.substring(0,qe)+xe.newText+K.substring(le,K.length);else throw new Error("Overlapping edit");se=qe}return K}d.applyEdits=a;function c(C,T){if(C.length<=1)return C;var K=C.length/2|0,J=C.slice(0,K),se=C.slice(K);c(J,T),c(se,T);for(var me=0,xe=0,qe=0;me<J.length&&xe<se.length;){var le=T(J[me],se[xe]);le<=0?C[qe++]=J[me++]:C[qe++]=se[xe++]}for(;me<J.length;)C[qe++]=J[me++];for(;xe<se.length;)C[qe++]=se[xe++];return C}})(it=e.TextDocument||(e.TextDocument={}));var b=function(){function d(v,w,a,c){this._uri=v,this._languageId=w,this._version=a,this._content=c,this._lineOffsets=void 0}return Object.defineProperty(d.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),d.prototype.getText=function(v){if(v){var w=this.offsetAt(v.start),a=this.offsetAt(v.end);return this._content.substring(w,a)}return this._content},d.prototype.update=function(v,w){this._content=v.text,this._version=w,this._lineOffsets=void 0},d.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var v=[],w=this._content,a=!0,c=0;c<w.length;c++){a&&(v.push(c),a=!1);var C=w.charAt(c);a=C==="\r"||C===`
`,C==="\r"&&c+1<w.length&&w.charAt(c+1)===`
`&&c++}a&&w.length>0&&v.push(w.length),this._lineOffsets=v}return this._lineOffsets},d.prototype.positionAt=function(v){v=Math.max(Math.min(v,this._content.length),0);var w=this.getLineOffsets(),a=0,c=w.length;if(c===0)return i.create(0,v);for(;a<c;){var C=Math.floor((a+c)/2);w[C]>v?c=C:a=C+1}var T=a-1;return i.create(T,v-w[T])},d.prototype.offsetAt=function(v){var w=this.getLineOffsets();if(v.line>=w.length)return this._content.length;if(v.line<0)return 0;var a=w[v.line],c=v.line+1<w.length?w[v.line+1]:this._content.length;return Math.max(Math.min(a+v.character,c),a)},Object.defineProperty(d.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),d}(),p;(function(d){var v=Object.prototype.toString;function w(le){return typeof le<"u"}d.defined=w;function a(le){return typeof le>"u"}d.undefined=a;function c(le){return le===!0||le===!1}d.boolean=c;function C(le){return v.call(le)==="[object String]"}d.string=C;function T(le){return v.call(le)==="[object Number]"}d.number=T;function K(le,$t,en){return v.call(le)==="[object Number]"&&$t<=le&&le<=en}d.numberRange=K;function J(le){return v.call(le)==="[object Number]"&&-2147483648<=le&&le<=2147483647}d.integer=J;function se(le){return v.call(le)==="[object Number]"&&0<=le&&le<=2147483647}d.uinteger=se;function me(le){return v.call(le)==="[object Function]"}d.func=me;function xe(le){return le!==null&&typeof le=="object"}d.objectLiteral=xe;function qe(le,$t){return Array.isArray(le)&&le.every($t)}d.typedArray=qe})(p||(p={}))})});var Ke=A(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.ProtocolNotificationType=st.ProtocolNotificationType0=st.ProtocolRequestType=st.ProtocolRequestType0=st.RegistrationType=void 0;var Tn=Mt(),go=class{constructor(e){this.method=e}};st.RegistrationType=go;var ho=class extends Tn.RequestType0{constructor(e){super(e)}};st.ProtocolRequestType0=ho;var mo=class extends Tn.RequestType{constructor(e){super(e,Tn.ParameterStructures.byName)}};st.ProtocolRequestType=mo;var po=class extends Tn.NotificationType0{constructor(e){super(e)}};st.ProtocolNotificationType0=po;var vo=class extends Tn.NotificationType{constructor(e){super(e,Tn.ParameterStructures.byName)}};st.ProtocolNotificationType=vo});var wr=A(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.objectLiteral=Ne.typedArray=Ne.stringArray=Ne.array=Ne.func=Ne.error=Ne.number=Ne.string=Ne.boolean=void 0;function pd(r){return r===!0||r===!1}Ne.boolean=pd;function Ma(r){return typeof r=="string"||r instanceof String}Ne.string=Ma;function vd(r){return typeof r=="number"||r instanceof Number}Ne.number=vd;function yd(r){return r instanceof Error}Ne.error=yd;function Cd(r){return typeof r=="function"}Ne.func=Cd;function Na(r){return Array.isArray(r)}Ne.array=Na;function _d(r){return Na(r)&&r.every(e=>Ma(e))}Ne.stringArray=_d;function bd(r,e){return Array.isArray(r)&&r.every(e)}Ne.typedArray=bd;function wd(r){return r!==null&&typeof r=="object"}Ne.objectLiteral=wd});var La=A(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.ImplementationRequest=void 0;var Dd=Ke(),Rd;(function(r){r.method="textDocument/implementation",r.type=new Dd.ProtocolRequestType(r.method)})(Rd=Hn.ImplementationRequest||(Hn.ImplementationRequest={}))});var Aa=A(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.TypeDefinitionRequest=void 0;var Td=Ke(),Pd;(function(r){r.method="textDocument/typeDefinition",r.type=new Td.ProtocolRequestType(r.method)})(Pd=Wn.TypeDefinitionRequest||(Wn.TypeDefinitionRequest={}))});var Ka=A(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.DidChangeWorkspaceFoldersNotification=Bt.WorkspaceFoldersRequest=void 0;var ja=Ke(),Sd;(function(r){r.type=new ja.ProtocolRequestType0("workspace/workspaceFolders")})(Sd=Bt.WorkspaceFoldersRequest||(Bt.WorkspaceFoldersRequest={}));var Ed;(function(r){r.type=new ja.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(Ed=Bt.DidChangeWorkspaceFoldersNotification||(Bt.DidChangeWorkspaceFoldersNotification={}))});var Ha=A(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.ConfigurationRequest=void 0;var kd=Ke(),xd;(function(r){r.type=new kd.ProtocolRequestType("workspace/configuration")})(xd=Un.ConfigurationRequest||(Un.ConfigurationRequest={}))});var Ua=A(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.ColorPresentationRequest=Gt.DocumentColorRequest=void 0;var Wa=Ke(),qd;(function(r){r.method="textDocument/documentColor",r.type=new Wa.ProtocolRequestType(r.method)})(qd=Gt.DocumentColorRequest||(Gt.DocumentColorRequest={}));var Od;(function(r){r.type=new Wa.ProtocolRequestType("textDocument/colorPresentation")})(Od=Gt.ColorPresentationRequest||(Gt.ColorPresentationRequest={}))});var za=A(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.FoldingRangeRequest=Qt.FoldingRangeKind=void 0;var Id=Ke(),Fd;(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(Fd=Qt.FoldingRangeKind||(Qt.FoldingRangeKind={}));var Md;(function(r){r.method="textDocument/foldingRange",r.type=new Id.ProtocolRequestType(r.method)})(Md=Qt.FoldingRangeRequest||(Qt.FoldingRangeRequest={}))});var $a=A(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.DeclarationRequest=void 0;var Nd=Ke(),Ld;(function(r){r.method="textDocument/declaration",r.type=new Nd.ProtocolRequestType(r.method)})(Ld=zn.DeclarationRequest||(zn.DeclarationRequest={}))});var Ja=A($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.SelectionRangeRequest=void 0;var Ad=Ke(),jd;(function(r){r.method="textDocument/selectionRange",r.type=new Ad.ProtocolRequestType(r.method)})(jd=$n.SelectionRangeRequest||($n.SelectionRangeRequest={}))});var Ga=A(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.WorkDoneProgressCancelNotification=lt.WorkDoneProgressCreateRequest=lt.WorkDoneProgress=void 0;var Kd=Mt(),Ba=Ke(),Hd;(function(r){r.type=new Kd.ProgressType;function e(t){return t===r.type}r.is=e})(Hd=lt.WorkDoneProgress||(lt.WorkDoneProgress={}));var Wd;(function(r){r.type=new Ba.ProtocolRequestType("window/workDoneProgress/create")})(Wd=lt.WorkDoneProgressCreateRequest||(lt.WorkDoneProgressCreateRequest={}));var Ud;(function(r){r.type=new Ba.ProtocolNotificationType("window/workDoneProgress/cancel")})(Ud=lt.WorkDoneProgressCancelNotification||(lt.WorkDoneProgressCancelNotification={}))});var Qa=A(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.CallHierarchyOutgoingCallsRequest=ft.CallHierarchyIncomingCallsRequest=ft.CallHierarchyPrepareRequest=void 0;var yo=Ke(),zd;(function(r){r.method="textDocument/prepareCallHierarchy",r.type=new yo.ProtocolRequestType(r.method)})(zd=ft.CallHierarchyPrepareRequest||(ft.CallHierarchyPrepareRequest={}));var $d;(function(r){r.method="callHierarchy/incomingCalls",r.type=new yo.ProtocolRequestType(r.method)})($d=ft.CallHierarchyIncomingCallsRequest||(ft.CallHierarchyIncomingCallsRequest={}));var Jd;(function(r){r.method="callHierarchy/outgoingCalls",r.type=new yo.ProtocolRequestType(r.method)})(Jd=ft.CallHierarchyOutgoingCallsRequest||(ft.CallHierarchyOutgoingCallsRequest={}))});var Va=A(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.SemanticTokensRefreshRequest=pe.SemanticTokensRangeRequest=pe.SemanticTokensDeltaRequest=pe.SemanticTokensRequest=pe.SemanticTokensRegistrationType=pe.TokenFormat=pe.SemanticTokens=pe.SemanticTokenModifiers=pe.SemanticTokenTypes=void 0;var Jn=Ke(),Bd;(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator"})(Bd=pe.SemanticTokenTypes||(pe.SemanticTokenTypes={}));var Gd;(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(Gd=pe.SemanticTokenModifiers||(pe.SemanticTokenModifiers={}));var Qd;(function(r){function e(t){let n=t;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(Qd=pe.SemanticTokens||(pe.SemanticTokens={}));var Vd;(function(r){r.Relative="relative"})(Vd=pe.TokenFormat||(pe.TokenFormat={}));var Xd;(function(r){r.method="textDocument/semanticTokens",r.type=new Jn.RegistrationType(r.method)})(Xd=pe.SemanticTokensRegistrationType||(pe.SemanticTokensRegistrationType={}));var Zd;(function(r){r.method="textDocument/semanticTokens/full",r.type=new Jn.ProtocolRequestType(r.method)})(Zd=pe.SemanticTokensRequest||(pe.SemanticTokensRequest={}));var Yd;(function(r){r.method="textDocument/semanticTokens/full/delta",r.type=new Jn.ProtocolRequestType(r.method)})(Yd=pe.SemanticTokensDeltaRequest||(pe.SemanticTokensDeltaRequest={}));var el;(function(r){r.method="textDocument/semanticTokens/range",r.type=new Jn.ProtocolRequestType(r.method)})(el=pe.SemanticTokensRangeRequest||(pe.SemanticTokensRangeRequest={}));var tl;(function(r){r.method="workspace/semanticTokens/refresh",r.type=new Jn.ProtocolRequestType0(r.method)})(tl=pe.SemanticTokensRefreshRequest||(pe.SemanticTokensRefreshRequest={}))});var Xa=A(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.ShowDocumentRequest=void 0;var nl=Ke(),rl;(function(r){r.method="window/showDocument",r.type=new nl.ProtocolRequestType(r.method)})(rl=Bn.ShowDocumentRequest||(Bn.ShowDocumentRequest={}))});var Za=A(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.LinkedEditingRangeRequest=void 0;var il=Ke(),ol;(function(r){r.method="textDocument/linkedEditingRange",r.type=new il.ProtocolRequestType(r.method)})(ol=Gn.LinkedEditingRangeRequest||(Gn.LinkedEditingRangeRequest={}))});var Ya=A(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.WillDeleteFilesRequest=Pe.DidDeleteFilesNotification=Pe.DidRenameFilesNotification=Pe.WillRenameFilesRequest=Pe.DidCreateFilesNotification=Pe.WillCreateFilesRequest=Pe.FileOperationPatternKind=void 0;var Pn=Ke(),sl;(function(r){r.file="file",r.folder="folder"})(sl=Pe.FileOperationPatternKind||(Pe.FileOperationPatternKind={}));var al;(function(r){r.method="workspace/willCreateFiles",r.type=new Pn.ProtocolRequestType(r.method)})(al=Pe.WillCreateFilesRequest||(Pe.WillCreateFilesRequest={}));var cl;(function(r){r.method="workspace/didCreateFiles",r.type=new Pn.ProtocolNotificationType(r.method)})(cl=Pe.DidCreateFilesNotification||(Pe.DidCreateFilesNotification={}));var ul;(function(r){r.method="workspace/willRenameFiles",r.type=new Pn.ProtocolRequestType(r.method)})(ul=Pe.WillRenameFilesRequest||(Pe.WillRenameFilesRequest={}));var dl;(function(r){r.method="workspace/didRenameFiles",r.type=new Pn.ProtocolNotificationType(r.method)})(dl=Pe.DidRenameFilesNotification||(Pe.DidRenameFilesNotification={}));var ll;(function(r){r.method="workspace/didDeleteFiles",r.type=new Pn.ProtocolNotificationType(r.method)})(ll=Pe.DidDeleteFilesNotification||(Pe.DidDeleteFilesNotification={}));var fl;(function(r){r.method="workspace/willDeleteFiles",r.type=new Pn.ProtocolRequestType(r.method)})(fl=Pe.WillDeleteFilesRequest||(Pe.WillDeleteFilesRequest={}))});var ec=A(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.MonikerRequest=gt.MonikerKind=gt.UniquenessLevel=void 0;var gl=Ke(),hl;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(hl=gt.UniquenessLevel||(gt.UniquenessLevel={}));var ml;(function(r){r.import="import",r.export="export",r.local="local"})(ml=gt.MonikerKind||(gt.MonikerKind={}));var pl;(function(r){r.method="textDocument/moniker",r.type=new gl.ProtocolRequestType(r.method)})(pl=gt.MonikerRequest||(gt.MonikerRequest={}))});var oc=A(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.DocumentLinkRequest=h.CodeLensRefreshRequest=h.CodeLensResolveRequest=h.CodeLensRequest=h.WorkspaceSymbolRequest=h.CodeActionResolveRequest=h.CodeActionRequest=h.DocumentSymbolRequest=h.DocumentHighlightRequest=h.ReferencesRequest=h.DefinitionRequest=h.SignatureHelpRequest=h.SignatureHelpTriggerKind=h.HoverRequest=h.CompletionResolveRequest=h.CompletionRequest=h.CompletionTriggerKind=h.PublishDiagnosticsNotification=h.WatchKind=h.FileChangeType=h.DidChangeWatchedFilesNotification=h.WillSaveTextDocumentWaitUntilRequest=h.WillSaveTextDocumentNotification=h.TextDocumentSaveReason=h.DidSaveTextDocumentNotification=h.DidCloseTextDocumentNotification=h.DidChangeTextDocumentNotification=h.TextDocumentContentChangeEvent=h.DidOpenTextDocumentNotification=h.TextDocumentSyncKind=h.TelemetryEventNotification=h.LogMessageNotification=h.ShowMessageRequest=h.ShowMessageNotification=h.MessageType=h.DidChangeConfigurationNotification=h.ExitNotification=h.ShutdownRequest=h.InitializedNotification=h.InitializeError=h.InitializeRequest=h.WorkDoneProgressOptions=h.TextDocumentRegistrationOptions=h.StaticRegistrationOptions=h.FailureHandlingKind=h.ResourceOperationKind=h.UnregistrationRequest=h.RegistrationRequest=h.DocumentSelector=h.DocumentFilter=void 0;h.MonikerRequest=h.MonikerKind=h.UniquenessLevel=h.WillDeleteFilesRequest=h.DidDeleteFilesNotification=h.WillRenameFilesRequest=h.DidRenameFilesNotification=h.WillCreateFilesRequest=h.DidCreateFilesNotification=h.FileOperationPatternKind=h.LinkedEditingRangeRequest=h.ShowDocumentRequest=h.SemanticTokensRegistrationType=h.SemanticTokensRefreshRequest=h.SemanticTokensRangeRequest=h.SemanticTokensDeltaRequest=h.SemanticTokensRequest=h.TokenFormat=h.SemanticTokens=h.SemanticTokenModifiers=h.SemanticTokenTypes=h.CallHierarchyPrepareRequest=h.CallHierarchyOutgoingCallsRequest=h.CallHierarchyIncomingCallsRequest=h.WorkDoneProgressCancelNotification=h.WorkDoneProgressCreateRequest=h.WorkDoneProgress=h.SelectionRangeRequest=h.DeclarationRequest=h.FoldingRangeRequest=h.ColorPresentationRequest=h.DocumentColorRequest=h.ConfigurationRequest=h.DidChangeWorkspaceFoldersNotification=h.WorkspaceFoldersRequest=h.TypeDefinitionRequest=h.ImplementationRequest=h.ApplyWorkspaceEditRequest=h.ExecuteCommandRequest=h.PrepareRenameRequest=h.RenameRequest=h.PrepareSupportDefaultBehavior=h.DocumentOnTypeFormattingRequest=h.DocumentRangeFormattingRequest=h.DocumentFormattingRequest=h.DocumentLinkResolveRequest=void 0;var Vt=wr(),ae=Ke(),vl=La();Object.defineProperty(h,"ImplementationRequest",{enumerable:!0,get:function(){return vl.ImplementationRequest}});var yl=Aa();Object.defineProperty(h,"TypeDefinitionRequest",{enumerable:!0,get:function(){return yl.TypeDefinitionRequest}});var tc=Ka();Object.defineProperty(h,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return tc.WorkspaceFoldersRequest}});Object.defineProperty(h,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return tc.DidChangeWorkspaceFoldersNotification}});var Cl=Ha();Object.defineProperty(h,"ConfigurationRequest",{enumerable:!0,get:function(){return Cl.ConfigurationRequest}});var nc=Ua();Object.defineProperty(h,"DocumentColorRequest",{enumerable:!0,get:function(){return nc.DocumentColorRequest}});Object.defineProperty(h,"ColorPresentationRequest",{enumerable:!0,get:function(){return nc.ColorPresentationRequest}});var _l=za();Object.defineProperty(h,"FoldingRangeRequest",{enumerable:!0,get:function(){return _l.FoldingRangeRequest}});var bl=$a();Object.defineProperty(h,"DeclarationRequest",{enumerable:!0,get:function(){return bl.DeclarationRequest}});var wl=Ja();Object.defineProperty(h,"SelectionRangeRequest",{enumerable:!0,get:function(){return wl.SelectionRangeRequest}});var Co=Ga();Object.defineProperty(h,"WorkDoneProgress",{enumerable:!0,get:function(){return Co.WorkDoneProgress}});Object.defineProperty(h,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Co.WorkDoneProgressCreateRequest}});Object.defineProperty(h,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Co.WorkDoneProgressCancelNotification}});var _o=Qa();Object.defineProperty(h,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return _o.CallHierarchyIncomingCallsRequest}});Object.defineProperty(h,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return _o.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(h,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return _o.CallHierarchyPrepareRequest}});var Nt=Va();Object.defineProperty(h,"SemanticTokenTypes",{enumerable:!0,get:function(){return Nt.SemanticTokenTypes}});Object.defineProperty(h,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Nt.SemanticTokenModifiers}});Object.defineProperty(h,"SemanticTokens",{enumerable:!0,get:function(){return Nt.SemanticTokens}});Object.defineProperty(h,"TokenFormat",{enumerable:!0,get:function(){return Nt.TokenFormat}});Object.defineProperty(h,"SemanticTokensRequest",{enumerable:!0,get:function(){return Nt.SemanticTokensRequest}});Object.defineProperty(h,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Nt.SemanticTokensDeltaRequest}});Object.defineProperty(h,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Nt.SemanticTokensRangeRequest}});Object.defineProperty(h,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Nt.SemanticTokensRefreshRequest}});Object.defineProperty(h,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Nt.SemanticTokensRegistrationType}});var Dl=Xa();Object.defineProperty(h,"ShowDocumentRequest",{enumerable:!0,get:function(){return Dl.ShowDocumentRequest}});var Rl=Za();Object.defineProperty(h,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Rl.LinkedEditingRangeRequest}});var an=Ya();Object.defineProperty(h,"FileOperationPatternKind",{enumerable:!0,get:function(){return an.FileOperationPatternKind}});Object.defineProperty(h,"DidCreateFilesNotification",{enumerable:!0,get:function(){return an.DidCreateFilesNotification}});Object.defineProperty(h,"WillCreateFilesRequest",{enumerable:!0,get:function(){return an.WillCreateFilesRequest}});Object.defineProperty(h,"DidRenameFilesNotification",{enumerable:!0,get:function(){return an.DidRenameFilesNotification}});Object.defineProperty(h,"WillRenameFilesRequest",{enumerable:!0,get:function(){return an.WillRenameFilesRequest}});Object.defineProperty(h,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return an.DidDeleteFilesNotification}});Object.defineProperty(h,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return an.WillDeleteFilesRequest}});var bo=ec();Object.defineProperty(h,"UniquenessLevel",{enumerable:!0,get:function(){return bo.UniquenessLevel}});Object.defineProperty(h,"MonikerKind",{enumerable:!0,get:function(){return bo.MonikerKind}});Object.defineProperty(h,"MonikerRequest",{enumerable:!0,get:function(){return bo.MonikerRequest}});var rc;(function(r){function e(t){let n=t;return Vt.string(n.language)||Vt.string(n.scheme)||Vt.string(n.pattern)}r.is=e})(rc=h.DocumentFilter||(h.DocumentFilter={}));var ic;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!Vt.string(n)&&!rc.is(n))return!1;return!0}r.is=e})(ic=h.DocumentSelector||(h.DocumentSelector={}));var Tl;(function(r){r.type=new ae.ProtocolRequestType("client/registerCapability")})(Tl=h.RegistrationRequest||(h.RegistrationRequest={}));var Pl;(function(r){r.type=new ae.ProtocolRequestType("client/unregisterCapability")})(Pl=h.UnregistrationRequest||(h.UnregistrationRequest={}));var Sl;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(Sl=h.ResourceOperationKind||(h.ResourceOperationKind={}));var El;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(El=h.FailureHandlingKind||(h.FailureHandlingKind={}));var kl;(function(r){function e(t){let n=t;return n&&Vt.string(n.id)&&n.id.length>0}r.hasId=e})(kl=h.StaticRegistrationOptions||(h.StaticRegistrationOptions={}));var xl;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||ic.is(n.documentSelector))}r.is=e})(xl=h.TextDocumentRegistrationOptions||(h.TextDocumentRegistrationOptions={}));var ql;(function(r){function e(n){let i=n;return Vt.objectLiteral(i)&&(i.workDoneProgress===void 0||Vt.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&Vt.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(ql=h.WorkDoneProgressOptions||(h.WorkDoneProgressOptions={}));var Ol;(function(r){r.type=new ae.ProtocolRequestType("initialize")})(Ol=h.InitializeRequest||(h.InitializeRequest={}));var Il;(function(r){r.unknownProtocolVersion=1})(Il=h.InitializeError||(h.InitializeError={}));var Fl;(function(r){r.type=new ae.ProtocolNotificationType("initialized")})(Fl=h.InitializedNotification||(h.InitializedNotification={}));var Ml;(function(r){r.type=new ae.ProtocolRequestType0("shutdown")})(Ml=h.ShutdownRequest||(h.ShutdownRequest={}));var Nl;(function(r){r.type=new ae.ProtocolNotificationType0("exit")})(Nl=h.ExitNotification||(h.ExitNotification={}));var Ll;(function(r){r.type=new ae.ProtocolNotificationType("workspace/didChangeConfiguration")})(Ll=h.DidChangeConfigurationNotification||(h.DidChangeConfigurationNotification={}));var Al;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4})(Al=h.MessageType||(h.MessageType={}));var jl;(function(r){r.type=new ae.ProtocolNotificationType("window/showMessage")})(jl=h.ShowMessageNotification||(h.ShowMessageNotification={}));var Kl;(function(r){r.type=new ae.ProtocolRequestType("window/showMessageRequest")})(Kl=h.ShowMessageRequest||(h.ShowMessageRequest={}));var Hl;(function(r){r.type=new ae.ProtocolNotificationType("window/logMessage")})(Hl=h.LogMessageNotification||(h.LogMessageNotification={}));var Wl;(function(r){r.type=new ae.ProtocolNotificationType("telemetry/event")})(Wl=h.TelemetryEventNotification||(h.TelemetryEventNotification={}));var Ul;(function(r){r.None=0,r.Full=1,r.Incremental=2})(Ul=h.TextDocumentSyncKind||(h.TextDocumentSyncKind={}));var zl;(function(r){r.method="textDocument/didOpen",r.type=new ae.ProtocolNotificationType(r.method)})(zl=h.DidOpenTextDocumentNotification||(h.DidOpenTextDocumentNotification={}));var $l;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})($l=h.TextDocumentContentChangeEvent||(h.TextDocumentContentChangeEvent={}));var Jl;(function(r){r.method="textDocument/didChange",r.type=new ae.ProtocolNotificationType(r.method)})(Jl=h.DidChangeTextDocumentNotification||(h.DidChangeTextDocumentNotification={}));var Bl;(function(r){r.method="textDocument/didClose",r.type=new ae.ProtocolNotificationType(r.method)})(Bl=h.DidCloseTextDocumentNotification||(h.DidCloseTextDocumentNotification={}));var Gl;(function(r){r.method="textDocument/didSave",r.type=new ae.ProtocolNotificationType(r.method)})(Gl=h.DidSaveTextDocumentNotification||(h.DidSaveTextDocumentNotification={}));var Ql;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(Ql=h.TextDocumentSaveReason||(h.TextDocumentSaveReason={}));var Vl;(function(r){r.method="textDocument/willSave",r.type=new ae.ProtocolNotificationType(r.method)})(Vl=h.WillSaveTextDocumentNotification||(h.WillSaveTextDocumentNotification={}));var Xl;(function(r){r.method="textDocument/willSaveWaitUntil",r.type=new ae.ProtocolRequestType(r.method)})(Xl=h.WillSaveTextDocumentWaitUntilRequest||(h.WillSaveTextDocumentWaitUntilRequest={}));var Zl;(function(r){r.type=new ae.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Zl=h.DidChangeWatchedFilesNotification||(h.DidChangeWatchedFilesNotification={}));var Yl;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(Yl=h.FileChangeType||(h.FileChangeType={}));var ef;(function(r){r.Create=1,r.Change=2,r.Delete=4})(ef=h.WatchKind||(h.WatchKind={}));var tf;(function(r){r.type=new ae.ProtocolNotificationType("textDocument/publishDiagnostics")})(tf=h.PublishDiagnosticsNotification||(h.PublishDiagnosticsNotification={}));var nf;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(nf=h.CompletionTriggerKind||(h.CompletionTriggerKind={}));var rf;(function(r){r.method="textDocument/completion",r.type=new ae.ProtocolRequestType(r.method)})(rf=h.CompletionRequest||(h.CompletionRequest={}));var of;(function(r){r.method="completionItem/resolve",r.type=new ae.ProtocolRequestType(r.method)})(of=h.CompletionResolveRequest||(h.CompletionResolveRequest={}));var sf;(function(r){r.method="textDocument/hover",r.type=new ae.ProtocolRequestType(r.method)})(sf=h.HoverRequest||(h.HoverRequest={}));var af;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(af=h.SignatureHelpTriggerKind||(h.SignatureHelpTriggerKind={}));var cf;(function(r){r.method="textDocument/signatureHelp",r.type=new ae.ProtocolRequestType(r.method)})(cf=h.SignatureHelpRequest||(h.SignatureHelpRequest={}));var uf;(function(r){r.method="textDocument/definition",r.type=new ae.ProtocolRequestType(r.method)})(uf=h.DefinitionRequest||(h.DefinitionRequest={}));var df;(function(r){r.method="textDocument/references",r.type=new ae.ProtocolRequestType(r.method)})(df=h.ReferencesRequest||(h.ReferencesRequest={}));var lf;(function(r){r.method="textDocument/documentHighlight",r.type=new ae.ProtocolRequestType(r.method)})(lf=h.DocumentHighlightRequest||(h.DocumentHighlightRequest={}));var ff;(function(r){r.method="textDocument/documentSymbol",r.type=new ae.ProtocolRequestType(r.method)})(ff=h.DocumentSymbolRequest||(h.DocumentSymbolRequest={}));var gf;(function(r){r.method="textDocument/codeAction",r.type=new ae.ProtocolRequestType(r.method)})(gf=h.CodeActionRequest||(h.CodeActionRequest={}));var hf;(function(r){r.method="codeAction/resolve",r.type=new ae.ProtocolRequestType(r.method)})(hf=h.CodeActionResolveRequest||(h.CodeActionResolveRequest={}));var mf;(function(r){r.method="workspace/symbol",r.type=new ae.ProtocolRequestType(r.method)})(mf=h.WorkspaceSymbolRequest||(h.WorkspaceSymbolRequest={}));var pf;(function(r){r.method="textDocument/codeLens",r.type=new ae.ProtocolRequestType(r.method)})(pf=h.CodeLensRequest||(h.CodeLensRequest={}));var vf;(function(r){r.method="codeLens/resolve",r.type=new ae.ProtocolRequestType(r.method)})(vf=h.CodeLensResolveRequest||(h.CodeLensResolveRequest={}));var yf;(function(r){r.method="workspace/codeLens/refresh",r.type=new ae.ProtocolRequestType0(r.method)})(yf=h.CodeLensRefreshRequest||(h.CodeLensRefreshRequest={}));var Cf;(function(r){r.method="textDocument/documentLink",r.type=new ae.ProtocolRequestType(r.method)})(Cf=h.DocumentLinkRequest||(h.DocumentLinkRequest={}));var _f;(function(r){r.method="documentLink/resolve",r.type=new ae.ProtocolRequestType(r.method)})(_f=h.DocumentLinkResolveRequest||(h.DocumentLinkResolveRequest={}));var bf;(function(r){r.method="textDocument/formatting",r.type=new ae.ProtocolRequestType(r.method)})(bf=h.DocumentFormattingRequest||(h.DocumentFormattingRequest={}));var wf;(function(r){r.method="textDocument/rangeFormatting",r.type=new ae.ProtocolRequestType(r.method)})(wf=h.DocumentRangeFormattingRequest||(h.DocumentRangeFormattingRequest={}));var Df;(function(r){r.method="textDocument/onTypeFormatting",r.type=new ae.ProtocolRequestType(r.method)})(Df=h.DocumentOnTypeFormattingRequest||(h.DocumentOnTypeFormattingRequest={}));var Rf;(function(r){r.Identifier=1})(Rf=h.PrepareSupportDefaultBehavior||(h.PrepareSupportDefaultBehavior={}));var Tf;(function(r){r.method="textDocument/rename",r.type=new ae.ProtocolRequestType(r.method)})(Tf=h.RenameRequest||(h.RenameRequest={}));var Pf;(function(r){r.method="textDocument/prepareRename",r.type=new ae.ProtocolRequestType(r.method)})(Pf=h.PrepareRenameRequest||(h.PrepareRenameRequest={}));var Sf;(function(r){r.type=new ae.ProtocolRequestType("workspace/executeCommand")})(Sf=h.ExecuteCommandRequest||(h.ExecuteCommandRequest={}));var Ef;(function(r){r.type=new ae.ProtocolRequestType("workspace/applyEdit")})(Ef=h.ApplyWorkspaceEditRequest||(h.ApplyWorkspaceEditRequest={}))});var ac=A(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.createProtocolConnection=void 0;var sc=Mt();function kf(r,e,t,n){return sc.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),sc.createMessageConnection(r,e,t,n)}Dr.createProtocolConnection=kf});var wo=A(Be=>{"use strict";var xf=Be&&Be.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Rr=Be&&Be.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xf(e,r,t)};Object.defineProperty(Be,"__esModule",{value:!0});Be.LSPErrorCodes=Be.createProtocolConnection=void 0;Rr(Mt(),Be);Rr(Fa(),Be);Rr(Ke(),Be);Rr(oc(),Be);var qf=ac();Object.defineProperty(Be,"createProtocolConnection",{enumerable:!0,get:function(){return qf.createProtocolConnection}});var Of;(function(r){r.lspReservedErrorRangeStart=-32899,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(Of=Be.LSPErrorCodes||(Be.LSPErrorCodes={}))});var Se=A(wt=>{"use strict";var If=wt&&wt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cc=wt&&wt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&If(e,r,t)};Object.defineProperty(wt,"__esModule",{value:!0});wt.createProtocolConnection=void 0;var Ff=fo();cc(fo(),wt);cc(wo(),wt);function Mf(r,e,t,n){return Ff.createMessageConnection(r,e,t,n)}wt.createProtocolConnection=Mf});var Do=A((uc,Tr)=>{(function(r){if(typeof Tr=="object"&&typeof Tr.exports=="object"){var e=r(or,uc);e!==void 0&&(Tr.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;class t{constructor(g,m,_,R){this._uri=g,this._languageId=m,this._version=_,this._content=R,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(g){if(g){let m=this.offsetAt(g.start),_=this.offsetAt(g.end);return this._content.substring(m,_)}return this._content}update(g,m){for(let _ of g)if(t.isIncremental(_)){let R=o(_.range),P=this.offsetAt(R.start),F=this.offsetAt(R.end);this._content=this._content.substring(0,P)+_.text+this._content.substring(F,this._content.length);let j=Math.max(R.start.line,0),Q=Math.max(R.end.line,0),U=this._lineOffsets,B=s(_.text,!1,P);if(Q-j===B.length)for(let Z=0,ee=B.length;Z<ee;Z++)U[Z+j+1]=B[Z];else B.length<1e4?U.splice(j+1,Q-j,...B):this._lineOffsets=U=U.slice(0,j+1).concat(B,U.slice(Q+1));let ne=_.text.length-(F-P);if(ne!==0)for(let Z=j+1+B.length,ee=U.length;Z<ee;Z++)U[Z]=U[Z]+ne}else if(t.isFull(_))this._content=_.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=m}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets}positionAt(g){g=Math.max(Math.min(g,this._content.length),0);let m=this.getLineOffsets(),_=0,R=m.length;if(R===0)return{line:0,character:g};for(;_<R;){let F=Math.floor((_+R)/2);m[F]>g?R=F:_=F+1}let P=_-1;return{line:P,character:g-m[P]}}offsetAt(g){let m=this.getLineOffsets();if(g.line>=m.length)return this._content.length;if(g.line<0)return 0;let _=m[g.line],R=g.line+1<m.length?m[g.line+1]:this._content.length;return Math.max(Math.min(_+g.character,R),_)}get lineCount(){return this.getLineOffsets().length}static isIncremental(g){let m=g;return m!=null&&typeof m.text=="string"&&m.range!==void 0&&(m.rangeLength===void 0||typeof m.rangeLength=="number")}static isFull(g){let m=g;return m!=null&&typeof m.text=="string"&&m.range===void 0&&m.rangeLength===void 0}}var n;(function(l){function g(R,P,F,j){return new t(R,P,F,j)}l.create=g;function m(R,P,F){if(R instanceof t)return R.update(P,F),R;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l.update=m;function _(R,P){let F=R.getText(),j=i(P.map(f),(B,ne)=>{let Z=B.range.start.line-ne.range.start.line;return Z===0?B.range.start.character-ne.range.start.character:Z}),Q=0,U=[];for(let B of j){let ne=R.offsetAt(B.range.start);if(ne<Q)throw new Error("Overlapping edit");ne>Q&&U.push(F.substring(Q,ne)),B.newText.length&&U.push(B.newText),Q=R.offsetAt(B.range.end)}return U.push(F.substr(Q)),U.join("")}l.applyEdits=_})(n=e.TextDocument||(e.TextDocument={}));function i(l,g){if(l.length<=1)return l;let m=l.length/2|0,_=l.slice(0,m),R=l.slice(m);i(_,g),i(R,g);let P=0,F=0,j=0;for(;P<_.length&&F<R.length;)g(_[P],R[F])<=0?l[j++]=_[P++]:l[j++]=R[F++];for(;P<_.length;)l[j++]=_[P++];for(;F<R.length;)l[j++]=R[F++];return l}function s(l,g,m=0){let _=g?[m]:[];for(let R=0;R<l.length;R++){let P=l.charCodeAt(R);(P===13||P===10)&&(P===13&&R+1<l.length&&l.charCodeAt(R+1)===10&&R++,_.push(m+R+1))}return _}function o(l){let g=l.start,m=l.end;return g.line>m.line||g.line===m.line&&g.character>m.character?{start:m,end:g}:l}function f(l){let g=o(l.range);return g!==l.range?{newText:l.newText,range:g}:l}})});var ht=A(fe=>{"use strict";var Nf=fe&&fe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lf=fe&&fe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Nf(e,r,t)};Object.defineProperty(fe,"__esModule",{value:!0});fe.ConfigurationTarget=fe.DocumentIdentifier=fe.ProgressLocation=fe.VsCodeDiagnosticSeverity=fe.SignatureHelpTriggerKind=fe.isDocumentSelector=fe.Services=fe.TextDocument=fe.Emitter=fe.Event=fe.CancellationToken=fe.Disposable=void 0;var Af=Se(),jf=Do();Object.defineProperty(fe,"TextDocument",{enumerable:!0,get:function(){return jf.TextDocument}});var Qn=Mt();Object.defineProperty(fe,"Disposable",{enumerable:!0,get:function(){return Qn.Disposable}});Object.defineProperty(fe,"CancellationToken",{enumerable:!0,get:function(){return Qn.CancellationToken}});Object.defineProperty(fe,"Event",{enumerable:!0,get:function(){return Qn.Event}});Object.defineProperty(fe,"Emitter",{enumerable:!0,get:function(){return Qn.Emitter}});Lf(wo(),fe);var Kf;(function(r){let e=window,t=Symbol("Services");r.get=()=>{let i=e[t];if(!i)throw new Error("Language Client services has not been installed");return i};function n(i){return e[t]&&console.warn("Language Client services have been overridden"),e[t]=i,Qn.Disposable.create(()=>e[t]=void 0)}r.install=n})(Kf=fe.Services||(fe.Services={}));function Hf(r){return!r||!Array.isArray(r)?!1:r.every(e=>typeof e=="string"||Af.DocumentFilter.is(e))}fe.isDocumentSelector=Hf;var Wf;(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})(Wf=fe.SignatureHelpTriggerKind||(fe.SignatureHelpTriggerKind={}));var Uf;(function(r){r[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Information=2]="Information",r[r.Hint=3]="Hint"})(Uf=fe.VsCodeDiagnosticSeverity||(fe.VsCodeDiagnosticSeverity={}));var zf;(function(r){r[r.SourceControl=1]="SourceControl",r[r.Window=10]="Window",r[r.Notification=15]="Notification"})(zf=fe.ProgressLocation||(fe.ProgressLocation={}));var $f;(function(r){function e(t){return!!t&&"uri"in t&&"languageId"in t}r.is=e})($f=fe.DocumentIdentifier||(fe.DocumentIdentifier={}));var Jf;(function(r){r[r.Global=1]="Global",r[r.Workspace=2]="Workspace",r[r.WorkspaceFolder=3]="WorkspaceFolder"})(Jf=fe.ConfigurationTarget||(fe.ConfigurationTarget={}))});var Pr=A(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.DisposableCollection=Sn.Disposable=void 0;var Bf=ht();Object.defineProperty(Sn,"Disposable",{enumerable:!0,get:function(){return Bf.Disposable}});var Ro=class{constructor(){this.disposables=[]}dispose(){for(;this.disposables.length!==0;)this.disposables.pop().dispose()}push(e){let t=this.disposables;return t.push(e),{dispose(){let n=t.indexOf(e);n!==-1&&t.splice(n,1)}}}};Sn.DisposableCollection=Ro});var dc=A(En=>{"use strict";var Lt=En&&En.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function f(m){try{g(n.next(m))}catch(_){o(_)}}function l(m){try{g(n.throw(m))}catch(_){o(_)}}function g(m){m.done?s(m.value):i(m.value).then(f,l)}g((n=n.apply(r,e||[])).next())})};Object.defineProperty(En,"__esModule",{value:!0});En.createConnection=void 0;var Ye=Se(),Sr=wr();function Gf(r,e,t){return r.onError(n=>{e(n[0],n[1],n[2])}),r.onClose(t),{listen:()=>r.listen(),sendRequest:(n,...i)=>r.sendRequest(Sr.string(n)?n:n.method,...i),onRequest:(n,i)=>r.onRequest(Sr.string(n)?n:n.method,i),sendNotification:(n,i)=>Lt(this,void 0,void 0,function*(){return r.sendNotification(Sr.string(n)?n:n.method,i)}),onNotification:(n,i)=>r.onNotification(Sr.string(n)?n:n.method,i),onProgress:(n,i,s)=>r.onProgress(n,i,s),sendProgress:(n,i,s)=>Lt(this,void 0,void 0,function*(){return r.sendProgress(n,i,s)}),trace:(n,i,s=!1)=>r.trace(n,i,s),initialize:n=>r.sendRequest(Ye.InitializeRequest.type,n),shutdown:()=>r.sendRequest(Ye.ShutdownRequest.type,void 0),exit:()=>Lt(this,void 0,void 0,function*(){return r.sendNotification(Ye.ExitNotification.type)}),onLogMessage:n=>r.onNotification(Ye.LogMessageNotification.type,n),onShowMessage:n=>r.onNotification(Ye.ShowMessageNotification.type,n),onTelemetry:n=>r.onNotification(Ye.TelemetryEventNotification.type,n),didChangeConfiguration:n=>Lt(this,void 0,void 0,function*(){return r.sendNotification(Ye.DidChangeConfigurationNotification.type,n)}),didChangeWatchedFiles:n=>Lt(this,void 0,void 0,function*(){return r.sendNotification(Ye.DidChangeWatchedFilesNotification.type,n)}),didOpenTextDocument:n=>Lt(this,void 0,void 0,function*(){return r.sendNotification(Ye.DidOpenTextDocumentNotification.type,n)}),didChangeTextDocument:n=>Lt(this,void 0,void 0,function*(){return r.sendNotification(Ye.DidChangeTextDocumentNotification.type,n)}),didCloseTextDocument:n=>Lt(this,void 0,void 0,function*(){return r.sendNotification(Ye.DidCloseTextDocumentNotification.type,n)}),didSaveTextDocument:n=>Lt(this,void 0,void 0,function*(){return r.sendNotification(Ye.DidSaveTextDocumentNotification.type,n)}),onDiagnostics:n=>r.onNotification(Ye.PublishDiagnosticsNotification.type,n),dispose:()=>r.dispose(),end:()=>r.end()}}En.createConnection=Gf});var lc=A((Vn,To)=>{(function(r,e){if(typeof Vn=="object"&&typeof To=="object")To.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t=e();for(var n in t)(typeof Vn=="object"?Vn:r)[n]=t[n]}})(Vn,function(){return(()=>{"use strict";var r={470:t=>{function n(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function i(o,f){for(var l,g="",m=0,_=-1,R=0,P=0;P<=o.length;++P){if(P<o.length)l=o.charCodeAt(P);else{if(l===47)break;l=47}if(l===47){if(!(_===P-1||R===1))if(_!==P-1&&R===2){if(g.length<2||m!==2||g.charCodeAt(g.length-1)!==46||g.charCodeAt(g.length-2)!==46){if(g.length>2){var F=g.lastIndexOf("/");if(F!==g.length-1){F===-1?(g="",m=0):m=(g=g.slice(0,F)).length-1-g.lastIndexOf("/"),_=P,R=0;continue}}else if(g.length===2||g.length===1){g="",m=0,_=P,R=0;continue}}f&&(g.length>0?g+="/..":g="..",m=2)}else g.length>0?g+="/"+o.slice(_+1,P):g=o.slice(_+1,P),m=P-_-1;_=P,R=0}else l===46&&R!==-1?++R:R=-1}return g}var s={resolve:function(){for(var o,f="",l=!1,g=arguments.length-1;g>=-1&&!l;g--){var m;g>=0?m=arguments[g]:(o===void 0&&(o=process.cwd()),m=o),n(m),m.length!==0&&(f=m+"/"+f,l=m.charCodeAt(0)===47)}return f=i(f,!l),l?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(o){if(n(o),o.length===0)return".";var f=o.charCodeAt(0)===47,l=o.charCodeAt(o.length-1)===47;return(o=i(o,!f)).length!==0||f||(o="."),o.length>0&&l&&(o+="/"),f?"/"+o:o},isAbsolute:function(o){return n(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,f=0;f<arguments.length;++f){var l=arguments[f];n(l),l.length>0&&(o===void 0?o=l:o+="/"+l)}return o===void 0?".":s.normalize(o)},relative:function(o,f){if(n(o),n(f),o===f||(o=s.resolve(o))===(f=s.resolve(f)))return"";for(var l=1;l<o.length&&o.charCodeAt(l)===47;++l);for(var g=o.length,m=g-l,_=1;_<f.length&&f.charCodeAt(_)===47;++_);for(var R=f.length-_,P=m<R?m:R,F=-1,j=0;j<=P;++j){if(j===P){if(R>P){if(f.charCodeAt(_+j)===47)return f.slice(_+j+1);if(j===0)return f.slice(_+j)}else m>P&&(o.charCodeAt(l+j)===47?F=j:j===0&&(F=0));break}var Q=o.charCodeAt(l+j);if(Q!==f.charCodeAt(_+j))break;Q===47&&(F=j)}var U="";for(j=l+F+1;j<=g;++j)j!==g&&o.charCodeAt(j)!==47||(U.length===0?U+="..":U+="/..");return U.length>0?U+f.slice(_+F):(_+=F,f.charCodeAt(_)===47&&++_,f.slice(_))},_makeLong:function(o){return o},dirname:function(o){if(n(o),o.length===0)return".";for(var f=o.charCodeAt(0),l=f===47,g=-1,m=!0,_=o.length-1;_>=1;--_)if((f=o.charCodeAt(_))===47){if(!m){g=_;break}}else m=!1;return g===-1?l?"/":".":l&&g===1?"//":o.slice(0,g)},basename:function(o,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');n(o);var l,g=0,m=-1,_=!0;if(f!==void 0&&f.length>0&&f.length<=o.length){if(f.length===o.length&&f===o)return"";var R=f.length-1,P=-1;for(l=o.length-1;l>=0;--l){var F=o.charCodeAt(l);if(F===47){if(!_){g=l+1;break}}else P===-1&&(_=!1,P=l+1),R>=0&&(F===f.charCodeAt(R)?--R==-1&&(m=l):(R=-1,m=P))}return g===m?m=P:m===-1&&(m=o.length),o.slice(g,m)}for(l=o.length-1;l>=0;--l)if(o.charCodeAt(l)===47){if(!_){g=l+1;break}}else m===-1&&(_=!1,m=l+1);return m===-1?"":o.slice(g,m)},extname:function(o){n(o);for(var f=-1,l=0,g=-1,m=!0,_=0,R=o.length-1;R>=0;--R){var P=o.charCodeAt(R);if(P!==47)g===-1&&(m=!1,g=R+1),P===46?f===-1?f=R:_!==1&&(_=1):f!==-1&&(_=-1);else if(!m){l=R+1;break}}return f===-1||g===-1||_===0||_===1&&f===g-1&&f===l+1?"":o.slice(f,g)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return function(f,l){var g=l.dir||l.root,m=l.base||(l.name||"")+(l.ext||"");return g?g===l.root?g+m:g+"/"+m:m}(0,o)},parse:function(o){n(o);var f={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return f;var l,g=o.charCodeAt(0),m=g===47;m?(f.root="/",l=1):l=0;for(var _=-1,R=0,P=-1,F=!0,j=o.length-1,Q=0;j>=l;--j)if((g=o.charCodeAt(j))!==47)P===-1&&(F=!1,P=j+1),g===46?_===-1?_=j:Q!==1&&(Q=1):_!==-1&&(Q=-1);else if(!F){R=j+1;break}return _===-1||P===-1||Q===0||Q===1&&_===P-1&&_===R+1?P!==-1&&(f.base=f.name=R===0&&m?o.slice(1,P):o.slice(R,P)):(R===0&&m?(f.name=o.slice(1,_),f.base=o.slice(1,P)):(f.name=o.slice(R,_),f.base=o.slice(R,P)),f.ext=o.slice(_,P)),R>0?f.dir=o.slice(0,R-1):m&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,t.exports=s},465:(t,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=n.URI=void 0;var s=i(796);Object.defineProperty(n,"URI",{enumerable:!0,get:function(){return s.URI}});var o=i(679);Object.defineProperty(n,"Utils",{enumerable:!0,get:function(){return o.Utils}})},674:(t,n)=>{if(Object.defineProperty(n,"__esModule",{value:!0}),n.isWindows=void 0,typeof process=="object")n.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var i=navigator.userAgent;n.isWindows=i.indexOf("Windows")>=0}},796:function(t,n,i){var s,o,f=this&&this.__extends||(s=function(D,x){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,H){M.__proto__=H}||function(M,H){for(var ie in H)Object.prototype.hasOwnProperty.call(H,ie)&&(M[ie]=H[ie])})(D,x)},function(D,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function M(){this.constructor=D}s(D,x),D.prototype=x===null?Object.create(x):(M.prototype=x.prototype,new M)});Object.defineProperty(n,"__esModule",{value:!0}),n.uriToFsPath=n.URI=void 0;var l=i(674),g=/^\w[\w\d+.-]*$/,m=/^\//,_=/^\/\//;function R(D,x){if(!D.scheme&&x)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(D.authority,'", path: "').concat(D.path,'", query: "').concat(D.query,'", fragment: "').concat(D.fragment,'"}'));if(D.scheme&&!g.test(D.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(D.path){if(D.authority){if(!m.test(D.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(_.test(D.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var P="",F="/",j=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Q=function(){function D(x,M,H,ie,re,X){X===void 0&&(X=!1),typeof x=="object"?(this.scheme=x.scheme||P,this.authority=x.authority||P,this.path=x.path||P,this.query=x.query||P,this.fragment=x.fragment||P):(this.scheme=function(We,ve){return We||ve?We:"file"}(x,X),this.authority=M||P,this.path=function(We,ve){switch(We){case"https":case"http":case"file":ve?ve[0]!==F&&(ve=F+ve):ve=F}return ve}(this.scheme,H||P),this.query=ie||P,this.fragment=re||P,R(this,X))}return D.isUri=function(x){return x instanceof D||!!x&&typeof x.authority=="string"&&typeof x.fragment=="string"&&typeof x.path=="string"&&typeof x.query=="string"&&typeof x.scheme=="string"&&typeof x.fsPath=="string"&&typeof x.with=="function"&&typeof x.toString=="function"},Object.defineProperty(D.prototype,"fsPath",{get:function(){return S(this,!1)},enumerable:!1,configurable:!0}),D.prototype.with=function(x){if(!x)return this;var M=x.scheme,H=x.authority,ie=x.path,re=x.query,X=x.fragment;return M===void 0?M=this.scheme:M===null&&(M=P),H===void 0?H=this.authority:H===null&&(H=P),ie===void 0?ie=this.path:ie===null&&(ie=P),re===void 0?re=this.query:re===null&&(re=P),X===void 0?X=this.fragment:X===null&&(X=P),M===this.scheme&&H===this.authority&&ie===this.path&&re===this.query&&X===this.fragment?this:new B(M,H,ie,re,X)},D.parse=function(x,M){M===void 0&&(M=!1);var H=j.exec(x);return H?new B(H[2]||P,N(H[4]||P),N(H[5]||P),N(H[7]||P),N(H[9]||P),M):new B(P,P,P,P,P)},D.file=function(x){var M=P;if(l.isWindows&&(x=x.replace(/\\/g,F)),x[0]===F&&x[1]===F){var H=x.indexOf(F,2);H===-1?(M=x.substring(2),x=F):(M=x.substring(2,H),x=x.substring(H)||F)}return new B("file",M,x,P,P)},D.from=function(x){var M=new B(x.scheme,x.authority,x.path,x.query,x.fragment);return R(M,!0),M},D.prototype.toString=function(x){return x===void 0&&(x=!1),E(this,x)},D.prototype.toJSON=function(){return this},D.revive=function(x){if(x){if(x instanceof D)return x;var M=new B(x);return M._formatted=x.external,M._fsPath=x._sep===U?x.fsPath:null,M}return x},D}();n.URI=Q;var U=l.isWindows?1:void 0,B=function(D){function x(){var M=D!==null&&D.apply(this,arguments)||this;return M._formatted=null,M._fsPath=null,M}return f(x,D),Object.defineProperty(x.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=S(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),x.prototype.toString=function(M){return M===void 0&&(M=!1),M?E(this,!0):(this._formatted||(this._formatted=E(this,!1)),this._formatted)},x.prototype.toJSON=function(){var M={$mid:1};return this._fsPath&&(M.fsPath=this._fsPath,M._sep=U),this._formatted&&(M.external=this._formatted),this.path&&(M.path=this.path),this.scheme&&(M.scheme=this.scheme),this.authority&&(M.authority=this.authority),this.query&&(M.query=this.query),this.fragment&&(M.fragment=this.fragment),M},x}(Q),ne=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function Z(D,x){for(var M=void 0,H=-1,ie=0;ie<D.length;ie++){var re=D.charCodeAt(ie);if(re>=97&&re<=122||re>=65&&re<=90||re>=48&&re<=57||re===45||re===46||re===95||re===126||x&&re===47)H!==-1&&(M+=encodeURIComponent(D.substring(H,ie)),H=-1),M!==void 0&&(M+=D.charAt(ie));else{M===void 0&&(M=D.substr(0,ie));var X=ne[re];X!==void 0?(H!==-1&&(M+=encodeURIComponent(D.substring(H,ie)),H=-1),M+=X):H===-1&&(H=ie)}}return H!==-1&&(M+=encodeURIComponent(D.substring(H))),M!==void 0?M:D}function ee(D){for(var x=void 0,M=0;M<D.length;M++){var H=D.charCodeAt(M);H===35||H===63?(x===void 0&&(x=D.substr(0,M)),x+=ne[H]):x!==void 0&&(x+=D[M])}return x!==void 0?x:D}function S(D,x){var M;return M=D.authority&&D.path.length>1&&D.scheme==="file"?"//".concat(D.authority).concat(D.path):D.path.charCodeAt(0)===47&&(D.path.charCodeAt(1)>=65&&D.path.charCodeAt(1)<=90||D.path.charCodeAt(1)>=97&&D.path.charCodeAt(1)<=122)&&D.path.charCodeAt(2)===58?x?D.path.substr(1):D.path[1].toLowerCase()+D.path.substr(2):D.path,l.isWindows&&(M=M.replace(/\//g,"\\")),M}function E(D,x){var M=x?ee:Z,H="",ie=D.scheme,re=D.authority,X=D.path,We=D.query,ve=D.fragment;if(ie&&(H+=ie,H+=":"),(re||ie==="file")&&(H+=F,H+=F),re){var Fe=re.indexOf("@");if(Fe!==-1){var Ge=re.substr(0,Fe);re=re.substr(Fe+1),(Fe=Ge.indexOf(":"))===-1?H+=M(Ge,!1):(H+=M(Ge.substr(0,Fe),!1),H+=":",H+=M(Ge.substr(Fe+1),!1)),H+="@"}(Fe=(re=re.toLowerCase()).indexOf(":"))===-1?H+=M(re,!1):(H+=M(re.substr(0,Fe),!1),H+=re.substr(Fe))}if(X){if(X.length>=3&&X.charCodeAt(0)===47&&X.charCodeAt(2)===58)(Qe=X.charCodeAt(1))>=65&&Qe<=90&&(X="/".concat(String.fromCharCode(Qe+32),":").concat(X.substr(3)));else if(X.length>=2&&X.charCodeAt(1)===58){var Qe;(Qe=X.charCodeAt(0))>=65&&Qe<=90&&(X="".concat(String.fromCharCode(Qe+32),":").concat(X.substr(2)))}H+=M(X,!0)}return We&&(H+="?",H+=M(We,!1)),ve&&(H+="#",H+=x?ve:Z(ve,!1)),H}function k(D){try{return decodeURIComponent(D)}catch{return D.length>3?D.substr(0,3)+k(D.substr(3)):D}}n.uriToFsPath=S;var O=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(D){return D.match(O)?D.replace(O,function(x){return k(x)}):D}},679:function(t,n,i){var s=this&&this.__spreadArray||function(g,m,_){if(_||arguments.length===2)for(var R,P=0,F=m.length;P<F;P++)!R&&P in m||(R||(R=Array.prototype.slice.call(m,0,P)),R[P]=m[P]);return g.concat(R||Array.prototype.slice.call(m))};Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var o,f=i(470),l=f.posix||f;(o=n.Utils||(n.Utils={})).joinPath=function(g){for(var m=[],_=1;_<arguments.length;_++)m[_-1]=arguments[_];return g.with({path:l.join.apply(l,s([g.path],m,!1))})},o.resolvePath=function(g){for(var m=[],_=1;_<arguments.length;_++)m[_-1]=arguments[_];var R=g.path||"/";return g.with({path:l.resolve.apply(l,s([R],m,!1))})},o.dirname=function(g){var m=l.dirname(g.path);return m.length===1&&m.charCodeAt(0)===46?g:g.with({path:m})},o.basename=function(g){return l.basename(g.path)},o.extname=function(g){return l.extname(g.path)}}},e={};return function t(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return r[n].call(i.exports,i,i.exports,t),i.exports}(465)})()})});var gc=A(kn=>{"use strict";var Qf=kn&&kn.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function f(m){try{g(n.next(m))}catch(_){o(_)}}function l(m){try{g(n.throw(m))}catch(_){o(_)}}function g(m){m.done?s(m.value):i(m.value).then(f,l)}g((n=n.apply(r,e||[])).next())})};Object.defineProperty(kn,"__esModule",{value:!0});kn.createVSCodeApi=void 0;var fc=lc(),Re=Pr(),oe=ht(),Po=ht(),So=Se();function Vf(r){let e=()=>{throw new Error("unsupported")},t=class extends fc.URI{static joinPath(E,...k){return e()}};class n{constructor(E,k){this.label=E,this.kind=k}}class i{constructor(E,k){this.range=E,this.command=k}get isResolved(){return!!this.command}}class s{constructor(E,k){this.range=E,this.target=k}}class o{constructor(E){this.value=E,this.contains=e,this.intersects=e}append(E){return new o(this.value?this.value+o.sep+E:E)}}o.sep=".",o.Empty=new o(""),o.QuickFix=new o("quickfix"),o.Refactor=new o("refactor"),o.RefactorExtract=o.Refactor.append("extract"),o.RefactorInline=o.Refactor.append("inline"),o.RefactorRewrite=o.Refactor.append("rewrite"),o.Source=new o("source"),o.SourceOrganizeImports=o.Source.append("organizeImports"),o.SourceFixAll=o.Source.append("fixAll");class f{constructor(E,k,O=So.DiagnosticSeverity.Error){this.range=E,this.message=k,this.severity=O}}class l{constructor(E,k,O,N,D,x){this.kind=E,this.name=k,this.detail=O,this.uri=N,this.range=D,this.selectionRange=x}}class g{constructor(E,k){this.title=E,this.kind=k}}class m{constructor(E,k){this.data=E,this.resultId=k}}class _{isWritableFileSystem(E){return!1}stat(E){throw new Error("Method not implemented.")}readDirectory(E){return Promise.resolve([])}createDirectory(E){return Promise.resolve()}readFile(E){return Promise.resolve(new Uint8Array(0))}writeFile(E,k){return Promise.resolve()}delete(E,k){return Promise.resolve()}rename(E,k,O){return Promise.resolve()}copy(E,k,O){return Promise.resolve()}}let R={fs:new _,workspaceFile:void 0,createFileSystemWatcher(S,E,k,O){let N=r();if(typeof S!="string")throw new Error("unsupported");if(N.workspace.createFileSystemWatcher){let D=N.workspace.createFileSystemWatcher(S,E,k,O);return Object.assign(D,{ignoreCreateEvents:!!E,ignoreChangeEvents:!!k,ignoreDeleteEvents:!!O})}return{ignoreCreateEvents:!!E,ignoreChangeEvents:!!k,ignoreDeleteEvents:!!O,onDidCreate:oe.Event.None,onDidChange:oe.Event.None,onDidDelete:oe.Event.None,dispose:()=>{}}},applyEdit:S=>Qf(this,void 0,void 0,function*(){let E=r();if(oe.WorkspaceEdit.is(S))return E.workspace.applyEdit(S);throw new Error("unsupported")}),getConfiguration(S,E){let{workspace:k}=r(),O=k.configurations?k.configurations.getConfiguration(S,E?E.toString():void 0):void 0;return Object.assign({get:(D,x)=>O?O.get(D,x):x,has:D=>O?O.has(D):!1,inspect:e,update:e},{toJSON:()=>O?O.toJSON():void 0})},get onDidChangeConfiguration(){let S=r();return S.workspace.configurations?S.workspace.configurations.onDidChangeConfiguration:oe.Event.None},get workspaceFolders(){let S=r();if("workspaceFolders"in S.workspace)return S.workspace.workspaceFolders;let E=S.workspace.rootUri;if(!E)return;let k=t.parse(E);return[{uri:k,index:0,name:k.toString()}]},get onDidChangeWorkspaceFolders(){return r().workspace.onDidChangeWorkspaceFolders||oe.Event.None},get textDocuments(){return r().workspace.textDocuments},get onDidOpenTextDocument(){return r().workspace.onDidOpenTextDocument},get onDidCloseTextDocument(){return r().workspace.onDidCloseTextDocument},get onDidChangeTextDocument(){let S=r();return(E,k,O)=>S.workspace.onDidChangeTextDocument(({textDocument:N,contentChanges:D})=>{E.bind(k)({document:N,contentChanges:D})},void 0,O)},get onWillSaveTextDocument(){let E=r().workspace.onWillSaveTextDocument;return E?(k,O,N)=>E(({textDocument:D,reason:x,waitUntil:M})=>{k.bind(O)({document:D,reason:x,waitUntil:ie=>{M&&M(ie)}})},void 0,N):oe.Event.None},get onDidSaveTextDocument(){return r().workspace.onDidSaveTextDocument||oe.Event.None},get onWillCreateFiles(){return oe.Event.None},get onDidCreateFiles(){return oe.Event.None},get onWillDeleteFiles(){return oe.Event.None},get onDidDeleteFiles(){return oe.Event.None},get onWillRenameFiles(){return oe.Event.None},get onDidRenameFiles(){return oe.Event.None},getWorkspaceFolder:e,asRelativePath:e,updateWorkspaceFolders:e,findFiles:e,saveAll:e,openTextDocument:e,registerTextDocumentContentProvider:e,registerTaskProvider:e,registerFileSystemProvider:e,rootPath:void 0,name:void 0};function P(S){return S instanceof fc.URI!==void 0}class F{constructor(E){this.name=E||"default",this.services=r(),this.collection=this.services.languages.createDiagnosticCollection?this.services.languages.createDiagnosticCollection(E):void 0}entries(){}set(E,k){function O(D){return D}function N(D){return D!=null&&typeof D=="object"?D.value:D}P(E)?this.collection&&(k?this.collection.set(E.toString(),k.map(D=>({range:D.range,code:N(D.code),source:D.source,message:D.message,tags:D.tags,relatedInformation:void 0,severity:D.severity}))):this.collection.set(E.toString(),[])):E.forEach(D=>{this.set(D[0],D[1])})}dispose(){this.collection&&this.collection.dispose()}delete(E){}clear(){}forEach(E,k){}get(E){}has(E){return!1}}let j={match(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));if(!oe.DocumentIdentifier.is(E))throw new Error("unexpected document: "+JSON.stringify(E));return r().languages.match(S,E)?1:0},registerCallHierarchyProvider(S,E){return{dispose(){}}},createDiagnosticCollection(S){return new F(S)},registerCompletionItemProvider(S,E,...k){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:O}=r();if(!O.registerCompletionItemProvider)return Re.Disposable.create(()=>{});let N=E.resolveCompletionItem;return O.registerCompletionItemProvider(S,{provideCompletionItems({textDocument:D,position:x,context:M},H){return E.provideCompletionItems(D,x,H,M||{triggerKind:oe.CompletionTriggerKind.Invoked})},resolveCompletionItem:N?(D,x)=>N(D,x):void 0},...k)},registerCodeActionsProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerCodeActionsProvider?k.registerCodeActionsProvider(S,{provideCodeActions({textDocument:O,range:N,context:D},x){return E.provideCodeActions(O,N,D,x)},resolveCodeAction:E.resolveCodeAction?(O,N)=>E.resolveCodeAction(O,N):void 0}):Re.Disposable.create(()=>{})},registerCodeLensProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();if(!k.registerCodeLensProvider)return Re.Disposable.create(()=>{});let O=E.resolveCodeLens;return k.registerCodeLensProvider(S,{provideCodeLenses({textDocument:N},D){return E.provideCodeLenses(N,D)},resolveCodeLens:O?(N,D)=>O(N,D):void 0})},registerDefinitionProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerDefinitionProvider?k.registerDefinitionProvider(S,{provideDefinition({textDocument:O,position:N},D){return E.provideDefinition(O,N,D)}}):Re.Disposable.create(()=>{})},registerImplementationProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerImplementationProvider?k.registerImplementationProvider(S,{provideImplementation({textDocument:O,position:N},D){return E.provideImplementation(O,N,D)}}):Re.Disposable.create(()=>{})},registerTypeDefinitionProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerTypeDefinitionProvider?k.registerTypeDefinitionProvider(S,{provideTypeDefinition({textDocument:O,position:N},D){return E.provideTypeDefinition(O,N,D)}}):Re.Disposable.create(()=>{})},registerDeclarationProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerDeclarationProvider?k.registerDeclarationProvider(S,{provideDeclaration({textDocument:O,position:N},D){return E.provideDeclaration(O,N,D)}}):Re.Disposable.create(()=>{})},registerHoverProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerHoverProvider?k.registerHoverProvider(S,{provideHover({textDocument:O,position:N},D){return E.provideHover(O,N,D)}}):Re.Disposable.create(()=>{})},registerDocumentHighlightProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerDocumentHighlightProvider?k.registerDocumentHighlightProvider(S,{provideDocumentHighlights({textDocument:O,position:N},D){return E.provideDocumentHighlights(O,N,D)}}):Re.Disposable.create(()=>{})},registerDocumentSymbolProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerDocumentSymbolProvider?k.registerDocumentSymbolProvider(S,{provideDocumentSymbols({textDocument:O},N){return E.provideDocumentSymbols(O,N)}}):Re.Disposable.create(()=>{})},registerWorkspaceSymbolProvider(S){let{languages:E}=r();return E.registerWorkspaceSymbolProvider?E.registerWorkspaceSymbolProvider({provideWorkspaceSymbols({query:k},O){return S.provideWorkspaceSymbols(k,O)}}):Re.Disposable.create(()=>{})},registerReferenceProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerReferenceProvider?k.registerReferenceProvider(S,{provideReferences({textDocument:O,position:N,context:D},x){return E.provideReferences(O,N,D,x)}}):Re.Disposable.create(()=>{})},registerRenameProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerRenameProvider?k.registerRenameProvider(S,{provideRenameEdits({textDocument:O,position:N,newName:D},x){return E.provideRenameEdits(O,N,D,x)}}):Re.Disposable.create(()=>{})},registerDocumentFormattingEditProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerDocumentFormattingEditProvider?k.registerDocumentFormattingEditProvider(S,{provideDocumentFormattingEdits({textDocument:O,options:N},D){return E.provideDocumentFormattingEdits(O,N,D)}}):Re.Disposable.create(()=>{})},registerDocumentRangeFormattingEditProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerDocumentRangeFormattingEditProvider?k.registerDocumentRangeFormattingEditProvider(S,{provideDocumentRangeFormattingEdits({textDocument:O,range:N,options:D},x){return E.provideDocumentRangeFormattingEdits(O,N,D,x)}}):Re.Disposable.create(()=>{})},registerOnTypeFormattingEditProvider(S,E,k,...O){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:N}=r();return N.registerOnTypeFormattingEditProvider?N.registerOnTypeFormattingEditProvider(S,{provideOnTypeFormattingEdits({textDocument:D,position:x,ch:M,options:H},ie){return E.provideOnTypeFormattingEdits(D,x,M,H,ie)}},k,...O):Re.Disposable.create(()=>{})},registerSignatureHelpProvider(S,E,k,...O){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:N}=r();if(!N.registerSignatureHelpProvider)return Re.Disposable.create(()=>{});let D,x;return typeof k=="string"?D=[k,...O]:k&&(D=k.triggerCharacters,x=k.retriggerCharacters),N.registerSignatureHelpProvider(S,{triggerCharacters:D,retriggerCharacters:x,provideSignatureHelp({textDocument:M,position:H},ie,re){return E.provideSignatureHelp(M,H,ie,re)}})},registerDocumentLinkProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();if(!k.registerDocumentLinkProvider)return Re.Disposable.create(()=>{});let O=E.resolveDocumentLink;return k.registerDocumentLinkProvider(S,{provideDocumentLinks({textDocument:N},D){return E.provideDocumentLinks(N,D)},resolveDocumentLink:O?(N,D)=>O(N,D):void 0})},registerColorProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerColorProvider?k.registerColorProvider(S,{provideDocumentColors({textDocument:O},N){return E.provideDocumentColors(O,N)},provideColorPresentations({textDocument:O,color:N,range:D},x){return E.provideColorPresentations(N,{document:O,range:D},x)}}):Re.Disposable.create(()=>{})},registerFoldingRangeProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerFoldingRangeProvider?k.registerFoldingRangeProvider(S,{provideFoldingRanges({textDocument:O},N){return E.provideFoldingRanges(O,{},N)}}):Re.Disposable.create(()=>{})},registerSelectionRangeProvider(S,E){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:k}=r();return k.registerSelectionRangeProvider?k.registerSelectionRangeProvider(S,{provideSelectionRanges({textDocument:O,positions:N},D){return E.provideSelectionRanges(O,N,D)}}):Re.Disposable.create(()=>{})},registerEvaluatableExpressionProvider:e,registerDocumentSemanticTokensProvider(S,E,k){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:O}=r();return O.registerDocumentSemanticTokensProvider?O.registerDocumentSemanticTokensProvider(S,{onDidChange:E.onDidChangeSemanticTokens,provideDocumentSemanticTokens({textDocument:N},D){return E.provideDocumentSemanticTokens(N,D)},provideDocumentSemanticTokensEdits:E.provideDocumentSemanticTokensEdits&&(({textDocument:N,previousResultId:D},x)=>E.provideDocumentSemanticTokensEdits(N,D,x))},k):Re.Disposable.create(()=>{})},registerDocumentRangeSemanticTokensProvider(S,E,k){if(!(0,oe.isDocumentSelector)(S))throw new Error("unexpected selector: "+JSON.stringify(S));let{languages:O}=r();return O.registerDocumentRangeSemanticTokensProvider?O.registerDocumentRangeSemanticTokensProvider(S,{provideDocumentRangeSemanticTokens({textDocument:N,range:D},x){return E.provideDocumentRangeSemanticTokens(N,D,x)}},k):Re.Disposable.create(()=>{})},getLanguages:e,setTextDocumentLanguage:e,getDiagnostics:e,setLanguageConfiguration:e,onDidChangeDiagnostics:e,registerLinkedEditingRangeProvider:e};function Q(S,E,...k){if(typeof E!="string")throw new Error("unexpected message: "+JSON.stringify(E));let O=E;if(k!==void 0&&!Array.isArray(k))throw new Error("unexpected actions: "+JSON.stringify(k));let N=k||[],{window:D}=r();return D?D.showMessage(S,O,...N):Promise.resolve(void 0)}let U={showInformationMessage:Q.bind(void 0,oe.MessageType.Info),showWarningMessage:Q.bind(void 0,oe.MessageType.Warning),showErrorMessage:Q.bind(void 0,oe.MessageType.Error),createOutputChannel(S){let{window:E}=r(),k=E?E.createOutputChannel:void 0,O=k?k.bind(E)(S):void 0;return{name:S,append:O?O.append.bind(O):()=>{},appendLine:O?O.appendLine.bind(O):()=>{},clear:e,show:N=>{if(N!==void 0&&typeof N!="boolean")throw new Error("unexpected preserveFocus argument: "+JSON.stringify(N,void 0,4));return O?O.show(N):()=>{}},hide:e,dispose:O?O.dispose.bind(O):()=>{}}},withProgress:(S,E)=>{let{window:k}=r();return k&&k.withProgress?k.withProgress(S,E):E({report:()=>{}},new So.CancellationTokenSource().token)},showTextDocument:e,createTextEditorDecorationType:e,showQuickPick:e,showWorkspaceFolderPick:e,showOpenDialog:e,showSaveDialog:e,showInputBox:e,createWebviewPanel:e,setStatusBarMessage:e,withScmProgress:e,createStatusBarItem:e,createTerminal:e,registerTreeDataProvider:e,createTreeView:e,registerWebviewPanelSerializer:e,get activeTextEditor(){return e()},get visibleTextEditors(){return e()},onDidChangeActiveTextEditor:e,onDidChangeVisibleTextEditors:e,onDidChangeTextEditorSelection:e,onDidChangeTextEditorVisibleRanges:e,onDidChangeTextEditorOptions:e,onDidChangeTextEditorViewColumn:e,get terminals(){return e()},get activeTerminal(){return e()},onDidChangeActiveTerminal:e,onDidOpenTerminal:e,onDidCloseTerminal:e,get state(){return e()},onDidChangeWindowState:e,createQuickPick:e,createInputBox:e,registerUriHandler:e,registerWebviewViewProvider:e,registerCustomEditorProvider:e,registerTerminalLinkProvider:e,get activeColorTheme(){return e()},onDidChangeActiveColorTheme:e,registerFileDecorationProvider:e},B={registerCommand(S,E,k){let{commands:O}=r();return O?O.registerCommand(S,E,k):Re.Disposable.create(()=>{})},registerTextEditorCommand:e,executeCommand:e,getCommands:e};class ne{constructor(E){this.callOnDispose=E}static from(...E){let k=E;return new ne(function(){if(k){for(let O of k)O&&typeof O.dispose=="function"&&O.dispose();k=void 0}})}dispose(){this.callOnDispose()}}let Z={appName:"Monaco",appRoot:"",language:navigator.language||"en-US",get uriScheme(){return e()},get clipboard(){return e()},get machineId(){return e()},get sessionId(){return e()},remoteName:void 0,shell:"",uiKind:2,asExternalUri:e,openExternal:e};return{workspace:R,languages:j,window:U,commands:B,env:Z,Uri:t,CompletionItem:n,CodeLens:i,DocumentLink:s,CodeActionKind:o,CodeAction:g,Diagnostic:f,CallHierarchyItem:l,SemanticTokens:m,Disposable:ne,SignatureHelpTriggerKind:oe.SignatureHelpTriggerKind,DiagnosticSeverity:Po.DiagnosticSeverity,EventEmitter:Po.Emitter,CancellationTokenSource:So.CancellationTokenSource,ProgressLocation:Po.ProgressLocation}}kn.createVSCodeApi=Vf});var Le=A((km,hc)=>{"use strict";var Xf=gc(),Zf=ht();hc.exports=(0,Xf.createVSCodeApi)(Zf.Services.get)});var xo=A(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.toJSONObject=qn.ConfigurationFeature=void 0;var Eo=Le(),Yf=Se(),ko=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(Yf.ConfigurationRequest.type,(t,n)=>{let i=o=>{let f=[];for(let l of o.items){let g=l.scopeUri!==void 0&&l.scopeUri!==null?this._client.protocol2CodeConverter.asUri(l.scopeUri):void 0;f.push(this.getConfiguration(g,l.section!==null?l.section:void 0))}return f},s=e.clientOptions.middleware.workspace;return s&&s.configuration?s.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=xn(Eo.workspace.getConfiguration(void 0,e).get(t));else{let s=Eo.workspace.getConfiguration(t.substr(0,i),e);s&&(n=xn(s.get(t.substr(i+1))))}}else{let i=Eo.workspace.getConfiguration(void 0,e);n={};for(let s of Object.keys(i))i.has(s)&&(n[s]=xn(i.get(s)))}return n===void 0&&(n=null),n}dispose(){}};qn.ConfigurationFeature=ko;function xn(r){if(r){if(Array.isArray(r))return r.map(xn);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=xn(r[t]));return e}}return r}qn.toJSONObject=xn});var cn=A(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.asPromise=Ee.thenable=Ee.typedArray=Ee.stringArray=Ee.array=Ee.func=Ee.error=Ee.number=Ee.string=Ee.boolean=void 0;function eg(r){return r===!0||r===!1}Ee.boolean=eg;function mc(r){return typeof r=="string"||r instanceof String}Ee.string=mc;function tg(r){return typeof r=="number"||r instanceof Number}Ee.number=tg;function ng(r){return r instanceof Error}Ee.error=ng;function pc(r){return typeof r=="function"}Ee.func=pc;function vc(r){return Array.isArray(r)}Ee.array=vc;function rg(r){return vc(r)&&r.every(e=>mc(e))}Ee.stringArray=rg;function ig(r,e){return Array.isArray(r)&&r.every(e)}Ee.typedArray=ig;function yc(r){return r&&pc(r.then)}Ee.thenable=yc;function og(r){return r instanceof Promise?r:yc(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}Ee.asPromise=og});var Io=A(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});var sg=Le(),qo=class extends sg.CompletionItem{constructor(e){super(e)}};Oo.default=qo});var No=A(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var ag=Le(),Fo=class extends ag.CodeLens{constructor(e){super(e)}};Mo.default=Fo});var jo=A(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var cg=Le(),Lo=class extends cg.DocumentLink{constructor(e,t){super(e,t)}};Ao.default=Lo});var Wo=A(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var ug=Le(),Ko=class extends ug.CodeAction{constructor(e,t){super(e),this.data=t}};Ho.default=Ko});var $o=A(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.ProtocolDiagnostic=un.DiagnosticCode=void 0;var dg=Le(),Uo=cn(),lg;(function(r){function e(t){let n=t;return n!=null&&(Uo.number(n.value)||Uo.string(n.value))&&Uo.string(n.target)}r.is=e})(lg=un.DiagnosticCode||(un.DiagnosticCode={}));var zo=class extends dg.Diagnostic{constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};un.ProtocolDiagnostic=zo});var Go=A(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});var fg=Le(),Jo=class extends fg.CallHierarchyItem{constructor(e,t,n,i,s,o,f){super(e,t,n,i,s,o),f!==void 0&&(this.data=f)}};Bo.default=Jo});var _c=A(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.createConverter=void 0;var He=Le(),he=Se(),Xn=cn(),gg=Io(),hg=No(),mg=jo(),pg=Wo(),Cc=$o(),vg=Go(),yg=Se(),Qo;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(Qo||(Qo={}));function Cg(r){let t=r||(a=>a.toString());function n(a){return t(a)}function i(a){return{uri:t(a.uri)}}function s(a){return{uri:t(a.uri),version:a.version}}function o(a){return{textDocument:{uri:t(a.uri),languageId:a.languageId,version:a.version,text:a.getText()}}}function f(a){let c=a;return!!c.document&&!!c.contentChanges}function l(a){let c=a;return!!c.uri&&!!c.version}function g(a){if(l(a))return{textDocument:{uri:t(a.uri),version:a.version},contentChanges:[{text:a.getText()}]};if(f(a)){let c=a.document;return{textDocument:{uri:t(c.uri),version:c.version},contentChanges:a.contentChanges.map(T=>{let K=T.range;return{range:{start:{line:K.start.line,character:K.start.character},end:{line:K.end.line,character:K.end.character}},rangeLength:T.rangeLength,text:T.text}})}}else throw Error("Unsupported text document change parameter")}function m(a){return{textDocument:i(a)}}function _(a,c=!1){let C={textDocument:i(a)};return c&&(C.text=a.getText()),C}function R(a){switch(a){case He.TextDocumentSaveReason.Manual:return he.TextDocumentSaveReason.Manual;case He.TextDocumentSaveReason.AfterDelay:return he.TextDocumentSaveReason.AfterDelay;case He.TextDocumentSaveReason.FocusOut:return he.TextDocumentSaveReason.FocusOut}return he.TextDocumentSaveReason.Manual}function P(a){return{textDocument:i(a.document),reason:R(a.reason)}}function F(a){return{files:a.files.map(c=>({uri:t(c)}))}}function j(a){return{files:a.files.map(c=>({oldUri:t(c.oldUri),newUri:t(c.newUri)}))}}function Q(a){return{files:a.files.map(c=>({uri:t(c)}))}}function U(a){return{files:a.files.map(c=>({uri:t(c)}))}}function B(a){return{files:a.files.map(c=>({oldUri:t(c.oldUri),newUri:t(c.newUri)}))}}function ne(a){return{files:a.files.map(c=>({uri:t(c)}))}}function Z(a,c){return{textDocument:i(a),position:H(c)}}function ee(a){switch(a){case He.CompletionTriggerKind.TriggerCharacter:return he.CompletionTriggerKind.TriggerCharacter;case He.CompletionTriggerKind.TriggerForIncompleteCompletions:return he.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return he.CompletionTriggerKind.Invoked}}function S(a,c,C){return{textDocument:i(a),position:H(c),context:{triggerKind:ee(C.triggerKind),triggerCharacter:C.triggerCharacter}}}function E(a){switch(a){case He.SignatureHelpTriggerKind.Invoke:return he.SignatureHelpTriggerKind.Invoked;case He.SignatureHelpTriggerKind.TriggerCharacter:return he.SignatureHelpTriggerKind.TriggerCharacter;case He.SignatureHelpTriggerKind.ContentChange:return he.SignatureHelpTriggerKind.ContentChange}}function k(a){return{label:a.label}}function O(a){return a.map(k)}function N(a){return{label:a.label,parameters:O(a.parameters)}}function D(a){return a.map(N)}function x(a){return a===void 0?a:{signatures:D(a.signatures),activeSignature:a.activeSignature,activeParameter:a.activeParameter}}function M(a,c,C){return{textDocument:i(a),position:H(c),context:{isRetrigger:C.isRetrigger,triggerCharacter:C.triggerCharacter,triggerKind:E(C.triggerKind),activeSignatureHelp:x(C.activeSignatureHelp)}}}function H(a){return{line:a.line,character:a.character}}function ie(a){return a==null?a:{line:a.line,character:a.character}}function re(a){let c=[];for(let C of a)c.push(ie(C));return c}function X(a){return a==null?a:{start:ie(a.start),end:ie(a.end)}}function We(a){return a==null?a:he.Location.create(n(a.uri),X(a.range))}function ve(a){switch(a){case He.DiagnosticSeverity.Error:return he.DiagnosticSeverity.Error;case He.DiagnosticSeverity.Warning:return he.DiagnosticSeverity.Warning;case He.DiagnosticSeverity.Information:return he.DiagnosticSeverity.Information;case He.DiagnosticSeverity.Hint:return he.DiagnosticSeverity.Hint}}function Fe(a){if(!a)return;let c=[];for(let C of a){let T=Ge(C);T!==void 0&&c.push(T)}return c.length>0?c:void 0}function Ge(a){switch(a){case He.DiagnosticTag.Unnecessary:return he.DiagnosticTag.Unnecessary;case He.DiagnosticTag.Deprecated:return he.DiagnosticTag.Deprecated;default:return}}function Qe(a){return{message:a.message,location:We(a.location)}}function jt(a){return a.map(Qe)}function Kt(a){if(a!=null)return Xn.number(a)||Xn.string(a)?a:{value:a.value,target:n(a.target)}}function Pt(a){let c=he.Diagnostic.create(X(a.range),a.message),C=a instanceof Cc.ProtocolDiagnostic?a:void 0;C!==void 0&&C.data!==void 0&&(c.data=C.data);let T=Kt(a.code);return Cc.DiagnosticCode.is(T)?C!==void 0&&C.hasDiagnosticCode?c.code=T:(c.code=T.value,c.codeDescription={href:T.target}):c.code=T,Xn.number(a.severity)&&(c.severity=ve(a.severity)),Array.isArray(a.tags)&&(c.tags=Fe(a.tags)),a.relatedInformation&&(c.relatedInformation=jt(a.relatedInformation)),a.source&&(c.source=a.source),c}function St(a){return a==null?a:a.map(Pt)}function Ct(a,c){switch(a){case"$string":return c;case he.MarkupKind.PlainText:return{kind:a,value:c};case he.MarkupKind.Markdown:return{kind:a,value:c.value};default:return`Unsupported Markup content received. Kind is: ${a}`}}function _t(a){switch(a){case He.CompletionItemTag.Deprecated:return he.CompletionItemTag.Deprecated}}function Et(a){if(a===void 0)return a;let c=[];for(let C of a){let T=_t(C);T!==void 0&&c.push(T)}return c}function Ht(a,c){return c!==void 0?c:a+1}function Xt(a){let c={label:a.label},C=a instanceof gg.default?a:void 0;a.detail&&(c.detail=a.detail),a.documentation&&(!C||C.documentationFormat==="$string"?c.documentation=a.documentation:c.documentation=Ct(C.documentationFormat,a.documentation)),a.filterText&&(c.filterText=a.filterText),et(c,a),Xn.number(a.kind)&&(c.kind=Ht(a.kind,C&&C.originalItemKind)),a.sortText&&(c.sortText=a.sortText),a.additionalTextEdits&&(c.additionalTextEdits=Zt(a.additionalTextEdits)),a.commitCharacters&&(c.commitCharacters=a.commitCharacters.slice()),a.command&&(c.command=rt(a.command)),(a.preselect===!0||a.preselect===!1)&&(c.preselect=a.preselect);let T=Et(a.tags);if(C){if(C.data!==void 0&&(c.data=C.data),C.deprecated===!0||C.deprecated===!1){if(C.deprecated===!0&&T!==void 0&&T.length>0){let K=T.indexOf(He.CompletionItemTag.Deprecated);K!==-1&&T.splice(K,1)}c.deprecated=C.deprecated}C.insertTextMode!==void 0&&(c.insertTextMode=C.insertTextMode)}return T!==void 0&&T.length>0&&(c.tags=T),c.insertTextMode===void 0&&a.keepWhitespace===!0&&(c.insertTextMode=yg.InsertTextMode.adjustIndentation),c}function et(a,c){let C=he.InsertTextFormat.PlainText,T,K;c.textEdit?(T=c.textEdit.newText,K=c.textEdit.range):c.insertText instanceof He.SnippetString?(C=he.InsertTextFormat.Snippet,T=c.insertText.value):T=c.insertText,c.range&&(K=c.range),a.insertTextFormat=C,c.fromEdit&&T!==void 0&&K!==void 0?a.textEdit=Wt(T,K):a.insertText=T}function Wt(a,c){return Qo.is(c)?he.InsertReplaceEdit.create(a,X(c.inserting),X(c.replacing)):{newText:a,range:X(c)}}function tt(a){return{range:X(a.range),newText:a.newText}}function Zt(a){return a==null?a:a.map(tt)}function ke(a){return a<=He.SymbolKind.TypeParameter?a+1:he.SymbolKind.Property}function Ve(a){return a}function Ut(a){return a.map(Ve)}function Yt(a,c,C){return{textDocument:i(a),position:H(c),context:{includeDeclaration:C.includeDeclaration}}}function nt(a){let c=he.CodeAction.create(a.title);if(a instanceof pg.default&&a.data!==void 0&&(c.data=a.data),a.kind!==void 0&&(c.kind=kt(a.kind)),a.diagnostics!==void 0&&(c.diagnostics=St(a.diagnostics)),a.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return a.command!==void 0&&(c.command=rt(a.command)),a.isPreferred!==void 0&&(c.isPreferred=a.isPreferred),a.disabled!==void 0&&(c.disabled={reason:a.disabled.reason}),c}function zt(a){if(a==null)return a;let c;return a.only&&Xn.string(a.only.value)&&(c=[a.only.value]),he.CodeActionContext.create(St(a.diagnostics),c)}function kt(a){if(a!=null)return a.value}function rt(a){let c=he.Command.create(a.title,a.command);return a.arguments&&(c.arguments=a.arguments),c}function xt(a){let c=he.CodeLens.create(X(a.range));return a.command&&(c.command=rt(a.command)),a instanceof hg.default&&a.data&&(c.data=a.data),c}function it(a,c){let C={tabSize:a.tabSize,insertSpaces:a.insertSpaces};return c.trimTrailingWhitespace&&(C.trimTrailingWhitespace=!0),c.trimFinalNewlines&&(C.trimFinalNewlines=!0),c.insertFinalNewline&&(C.insertFinalNewline=!0),C}function b(a){return{textDocument:i(a)}}function p(a){return{textDocument:i(a)}}function d(a){let c=he.DocumentLink.create(X(a.range));a.target&&(c.target=n(a.target)),a.tooltip!==void 0&&(c.tooltip=a.tooltip);let C=a instanceof mg.default?a:void 0;return C&&C.data&&(c.data=C.data),c}function v(a){return{textDocument:i(a)}}function w(a){let c={name:a.name,kind:ke(a.kind),uri:n(a.uri),range:X(a.range),selectionRange:X(a.selectionRange)};return a.detail!==void 0&&a.detail.length>0&&(c.detail=a.detail),a.tags!==void 0&&(c.tags=Ut(a.tags)),a instanceof vg.default&&a.data!==void 0&&(c.data=a.data),c}return{asUri:n,asTextDocumentIdentifier:i,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:o,asChangeTextDocumentParams:g,asCloseTextDocumentParams:m,asSaveTextDocumentParams:_,asWillSaveTextDocumentParams:P,asDidCreateFilesParams:F,asDidRenameFilesParams:j,asDidDeleteFilesParams:Q,asWillCreateFilesParams:U,asWillRenameFilesParams:B,asWillDeleteFilesParams:ne,asTextDocumentPositionParams:Z,asCompletionParams:S,asSignatureHelpParams:M,asWorkerPosition:H,asRange:X,asPosition:ie,asPositions:re,asLocation:We,asDiagnosticSeverity:ve,asDiagnosticTag:Ge,asDiagnostic:Pt,asDiagnostics:St,asCompletionItem:Xt,asTextEdit:tt,asSymbolKind:ke,asSymbolTag:Ve,asSymbolTags:Ut,asReferenceParams:Yt,asCodeAction:nt,asCodeActionContext:zt,asCommand:rt,asCodeLens:xt,asFormattingOptions:it,asDocumentSymbolParams:b,asCodeLensParams:p,asDocumentLink:d,asDocumentLinkParams:v,asCallHierarchyItem:w}}Er.createConverter=Cg});var Dc=A(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.createConverter=void 0;var $=Le(),de=Se(),mt=cn(),_g=Io(),bg=No(),wg=jo(),Dg=Wo(),bc=$o(),Rg=Go(),wc=Se(),kr;(function(r){function e(t){let n=t;return n&&mt.string(n.language)&&mt.string(n.value)}r.is=e})(kr||(kr={}));function Tg(r,e){let n=r||(u=>$.Uri.parse(u));function i(u){return n(u)}function s(u){return u.map(o)}function o(u){let q=new bc.ProtocolDiagnostic(R(u.range),u.message,F(u.severity),u.data);return u.code!==void 0&&(de.CodeDescription.is(u.codeDescription)?q.code={value:u.code,target:i(u.codeDescription.href)}:bc.DiagnosticCode.is(u.code)?(q.hasDiagnosticCode=!0,q.code={value:u.code.value,target:i(u.code.target)}):q.code=u.code),u.source&&(q.source=u.source),u.relatedInformation&&(q.relatedInformation=f(u.relatedInformation)),Array.isArray(u.tags)&&(q.tags=g(u.tags)),q}function f(u){return u.map(l)}function l(u){return new $.DiagnosticRelatedInformation(X(u.location),u.message)}function g(u){if(!u)return;let q=[];for(let V of u){let ge=m(V);ge!==void 0&&q.push(ge)}return q.length>0?q:void 0}function m(u){switch(u){case de.DiagnosticTag.Unnecessary:return $.DiagnosticTag.Unnecessary;case de.DiagnosticTag.Deprecated:return $.DiagnosticTag.Deprecated;default:return}}function _(u){if(!!u)return new $.Position(u.line,u.character)}function R(u){if(!!u)return new $.Range(_(u.start),_(u.end))}function P(u){return u.map(q=>R(q))}function F(u){if(u==null)return $.DiagnosticSeverity.Error;switch(u){case de.DiagnosticSeverity.Error:return $.DiagnosticSeverity.Error;case de.DiagnosticSeverity.Warning:return $.DiagnosticSeverity.Warning;case de.DiagnosticSeverity.Information:return $.DiagnosticSeverity.Information;case de.DiagnosticSeverity.Hint:return $.DiagnosticSeverity.Hint}return $.DiagnosticSeverity.Error}function j(u){if(mt.string(u))return U(u);if(kr.is(u))return U().appendCodeblock(u.value,u.language);if(Array.isArray(u)){let q=[];for(let V of u){let ge=U();kr.is(V)?ge.appendCodeblock(V.value,V.language):ge.appendMarkdown(V),q.push(ge)}return q}else{let q;switch(u.kind){case de.MarkupKind.Markdown:return U(u.value);case de.MarkupKind.PlainText:return q=U(),q.appendText(u.value),q;default:return q=U(),q.appendText(`Unsupported Markup content received. Kind is: ${u.kind}`),q}}}function Q(u){if(mt.string(u))return u;switch(u.kind){case de.MarkupKind.Markdown:return U(u.value);case de.MarkupKind.PlainText:return u.value;default:return`Unsupported Markup content received. Kind is: ${u.kind}`}}function U(u){let q=new $.MarkdownString(u);return e===!0&&(q.isTrusted=e),q}function B(u){if(!!u)return new $.Hover(j(u.contents),R(u.range))}function ne(u){if(!u)return;if(Array.isArray(u))return u.map(E);let q=u;return new $.CompletionList(q.items.map(E),q.isIncomplete)}function Z(u){return de.CompletionItemKind.Text<=u&&u<=de.CompletionItemKind.TypeParameter?[u-1,void 0]:[$.CompletionItemKind.Text,u]}function ee(u){switch(u){case de.CompletionItemTag.Deprecated:return $.CompletionItemTag.Deprecated}}function S(u){if(u==null)return[];let q=[];for(let V of u){let ge=ee(V);ge!==void 0&&q.push(ge)}return q}function E(u){let q=S(u.tags),V=new _g.default(u.label);u.detail&&(V.detail=u.detail),u.documentation&&(V.documentation=Q(u.documentation),V.documentationFormat=mt.string(u.documentation)?"$string":u.documentation.kind),u.filterText&&(V.filterText=u.filterText);let ge=k(u);if(ge&&(V.insertText=ge.text,V.range=ge.range,V.fromEdit=ge.fromEdit),mt.number(u.kind)){let[ye,tn]=Z(u.kind);V.kind=ye,tn&&(V.originalItemKind=tn)}return u.sortText&&(V.sortText=u.sortText),u.additionalTextEdits&&(V.additionalTextEdits=D(u.additionalTextEdits)),mt.stringArray(u.commitCharacters)&&(V.commitCharacters=u.commitCharacters.slice()),u.command&&(V.command=tt(u.command)),(u.deprecated===!0||u.deprecated===!1)&&(V.deprecated=u.deprecated,u.deprecated===!0&&q.push($.CompletionItemTag.Deprecated)),(u.preselect===!0||u.preselect===!1)&&(V.preselect=u.preselect),u.data!==void 0&&(V.data=u.data),q.length>0&&(V.tags=q),u.insertTextMode!==void 0&&(V.insertTextMode=u.insertTextMode,u.insertTextMode===wc.InsertTextMode.asIs&&(V.keepWhitespace=!0)),V}function k(u){return u.textEdit?u.insertTextFormat===de.InsertTextFormat.Snippet?{text:new $.SnippetString(u.textEdit.newText),range:O(u.textEdit),fromEdit:!0}:{text:u.textEdit.newText,range:O(u.textEdit),fromEdit:!0}:u.insertText?u.insertTextFormat===de.InsertTextFormat.Snippet?{text:new $.SnippetString(u.insertText),fromEdit:!1}:{text:u.insertText,fromEdit:!1}:void 0}function O(u){return de.InsertReplaceEdit.is(u)?{inserting:R(u.insert),replacing:R(u.replace)}:R(u.range)}function N(u){if(!!u)return new $.TextEdit(R(u.range),u.newText)}function D(u){if(!!u)return u.map(N)}function x(u){if(!u)return;let q=new $.SignatureHelp;return mt.number(u.activeSignature)?q.activeSignature=u.activeSignature:q.activeSignature=0,mt.number(u.activeParameter)?q.activeParameter=u.activeParameter:q.activeParameter=0,u.signatures&&(q.signatures=M(u.signatures)),q}function M(u){return u.map(H)}function H(u){let q=new $.SignatureInformation(u.label);return u.documentation!==void 0&&(q.documentation=Q(u.documentation)),u.parameters!==void 0&&(q.parameters=ie(u.parameters)),u.activeParameter!==void 0&&(q.activeParameter=u.activeParameter),q}function ie(u){return u.map(re)}function re(u){let q=new $.ParameterInformation(u.label);return u.documentation&&(q.documentation=Q(u.documentation)),q}function X(u){if(!!u)return new $.Location(n(u.uri),R(u.range))}function We(u){if(!!u)return Ge(u)}function ve(u){if(!!u)return Ge(u)}function Fe(u){if(!u)return;let q={targetUri:n(u.targetUri),targetRange:R(u.targetRange),originSelectionRange:R(u.originSelectionRange),targetSelectionRange:R(u.targetSelectionRange)};if(!q.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return q}function Ge(u){if(!!u)return mt.array(u)?u.length===0?[]:de.LocationLink.is(u[0])?u.map(V=>Fe(V)):u.map(V=>X(V)):de.LocationLink.is(u)?[Fe(u)]:X(u)}function Qe(u){if(!!u)return u.map(q=>X(q))}function jt(u){if(!!u)return u.map(Kt)}function Kt(u){let q=new $.DocumentHighlight(R(u.range));return mt.number(u.kind)&&(q.kind=Pt(u.kind)),q}function Pt(u){switch(u){case de.DocumentHighlightKind.Text:return $.DocumentHighlightKind.Text;case de.DocumentHighlightKind.Read:return $.DocumentHighlightKind.Read;case de.DocumentHighlightKind.Write:return $.DocumentHighlightKind.Write}return $.DocumentHighlightKind.Text}function St(u,q){if(!!u)return u.map(V=>Ht(V,q))}function Ct(u){return u<=de.SymbolKind.TypeParameter?u-1:$.SymbolKind.Property}function _t(u){switch(u){case de.SymbolTag.Deprecated:return $.SymbolTag.Deprecated;default:return}}function Et(u){if(u==null)return;let q=[];for(let V of u){let ge=_t(V);ge!==void 0&&q.push(ge)}return q.length===0?void 0:q}function Ht(u,q){let V=new $.SymbolInformation(u.name,Ct(u.kind),R(u.location.range),u.location.uri?n(u.location.uri):q);return Wt(V,u),u.containerName&&(V.containerName=u.containerName),V}function Xt(u){if(u!=null)return u.map(et)}function et(u){let q=new $.DocumentSymbol(u.name,u.detail||"",Ct(u.kind),R(u.range),R(u.selectionRange));if(Wt(q,u),u.children!==void 0&&u.children.length>0){let V=[];for(let ge of u.children)V.push(et(ge));q.children=V}return q}function Wt(u,q){u.tags=Et(q.tags),q.deprecated&&(u.tags?u.tags.includes($.SymbolTag.Deprecated)||(u.tags=u.tags.concat($.SymbolTag.Deprecated)):u.tags=[$.SymbolTag.Deprecated])}function tt(u){let q={title:u.title,command:u.command};return u.arguments&&(q.arguments=u.arguments),q}function Zt(u){if(!!u)return u.map(tt)}let ke=new Map;ke.set(de.CodeActionKind.Empty,$.CodeActionKind.Empty),ke.set(de.CodeActionKind.QuickFix,$.CodeActionKind.QuickFix),ke.set(de.CodeActionKind.Refactor,$.CodeActionKind.Refactor),ke.set(de.CodeActionKind.RefactorExtract,$.CodeActionKind.RefactorExtract),ke.set(de.CodeActionKind.RefactorInline,$.CodeActionKind.RefactorInline),ke.set(de.CodeActionKind.RefactorRewrite,$.CodeActionKind.RefactorRewrite),ke.set(de.CodeActionKind.Source,$.CodeActionKind.Source),ke.set(de.CodeActionKind.SourceOrganizeImports,$.CodeActionKind.SourceOrganizeImports);function Ve(u){if(u==null)return;let q=ke.get(u);if(q)return q;let V=u.split(".");q=$.CodeActionKind.Empty;for(let ge of V)q=q.append(ge);return q}function Ut(u){if(u!=null)return u.map(q=>Ve(q))}function Yt(u){if(u==null)return;let q=new Dg.default(u.title,u.data);return u.kind!==void 0&&(q.kind=Ve(u.kind)),u.diagnostics!==void 0&&(q.diagnostics=s(u.diagnostics)),u.edit!==void 0&&(q.edit=kt(u.edit)),u.command!==void 0&&(q.command=tt(u.command)),u.isPreferred!==void 0&&(q.isPreferred=u.isPreferred),u.disabled!==void 0&&(q.disabled={reason:u.disabled.reason}),q}function nt(u){if(!u)return;let q=new bg.default(R(u.range));return u.command&&(q.command=tt(u.command)),u.data!==void 0&&u.data!==null&&(q.data=u.data),q}function zt(u){if(!!u)return u.map(q=>nt(q))}function kt(u){if(!u)return;let q=new Map;if(u.changeAnnotations!==void 0)for(let ye of Object.keys(u.changeAnnotations)){let tn=rt(u.changeAnnotations[ye]);q.set(ye,tn)}let V=ye=>{if(ye!==void 0)return q.get(ye)},ge=new $.WorkspaceEdit;if(u.documentChanges)for(let ye of u.documentChanges)if(de.CreateFile.is(ye))ge.createFile(n(ye.uri),ye.options,V(ye.annotationId));else if(de.RenameFile.is(ye))ge.renameFile(n(ye.oldUri),n(ye.newUri),ye.options,V(ye.annotationId));else if(de.DeleteFile.is(ye))ge.deleteFile(n(ye.uri),ye.options,V(ye.annotationId));else if(de.TextDocumentEdit.is(ye)){let tn=n(ye.textDocument.uri);for(let hn of ye.edits)wc.AnnotatedTextEdit.is(hn)?ge.replace(tn,R(hn.range),hn.newText,V(hn.annotationId)):ge.replace(tn,R(hn.range),hn.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(ye,void 0,4)}`);else u.changes&&Object.keys(u.changes).forEach(ye=>{ge.set(n(ye),D(u.changes[ye]))});return ge}function rt(u){if(u!==void 0)return{label:u.label,needsConfirmation:!!u.needsConfirmation,description:u.description}}function xt(u){let q=R(u.range),V=u.target?i(u.target):void 0,ge=new wg.default(q,V);return u.tooltip!==void 0&&(ge.tooltip=u.tooltip),u.data!==void 0&&u.data!==null&&(ge.data=u.data),ge}function it(u){if(!!u)return u.map(xt)}function b(u){return new $.Color(u.red,u.green,u.blue,u.alpha)}function p(u){return new $.ColorInformation(R(u.range),b(u.color))}function d(u){if(Array.isArray(u))return u.map(p)}function v(u){let q=new $.ColorPresentation(u.label);return q.additionalTextEdits=D(u.additionalTextEdits),u.textEdit&&(q.textEdit=N(u.textEdit)),q}function w(u){if(Array.isArray(u))return u.map(v)}function a(u){if(u)switch(u){case de.FoldingRangeKind.Comment:return $.FoldingRangeKind.Comment;case de.FoldingRangeKind.Imports:return $.FoldingRangeKind.Imports;case de.FoldingRangeKind.Region:return $.FoldingRangeKind.Region}}function c(u){return new $.FoldingRange(u.startLine,u.endLine,a(u.kind))}function C(u){if(Array.isArray(u))return u.map(c)}function T(u){return new $.SelectionRange(R(u.range),u.parent?T(u.parent):void 0)}function K(u){if(!Array.isArray(u))return[];let q=[];for(let V of u)q.push(T(V));return q}function J(u){if(u===null)return;let q=new Rg.default(Ct(u.kind),u.name,u.detail||"",i(u.uri),R(u.range),R(u.selectionRange),u.data);return u.tags!==void 0&&(q.tags=Et(u.tags)),q}function se(u){if(u!==null)return u.map(q=>J(q))}function me(u){return new $.CallHierarchyIncomingCall(J(u.from),P(u.fromRanges))}function xe(u){if(u!==null)return u.map(q=>me(q))}function qe(u){return new $.CallHierarchyOutgoingCall(J(u.to),P(u.fromRanges))}function le(u){if(u!==null)return u.map(q=>qe(q))}function $t(u){if(u!=null)return new $.SemanticTokens(new Uint32Array(u.data),u.resultId)}function en(u){return new $.SemanticTokensEdit(u.start,u.deleteCount,u.data!==void 0?new Uint32Array(u.data):void 0)}function ir(u){if(u!=null)return new $.SemanticTokensEdits(u.edits.map(en),u.resultId)}function mu(u){return u}function pu(u){if(u!=null)return new $.LinkedEditingRanges(P(u.ranges),vu(u.wordPattern))}function vu(u){if(u!=null)return new RegExp(u)}return{asUri:i,asDiagnostics:s,asDiagnostic:o,asRange:R,asRanges:P,asPosition:_,asDiagnosticSeverity:F,asDiagnosticTag:m,asHover:B,asCompletionResult:ne,asCompletionItem:E,asTextEdit:N,asTextEdits:D,asSignatureHelp:x,asSignatureInformations:M,asSignatureInformation:H,asParameterInformations:ie,asParameterInformation:re,asDeclarationResult:We,asDefinitionResult:ve,asLocation:X,asReferences:Qe,asDocumentHighlights:jt,asDocumentHighlight:Kt,asDocumentHighlightKind:Pt,asSymbolKind:Ct,asSymbolTag:_t,asSymbolTags:Et,asSymbolInformations:St,asSymbolInformation:Ht,asDocumentSymbols:Xt,asDocumentSymbol:et,asCommand:tt,asCommands:Zt,asCodeAction:Yt,asCodeActionKind:Ve,asCodeActionKinds:Ut,asCodeLens:nt,asCodeLenses:zt,asWorkspaceEdit:kt,asDocumentLink:xt,asDocumentLinks:it,asFoldingRangeKind:a,asFoldingRange:c,asFoldingRanges:C,asColor:b,asColorInformation:p,asColorInformations:d,asColorPresentation:v,asColorPresentations:w,asSelectionRange:T,asSelectionRanges:K,asSemanticTokensLegend:mu,asSemanticTokens:$t,asSemanticTokensEdit:en,asSemanticTokensEdits:ir,asCallHierarchyItem:J,asCallHierarchyItems:se,asCallHierarchyIncomingCall:me,asCallHierarchyIncomingCalls:xe,asCallHierarchyOutgoingCall:qe,asCallHierarchyOutgoingCalls:le,asLinkedEditingRanges:pu}}xr.createConverter=Tg});var Tc=A(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.Delayer=void 0;var Rc=Se(),Vo=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=Rc.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(Rc.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};qr.Delayer=Vo});var Xo=A(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.generateUuid=at.parse=at.isUUID=at.v4=at.empty=void 0;var Zn=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},ue=class extends Zn{constructor(){super([ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),"-",ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),"-","4",ue._randomHex(),ue._randomHex(),ue._randomHex(),"-",ue._oneOf(ue._timeHighBits),ue._randomHex(),ue._randomHex(),ue._randomHex(),"-",ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex(),ue._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return ue._oneOf(ue._chars)}};ue._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];ue._timeHighBits=["8","9","a","b"];at.empty=new Zn("00000000-0000-0000-0000-000000000000");function Pc(){return new ue}at.v4=Pc;var Pg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Sc(r){return Pg.test(r)}at.isUUID=Sc;function Sg(r){if(!Sc(r))throw new Error("invalid uuid");return new Zn(r)}at.parse=Sg;function Eg(){return Pc().asHex()}at.generateUuid=Eg});var Yo=A(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.ProgressPart=void 0;var Ec=Le(),kc=Se(),xc=cn(),Zo=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._disposable=this._client.onProgress(kc.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){Ec.window.withProgress({location:Ec.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>(this._progress=t,this._infinite=e.percentage===void 0,this._cancellationToken=n,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(kc.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s})))}report(e){if(this._infinite&&xc.string(e.message))this._progress.report({message:e.message});else if(xc.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._progress.report({message:e.message,increment:n}),this._reported+=n}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};Or.ProgressPart=Zo});var Dt=A(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.BaseLanguageClient=Oe.MessageTransports=Oe.TextDocumentFeature=Oe.State=Oe.RevealOutputChannelOn=Oe.CloseAction=Oe.ErrorAction=void 0;var W=Le(),y=Se(),kg=xo(),xg=_c(),qg=Dc(),Ce=cn(),qc=Tc(),_e=Xo(),Og=Yo(),es=class{error(e){y.RAL().console.error(e)}warn(e){y.RAL().console.warn(e)}info(e){y.RAL().console.info(e)}log(e){y.RAL().console.log(e)}};function Ig(r,e,t,n,i){let s=new es,o=y.createProtocolConnection(r,e,s,i);return o.onError(l=>{t(l[0],l[1],l[2])}),o.onClose(n),{listen:()=>o.listen(),sendRequest:(l,...g)=>o.sendRequest(Ce.string(l)?l:l.method,...g),onRequest:(l,g)=>o.onRequest(Ce.string(l)?l:l.method,g),sendNotification:(l,g)=>o.sendNotification(Ce.string(l)?l:l.method,g),onNotification:(l,g)=>o.onNotification(Ce.string(l)?l:l.method,g),onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(l,g,m)=>{let _={sendNotification:!1,traceFormat:y.TraceFormat.Text};m===void 0?o.trace(l,g,_):(Ce.boolean(m),o.trace(l,g,m))},initialize:l=>o.sendRequest(y.InitializeRequest.type,l),shutdown:()=>o.sendRequest(y.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(y.ExitNotification.type),onLogMessage:l=>o.onNotification(y.LogMessageNotification.type,l),onShowMessage:l=>o.onNotification(y.ShowMessageNotification.type,l),onTelemetry:l=>o.onNotification(y.TelemetryEventNotification.type,l),didChangeConfiguration:l=>o.sendNotification(y.DidChangeConfigurationNotification.type,l),didChangeWatchedFiles:l=>o.sendNotification(y.DidChangeWatchedFilesNotification.type,l),didOpenTextDocument:l=>o.sendNotification(y.DidOpenTextDocumentNotification.type,l),didChangeTextDocument:l=>o.sendNotification(y.DidChangeTextDocumentNotification.type,l),didCloseTextDocument:l=>o.sendNotification(y.DidCloseTextDocumentNotification.type,l),didSaveTextDocument:l=>o.sendNotification(y.DidSaveTextDocumentNotification.type,l),onDiagnostics:l=>o.onNotification(y.PublishDiagnosticsNotification.type,l),end:()=>o.end(),dispose:()=>o.dispose()}}var Fr;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(Fr=Oe.ErrorAction||(Oe.ErrorAction={}));var dn;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(dn=Oe.CloseAction||(Oe.CloseAction={}));var ts=class{constructor(e,t){this.name=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?Fr.Continue:Fr.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?dn.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(W.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),dn.DoNotRestart):(this.restarts.shift(),dn.Restart)}},Yn;(function(r){r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(Yn=Oe.RevealOutputChannelOn||(Oe.RevealOutputChannelOn={}));var Ir;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.Running=2]="Running"})(Ir=Oe.State||(Oe.State={}));var Te;(function(r){r[r.Initial=0]="Initial",r[r.Starting=1]="Starting",r[r.StartFailed=2]="StartFailed",r[r.Running=3]="Running",r[r.Stopping=4]="Stopping",r[r.Stopped=5]="Stopped"})(Te||(Te={}));var Oc=[y.SymbolKind.File,y.SymbolKind.Module,y.SymbolKind.Namespace,y.SymbolKind.Package,y.SymbolKind.Class,y.SymbolKind.Method,y.SymbolKind.Property,y.SymbolKind.Field,y.SymbolKind.Constructor,y.SymbolKind.Enum,y.SymbolKind.Interface,y.SymbolKind.Function,y.SymbolKind.Variable,y.SymbolKind.Constant,y.SymbolKind.String,y.SymbolKind.Number,y.SymbolKind.Boolean,y.SymbolKind.Array,y.SymbolKind.Object,y.SymbolKind.Key,y.SymbolKind.Null,y.SymbolKind.EnumMember,y.SymbolKind.Struct,y.SymbolKind.Event,y.SymbolKind.Operator,y.SymbolKind.TypeParameter],Fg=[y.CompletionItemKind.Text,y.CompletionItemKind.Method,y.CompletionItemKind.Function,y.CompletionItemKind.Constructor,y.CompletionItemKind.Field,y.CompletionItemKind.Variable,y.CompletionItemKind.Class,y.CompletionItemKind.Interface,y.CompletionItemKind.Module,y.CompletionItemKind.Property,y.CompletionItemKind.Unit,y.CompletionItemKind.Value,y.CompletionItemKind.Enum,y.CompletionItemKind.Keyword,y.CompletionItemKind.Snippet,y.CompletionItemKind.Color,y.CompletionItemKind.File,y.CompletionItemKind.Reference,y.CompletionItemKind.Folder,y.CompletionItemKind.EnumMember,y.CompletionItemKind.Constant,y.CompletionItemKind.Struct,y.CompletionItemKind.Event,y.CompletionItemKind.Operator,y.CompletionItemKind.TypeParameter],Ic=[y.SymbolTag.Deprecated];function G(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var er;(function(r){function e(t){let n=W.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(er||(er={}));var ns;(function(r){function e(t){let n=t;return n&&Ce.func(n.register)&&Ce.func(n.unregister)&&Ce.func(n.dispose)&&n.registrationType!==void 0}r.is=e})(ns||(ns={}));var pt=class{constructor(e,t,n,i,s,o){this._client=e,this._event=t,this._type=n,this._middleware=i,this._createParams=s,this._selectorFilter=o,this._selectors=new Map}static textDocumentFilter(e,t){for(let n of e)if(W.languages.match(n,t))return!0;return!1}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))&&(this._middleware?this._middleware(e,t=>this._client.sendNotification(this._type,this._createParams(t))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(W.languages.match(t,e))return{send:n=>{this.callback(n)}}}},rs=class extends pt{constructor(e,t){super(e,W.workspace.onDidOpenTextDocument,y.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),pt.textDocumentFilter),this._syncedDocuments=t}fillClientCapabilities(e){G(G(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:_e.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return y.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=e.registerOptions.documentSelector;W.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&W.languages.match(t,n)){let s=this._client.clientOptions.middleware,o=f=>{this._client.sendNotification(this._type,this._createParams(f))};s.didOpen?s.didOpen(n,o):o(n),this._syncedDocuments.set(i,n)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}},is=class extends pt{constructor(e,t){super(e,W.workspace.onDidCloseTextDocument,y.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,n=>e.code2ProtocolConverter.asCloseTextDocumentParams(n),pt.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return y.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){G(G(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:_e.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(W.languages.match(t,i)&&!this._selectorFilter(n,i)){let s=this._client.clientOptions.middleware,o=f=>{this._client.sendNotification(this._type,this._createParams(f))};this._syncedDocuments.delete(i.uri.toString()),s.didClose?s.didClose(i,o):o(i)}})}},os=class{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return y.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){G(G(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==y.TextDocumentSyncKind.None&&this.register({id:_e.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=W.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(e.contentChanges.length!==0){for(let t of this._changeData.values())if(W.languages.match(t.documentSelector,e.document)){let n=this._client.clientOptions.middleware;if(t.syncKind===y.TextDocumentSyncKind.Incremental){let i=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);n.didChange?n.didChange(e,()=>this._client.sendNotification(y.DidChangeTextDocumentNotification.type,i)):this._client.sendNotification(y.DidChangeTextDocumentNotification.type,i)}else if(t.syncKind===y.TextDocumentSyncKind.Full){let i=s=>{this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(y.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))})):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new qc.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(y.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))},-1))};n.didChange?n.didChange(e,i):i(e)}}}}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let t of this._changeData.values())if(W.languages.match(t.documentSelector,e))return{send:n=>{this.callback(n)}}}},ss=class extends pt{constructor(e){super(e,W.workspace.onWillSaveTextDocument,y.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),(t,n)=>pt.textDocumentFilter(t,n.document))}get registrationType(){return y.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:_e.generateUuid(),registerOptions:{documentSelector:t}})}},as=class{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return y.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:_e.generateUuid(),registerOptions:{documentSelector:t}})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=W.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if(pt.textDocumentFilter(this._selectors.values(),e.document)){let t=this._client.clientOptions.middleware,n=i=>this._client.sendRequest(y.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(s=>{let o=this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},cs=class extends pt{constructor(e){super(e,W.workspace.onDidSaveTextDocument,y.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),pt.textDocumentFilter),this._includeText=!1}get registrationType(){return y.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){G(G(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:_e.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}},us=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}get registrationType(){return y.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){G(G(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){if(!Ce.string(n.globPattern))continue;let i=!0,s=!0,o=!0;n.kind!==void 0&&n.kind!==null&&(i=(n.kind&y.WatchKind.Create)!==0,s=(n.kind&y.WatchKind.Change)!==0,o=(n.kind&y.WatchKind.Delete)!==0);let f=W.workspace.createFileSystemWatcher(n.globPattern,!i,!s,!o);this.hookListeners(f,i,s,o),t.push(f)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,s){t&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:y.FileChangeType.Created}),null,s),n&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:y.FileChangeType.Changed}),null,s),i&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:y.FileChangeType.Deleted}),null,s)}unregister(e){let t=this._watchers.get(e);if(t)for(let n of t)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}},Ue=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(y.TextDocumentRegistrationOptions.is(t)){let n=y.StaticRegistrationOptions.hasId(t)?t.id:_e.generateUuid(),i=t.documentSelector||e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(Ce.boolean(t)&&t===!0||y.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=Ce.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[_e.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return Ce.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&W.languages.match(n,e))return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Oe.TextDocumentFeature=Ue;var ds=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}},ls=class extends Ue{constructor(e){super(e,y.CompletionRequest.type)}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[y.MarkupKind.Markdown,y.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[y.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[y.InsertTextMode.asIs,y.InsertTextMode.adjustIndentation]}},t.completionItemKind={valueSet:Fg}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.triggerCharacters||[],n={provideCompletionItems:(i,s,o,f)=>{let l=this._client,g=this._client.clientOptions.middleware,m=(_,R,P,F)=>l.sendRequest(y.CompletionRequest.type,l.code2ProtocolConverter.asCompletionParams(_,R,P),F).then(l.protocol2CodeConverter.asCompletionResult,j=>l.handleFailedRequest(y.CompletionRequest.type,j,null));return g.provideCompletionItem?g.provideCompletionItem(i,s,f,o,m):m(i,s,f,o)},resolveCompletionItem:e.resolveProvider?(i,s)=>{let o=this._client,f=this._client.clientOptions.middleware,l=(g,m)=>o.sendRequest(y.CompletionResolveRequest.type,o.code2ProtocolConverter.asCompletionItem(g),m).then(o.protocol2CodeConverter.asCompletionItem,_=>o.handleFailedRequest(y.CompletionResolveRequest.type,_,g));return f.resolveCompletionItem?f.resolveCompletionItem(i,s,l):l(i,s)}:void 0};return[W.languages.registerCompletionItemProvider(e.documentSelector,n,...t),n]}},fs=class extends Ue{constructor(e){super(e,y.HoverRequest.type)}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[y.MarkupKind.Markdown,y.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideHover:(n,i,s)=>{let o=this._client,f=(g,m,_)=>o.sendRequest(y.HoverRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(g,m),_).then(o.protocol2CodeConverter.asHover,R=>o.handleFailedRequest(y.HoverRequest.type,R,null)),l=o.clientOptions.middleware;return l.provideHover?l.provideHover(n,i,s,f):f(n,i,s)}};return[W.languages.registerHoverProvider(e.documentSelector,t),t]}},gs=class extends Ue{constructor(e){super(e,y.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[y.MarkupKind.Markdown,y.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(i,s,o,f)=>{let l=this._client,g=(_,R,P,F)=>l.sendRequest(y.SignatureHelpRequest.type,l.code2ProtocolConverter.asSignatureHelpParams(_,R,P),F).then(l.protocol2CodeConverter.asSignatureHelp,j=>l.handleFailedRequest(y.SignatureHelpRequest.type,j,null)),m=l.clientOptions.middleware;return m.provideSignatureHelp?m.provideSignatureHelp(i,s,f,o,g):g(i,s,f,o)}},n;if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];n=W.languages.registerSignatureHelpProvider(e.documentSelector,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};n=W.languages.registerSignatureHelpProvider(e.documentSelector,t,i)}return[n,t]}},hs=class extends Ue{constructor(e){super(e,y.DefinitionRequest.type)}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideDefinition:(n,i,s)=>{let o=this._client,f=(g,m,_)=>o.sendRequest(y.DefinitionRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(g,m),_).then(o.protocol2CodeConverter.asDefinitionResult,R=>o.handleFailedRequest(y.DefinitionRequest.type,R,null)),l=o.clientOptions.middleware;return l.provideDefinition?l.provideDefinition(n,i,s,f):f(n,i,s)}};return[W.languages.registerDefinitionProvider(e.documentSelector,t),t]}},ms=class extends Ue{constructor(e){super(e,y.ReferencesRequest.type)}fillClientCapabilities(e){G(G(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideReferences:(n,i,s,o)=>{let f=this._client,l=(m,_,R,P)=>f.sendRequest(y.ReferencesRequest.type,f.code2ProtocolConverter.asReferenceParams(m,_,R),P).then(f.protocol2CodeConverter.asReferences,F=>f.handleFailedRequest(y.ReferencesRequest.type,F,null)),g=f.clientOptions.middleware;return g.provideReferences?g.provideReferences(n,i,s,o,l):l(n,i,s,o)}};return[W.languages.registerReferenceProvider(e.documentSelector,t),t]}},ps=class extends Ue{constructor(e){super(e,y.DocumentHighlightRequest.type)}fillClientCapabilities(e){G(G(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideDocumentHighlights:(n,i,s)=>{let o=this._client,f=(g,m,_)=>o.sendRequest(y.DocumentHighlightRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(g,m),_).then(o.protocol2CodeConverter.asDocumentHighlights,R=>o.handleFailedRequest(y.DocumentHighlightRequest.type,R,null)),l=o.clientOptions.middleware;return l.provideDocumentHighlights?l.provideDocumentHighlights(n,i,s,f):f(n,i,s)}};return[W.languages.registerDocumentHighlightProvider(e.documentSelector,t),t]}},vs=class extends Ue{constructor(e){super(e,y.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Oc},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:Ic},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideDocumentSymbols:(i,s)=>{let o=this._client,f=(g,m)=>o.sendRequest(y.DocumentSymbolRequest.type,o.code2ProtocolConverter.asDocumentSymbolParams(g),m).then(_=>{if(_!==null){if(_.length===0)return[];{let R=_[0];return y.DocumentSymbol.is(R)?o.protocol2CodeConverter.asDocumentSymbols(_):o.protocol2CodeConverter.asSymbolInformations(_)}}},_=>o.handleFailedRequest(y.DocumentSymbolRequest.type,_,null)),l=o.clientOptions.middleware;return l.provideDocumentSymbols?l.provideDocumentSymbols(i,s,f):f(i,s)}},n=e.label!==void 0?{label:e.label}:void 0;return[W.languages.registerDocumentSymbolProvider(e.documentSelector,t,n),t]}},ys=class extends ds{constructor(e){super(e,y.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=G(G(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Oc},t.tagSupport={valueSet:Ic}}initialize(e){!e.workspaceSymbolProvider||this.register({id:_e.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let s=this._client,o=(l,g)=>s.sendRequest(y.WorkspaceSymbolRequest.type,{query:l},g).then(s.protocol2CodeConverter.asSymbolInformations,m=>s.handleFailedRequest(y.WorkspaceSymbolRequest.type,m,null)),f=s.clientOptions.middleware;return f.provideWorkspaceSymbols?f.provideWorkspaceSymbols(n,i,o):o(n,i)}};return[W.languages.registerWorkspaceSymbolProvider(t),t]}},Cs=class extends Ue{constructor(e){super(e,y.CodeActionRequest.type)}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[y.CodeActionKind.Empty,y.CodeActionKind.QuickFix,y.CodeActionKind.Refactor,y.CodeActionKind.RefactorExtract,y.CodeActionKind.RefactorInline,y.CodeActionKind.RefactorRewrite,y.CodeActionKind.Source,y.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideCodeActions:(n,i,s,o)=>{let f=this._client,l=(m,_,R,P)=>{let F={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(m),range:f.code2ProtocolConverter.asRange(_),context:f.code2ProtocolConverter.asCodeActionContext(R)};return f.sendRequest(y.CodeActionRequest.type,F,P).then(j=>{if(j===null)return;let Q=[];for(let U of j)y.Command.is(U)?Q.push(f.protocol2CodeConverter.asCommand(U)):Q.push(f.protocol2CodeConverter.asCodeAction(U));return Q},j=>f.handleFailedRequest(y.CodeActionRequest.type,j,null))},g=f.clientOptions.middleware;return g.provideCodeActions?g.provideCodeActions(n,i,s,o,l):l(n,i,s,o)},resolveCodeAction:e.resolveProvider?(n,i)=>{let s=this._client,o=this._client.clientOptions.middleware,f=(l,g)=>s.sendRequest(y.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeAction(l),g).then(s.protocol2CodeConverter.asCodeAction,m=>s.handleFailedRequest(y.CodeActionResolveRequest.type,m,l));return o.resolveCodeAction?o.resolveCodeAction(n,i,f):f(n,i)}:void 0};return[W.languages.registerCodeActionsProvider(e.documentSelector,t,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),t]}},_s=class extends Ue{constructor(e){super(e,y.CodeLensRequest.type)}fillClientCapabilities(e){G(G(e,"textDocument"),"codeLens").dynamicRegistration=!0,G(G(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(y.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);!i||this.register({id:_e.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=new W.EventEmitter,n={onDidChangeCodeLenses:t.event,provideCodeLenses:(i,s)=>{let o=this._client,f=(g,m)=>o.sendRequest(y.CodeLensRequest.type,o.code2ProtocolConverter.asCodeLensParams(g),m).then(o.protocol2CodeConverter.asCodeLenses,_=>o.handleFailedRequest(y.CodeLensRequest.type,_,null)),l=o.clientOptions.middleware;return l.provideCodeLenses?l.provideCodeLenses(i,s,f):f(i,s)},resolveCodeLens:e.resolveProvider?(i,s)=>{let o=this._client,f=(g,m)=>o.sendRequest(y.CodeLensResolveRequest.type,o.code2ProtocolConverter.asCodeLens(g),m).then(o.protocol2CodeConverter.asCodeLens,_=>o.handleFailedRequest(y.CodeLensResolveRequest.type,_,g)),l=o.clientOptions.middleware;return l.resolveCodeLens?l.resolveCodeLens(i,s,f):f(i,s)}:void 0};return[W.languages.registerCodeLensProvider(e.documentSelector,n),{provider:n,onDidChangeCodeLensEmitter:t}]}},bs=class extends Ue{constructor(e){super(e,y.DocumentFormattingRequest.type)}fillClientCapabilities(e){G(G(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideDocumentFormattingEdits:(n,i,s)=>{let o=this._client,f=(g,m,_)=>{let R={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(g),options:o.code2ProtocolConverter.asFormattingOptions(m,er.fromConfiguration(g))};return o.sendRequest(y.DocumentFormattingRequest.type,R,_).then(o.protocol2CodeConverter.asTextEdits,P=>o.handleFailedRequest(y.DocumentFormattingRequest.type,P,null))},l=o.clientOptions.middleware;return l.provideDocumentFormattingEdits?l.provideDocumentFormattingEdits(n,i,s,f):f(n,i,s)}};return[W.languages.registerDocumentFormattingEditProvider(e.documentSelector,t),t]}},ws=class extends Ue{constructor(e){super(e,y.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){G(G(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideDocumentRangeFormattingEdits:(n,i,s,o)=>{let f=this._client,l=(m,_,R,P)=>{let F={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(m),range:f.code2ProtocolConverter.asRange(_),options:f.code2ProtocolConverter.asFormattingOptions(R,er.fromConfiguration(m))};return f.sendRequest(y.DocumentRangeFormattingRequest.type,F,P).then(f.protocol2CodeConverter.asTextEdits,j=>f.handleFailedRequest(y.DocumentRangeFormattingRequest.type,j,null))},g=f.clientOptions.middleware;return g.provideDocumentRangeFormattingEdits?g.provideDocumentRangeFormattingEdits(n,i,s,o,l):l(n,i,s,o)}};return[W.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,t),t]}},Ds=class extends Ue{constructor(e){super(e,y.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){G(G(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideOnTypeFormattingEdits:(i,s,o,f,l)=>{let g=this._client,m=(R,P,F,j,Q)=>{let U={textDocument:g.code2ProtocolConverter.asTextDocumentIdentifier(R),position:g.code2ProtocolConverter.asPosition(P),ch:F,options:g.code2ProtocolConverter.asFormattingOptions(j,er.fromConfiguration(R))};return g.sendRequest(y.DocumentOnTypeFormattingRequest.type,U,Q).then(g.protocol2CodeConverter.asTextEdits,B=>g.handleFailedRequest(y.DocumentOnTypeFormattingRequest.type,B,null))},_=g.clientOptions.middleware;return _.provideOnTypeFormattingEdits?_.provideOnTypeFormattingEdits(i,s,o,f,l,m):m(i,s,o,f,l)}},n=e.moreTriggerCharacter||[];return[W.languages.registerOnTypeFormattingEditProvider(e.documentSelector,t,e.firstTriggerCharacter,...n),t]}},Rs=class extends Ue{constructor(e){super(e,y.RenameRequest.type)}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=y.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);!n||(Ce.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:_e.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t={provideRenameEdits:(n,i,s,o)=>{let f=this._client,l=(m,_,R,P)=>{let F={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(m),position:f.code2ProtocolConverter.asPosition(_),newName:R};return f.sendRequest(y.RenameRequest.type,F,P).then(f.protocol2CodeConverter.asWorkspaceEdit,j=>f.handleFailedRequest(y.RenameRequest.type,j,null))},g=f.clientOptions.middleware;return g.provideRenameEdits?g.provideRenameEdits(n,i,s,o,l):l(n,i,s,o)},prepareRename:e.prepareProvider?(n,i,s)=>{let o=this._client,f=(g,m,_)=>{let R={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(g),position:o.code2ProtocolConverter.asPosition(m)};return o.sendRequest(y.PrepareRenameRequest.type,R,_).then(P=>y.Range.is(P)?o.protocol2CodeConverter.asRange(P):this.isDefaultBehavior(P)?P.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):P&&y.Range.is(P.range)?{range:o.protocol2CodeConverter.asRange(P.range),placeholder:P.placeholder}:Promise.reject(new Error("The element can't be renamed.")),P=>o.handleFailedRequest(y.PrepareRenameRequest.type,P,void 0))},l=o.clientOptions.middleware;return l.prepareRename?l.prepareRename(n,i,s,f):f(n,i,s)}:void 0};return[W.languages.registerRenameProvider(e.documentSelector,t),t]}isDefaultBehavior(e){let t=e;return t&&Ce.boolean(t.defaultBehavior)}},Ts=class extends Ue{constructor(e){super(e,y.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=G(G(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);!n||this.register({id:_e.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideDocumentLinks:(n,i)=>{let s=this._client,o=(l,g)=>s.sendRequest(y.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(l),g).then(s.protocol2CodeConverter.asDocumentLinks,m=>s.handleFailedRequest(y.DocumentLinkRequest.type,m,null)),f=s.clientOptions.middleware;return f.provideDocumentLinks?f.provideDocumentLinks(n,i,o):o(n,i)},resolveDocumentLink:e.resolveProvider?(n,i)=>{let s=this._client,o=(l,g)=>s.sendRequest(y.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(l),g).then(s.protocol2CodeConverter.asDocumentLink,m=>s.handleFailedRequest(y.DocumentLinkResolveRequest.type,m,l)),f=s.clientOptions.middleware;return f.resolveDocumentLink?f.resolveDocumentLink(n,i,o):o(n,i)}:void 0};return[W.languages.registerDocumentLinkProvider(e.documentSelector,t),t]}},Ps=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return y.DidChangeConfigurationNotification.type}fillClientCapabilities(e){G(G(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;e!==void 0&&this.register({id:_e.generateUuid(),registerOptions:{section:e}})}register(e){let t=W.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(Ce.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(f=>t.affectsConfiguration(f)))return;let i=o=>{if(o===void 0){this._client.sendNotification(y.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(y.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)})},s=this.getMiddleware();s?s(n,i):i(n)}extractSettingsInformation(e){function t(s,o){let f=s;for(let l=0;l<o.length-1;l++){let g=f[o[l]];g||(g=Object.create(null),f[o[l]]=g),f=g}return f}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],f=o.indexOf("."),l=null;if(f>=0?l=W.workspace.getConfiguration(o.substr(0,f),n).get(o.substr(f+1)):l=W.workspace.getConfiguration(void 0,n).get(o),l){let g=e[s].split(".");t(i,g)[g[g.length-1]]=kg.toJSONObject(l)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;if(e.workspace&&e.workspace.didChangeConfiguration)return e.workspace.didChangeConfiguration}},Ss=class{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return y.ExecuteCommandRequest.type}fillClientCapabilities(e){G(G(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){!e.executeCommandProvider||this.register({id:_e.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.clientOptions.middleware,i=(s,o)=>{let f={command:s,arguments:o};return t.sendRequest(y.ExecuteCommandRequest.type,f).then(void 0,l=>t.handleFailedRequest(y.ExecuteCommandRequest.type,l,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(W.commands.registerCommand(o,(...f)=>n.executeCommand?n.executeCommand(o,f,i):i(o,f)));this._commands.set(e.id,s)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(n=>n.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}},Mg;(function(r){function e(t){return t&&y.MessageReader.is(t.reader)&&y.MessageWriter.is(t.writer)}r.is=e})(Mg=Oe.MessageTransports||(Oe.MessageTransports={}));var Mr=class{constructor(e,t){this._resolve=e,this._reject=t,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}},ln=class{constructor(e,t,n){var i;this._traceFormat=y.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=t,n=n||{};let s={isTrusted:!1};n.markdown!==void 0&&n.markdown.isTrusted===!0&&(s.isTrusted=!0),this._clientOptions={documentSelector:n.documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||Yn.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler||this.createDefaultErrorHandler((i=n.connectionOptions)===null||i===void 0?void 0:i.maxRestartCount),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:s},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Te.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new qc.Delayer(250),this._onReady=new Promise((o,f)=>{this._onReadyCallbacks=new Mr(o,f)}),this._onStop=void 0,this._telemetryEmitter=new y.Emitter,this._stateChangeEmitter=new y.Emitter,this._trace=y.Trace.Off,this._tracer={log:(o,f)=>{Ce.string(o)?this.logTrace(o,f):this.logObjectTrace(o)}},this._c2p=xg.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=qg.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){return this.state===Te.Running?Ir.Running:this.state===Te.Starting?Ir.Starting:Ir.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...t)}catch(n){throw this.error(`Sending request ${Ce.string(e)?e:e.method} failed.`,n),n}}onRequest(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,t)}catch(n){throw this.error(`Registering request handler ${Ce.string(e)?e:e.method} failed.`,n),n}}sendNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,t)}catch(n){throw this.error(`Sending notification ${Ce.string(e)?e:e.method} failed.`,n),n}}onNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,t)}catch(n){throw this.error(`Registering notification handler ${Ce.string(e)?e:e.method} failed.`,n),n}}onProgress(e,t,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(y.WorkDoneProgress.is(e)){let i=this._clientOptions.middleware.handleWorkDoneProgress;if(i!==void 0)return this._resolvedConnection.onProgress(e,t,s=>{i(t,s,()=>n(s))})}return this._resolvedConnection.onProgress(e,t,n)}catch(i){throw this.error(`Registering progress handler for token ${t} failed.`,i),i}}sendProgress(e,t,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=W.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new ts(this._name,e??4)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(t=>{t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof y.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?Ce.string(e.stack)?e.stack:e.message:Ce.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=Yn.Info&&this.showNotificationMessage()}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=Yn.Warn&&this.showNotificationMessage()}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=Yn.Error&&this.showNotificationMessage()}showNotificationMessage(){W.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===Te.Initial||this.state===Te.Stopping||this.state===Te.Stopped}needsStop(){return this.state===Te.Starting||this.state===Te.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===Te.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,t)=>{this._onReadyCallbacks=new Mr(e,t)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?W.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):W.languages.createDiagnosticCollection()),this.state=Te.Starting,this.resolveConnection().then(e=>(e.onLogMessage(t=>{switch(t.type){case y.MessageType.Error:this.error(t.message,void 0,!1);break;case y.MessageType.Warning:this.warn(t.message,void 0,!1);break;case y.MessageType.Info:this.info(t.message,void 0,!1);break;default:this.outputChannel.appendLine(t.message)}}),e.onShowMessage(t=>{switch(t.type){case y.MessageType.Error:W.window.showErrorMessage(t.message);break;case y.MessageType.Warning:W.window.showWarningMessage(t.message);break;case y.MessageType.Info:W.window.showInformationMessage(t.message);break;default:W.window.showInformationMessage(t.message)}}),e.onRequest(y.ShowMessageRequest.type,t=>{let n;switch(t.type){case y.MessageType.Error:n=W.window.showErrorMessage;break;case y.MessageType.Warning:n=W.window.showWarningMessage;break;case y.MessageType.Info:n=W.window.showInformationMessage;break;default:n=W.window.showInformationMessage}let i=t.actions||[];return n(t.message,...i)}),e.onTelemetry(t=>{this._telemetryEmitter.fire(t)}),e.onRequest(y.ShowDocumentRequest.type,async t=>{var n;let i=async o=>{let f=this.protocol2CodeConverter.asUri(o.uri);try{if(o.external===!0)return{success:await W.env.openExternal(f)};{let l={};return o.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(o.selection)),o.takeFocus===void 0||o.takeFocus===!1?l.preserveFocus=!0:o.takeFocus===!0&&(l.preserveFocus=!1),await W.window.showTextDocument(f,l),{success:!0}}}catch{return{success:!0}}},s=(n=this._clientOptions.middleware.window)===null||n===void 0?void 0:n.showDocument;return s!==void 0?s(t,i):i(t)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=Te.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),W.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new W.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,n=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:W.env.appName,version:W.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(W.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Ce.func(t)?t():t,trace:y.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){let s=_e.generateUuid(),o=new Og.ProgressPart(e,s);return i.workDoneToken=s,this.doInitialize(e,i).then(f=>(o.done(),f),f=>{throw o.cancel(),f})}else return this.doInitialize(e,i)}doInitialize(e,t){return e.initialize(t).then(n=>{this._resolvedConnection=e,this._initializeResult=n,this.state=Te.Running;let i;return Ce.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===y.TextDocumentSyncKind.None?i={openClose:!1,change:y.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onDiagnostics(s=>this.handleDiagnostics(s)),e.onRequest(y.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(y.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(y.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s)),e.sendNotification(y.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),n}).then(void 0,n=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(n)):n instanceof y.ResponseError&&n.data&&n.data.retry?W.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(n))}):(n&&n.message&&W.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop(),this._onReadyCallbacks.reject(n)),n})}_clientGetRootPath(){let e=W.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===Te.Stopping&&this._onStop?this._onStop:(this.state=Te.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.end(),e.dispose(),this.state=Te.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=Te.Stopped,Promise.resolve())}cleanUp(e=!0,t=!0){this._listeners&&(this._listeners.forEach(n=>n.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(n=>n.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let n of this._features.values())n.dispose();e&&this.cleanUpChannel(),t&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var t;let n=this;function i(o){n._fileEvents.push(o),n._fileEventDelayer.trigger(()=>{n.onReady().then(()=>{n.resolveConnection().then(f=>{n.isConnectionActive()&&(n.forceDocumentSync(),f.didChangeWatchedFiles({changes:n._fileEvents})),n._fileEvents=[]})},f=>{n.error("Notify file events failed.",f)})})}let s=(t=this.clientOptions.middleware)===null||t===void 0?void 0:t.workspace;s?.didChangeWatchedFile?s.didChangeWatchedFile(e,i):i(e)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(y.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=this._p2c.asUri(e.uri),n=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(t,n,(s,o)=>this.setDiagnostics(s,o)):this.setDiagnostics(t,n)}setDiagnostics(e,t){!this._diagnostics||this._diagnostics.set(e,t)}createConnection(){let e=(n,i,s)=>{this.handleConnectionError(n,i,s)},t=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(n=>Ig(n.reader,n.writer,e,t,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===Te.Stopping||this.state===Te.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let e=dn.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===dn.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===Te.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=Te.StartFailed):this.state=Te.Stopped,this.cleanUp(!1,!0)):e===dn.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=Te.Initial,this.start())}handleConnectionError(e,t,n){this._clientOptions.errorHandler.error(e,t,n)===Fr.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){W.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,t=!1){let n=W.workspace.getConfiguration(this._id),i=y.Trace.Off,s=y.TraceFormat.Text;if(n){let o=n.get("trace.server","off");typeof o=="string"?i=y.Trace.fromString(o):(i=y.Trace.fromString(n.get("trace.server.verbosity","off")),s=y.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;Ce.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(y.DidChangeWatchedFilesNotification.type.method).registerRaw(_e.generateUuid(),n)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),ns.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new Ps(this)),this.registerFeature(new rs(this,this._syncedDocuments)),this.registerFeature(new os(this)),this.registerFeature(new ss(this)),this.registerFeature(new as(this)),this.registerFeature(new cs(this)),this.registerFeature(new is(this,this._syncedDocuments)),this.registerFeature(new us(this,e=>this.notifyFileEvent(e))),this.registerFeature(new ls(this)),this.registerFeature(new fs(this)),this.registerFeature(new gs(this)),this.registerFeature(new hs(this)),this.registerFeature(new ms(this)),this.registerFeature(new ps(this)),this.registerFeature(new vs(this)),this.registerFeature(new ys(this)),this.registerFeature(new Cs(this)),this.registerFeature(new _s(this)),this.registerFeature(new bs(this)),this.registerFeature(new ws(this)),this.registerFeature(new Ds(this)),this.registerFeature(new Rs(this)),this.registerFeature(new Ts(this)),this.registerFeature(new Ss(this))}fillInitializeParams(e){for(let t of this._features)Ce.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};G(e,"workspace").applyEdit=!0;let t=G(G(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[y.ResourceOperationKind.Create,y.ResourceOperationKind.Rename,y.ResourceOperationKind.Delete],t.failureHandling=y.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let n=G(G(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[y.DiagnosticTag.Unnecessary,y.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=G(e,"window"),s=G(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=G(i,"showDocument");o.support=!0;let f=G(e,"general");f.regularExpressions={engine:"ECMAScript",version:"ES2020"},f.markdown={parser:"marked",version:"1.1.0"};for(let l of this._features)l.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)n.initialize(this._capabilities,t)}handleRegistrationRequest(e){return new Promise((t,n)=>{for(let i of e.registrations){let s=this._dynamicFeatures.get(i.method);if(s===void 0){n(new Error(`No feature implementation for ${i.method} found. Registration failed.`));return}let o=i.registerOptions||{};o.documentSelector=o.documentSelector||this._clientOptions.documentSelector;let f={id:i.id,registerOptions:o};try{s.register(f)}catch(l){n(l);return}}t()})}handleUnregistrationRequest(e){return new Promise((t,n)=>{for(let i of e.unregisterations){let s=this._dynamicFeatures.get(i.method);if(!s){n(new Error(`No feature implementation for ${i.method} found. Unregistration failed.`));return}s.unregister(i.id)}t()})}handleApplyWorkspaceEdit(e){let t=e.edit,n=new Map;W.workspace.textDocuments.forEach(s=>n.set(s.uri.toString(),s));let i=!1;if(t.documentChanges){for(let s of t.documentChanges)if(y.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let o=n.get(s.textDocument.uri);if(o&&o.version!==s.textDocument.version){i=!0;break}}}return i?Promise.resolve({applied:!1}):Ce.asPromise(W.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(s=>({applied:s})))}handleFailedRequest(e,t,n){if(t instanceof y.ResponseError){if(t.code===y.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(t.code===y.LSPErrorCodes.ContentModified)return n}throw this.error(`Request ${e.method} failed.`,t),t}makeCancelError(){let e=new Error(ln.Canceled);return e.name=ln.Canceled,e}};Oe.BaseLanguageClient=ln;ln.Canceled="Canceled"});var Fc=A(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.TypeDefinitionFeature=void 0;var Ng=Le(),Es=Se(),Lg=Dt();function Nr(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var ks=class extends Lg.TextDocumentFeature{constructor(e){super(e,Es.TypeDefinitionRequest.type)}fillClientCapabilities(e){Nr(Nr(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=Nr(Nr(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t={provideTypeDefinition:(n,i,s)=>{let o=this._client,f=(g,m,_)=>o.sendRequest(Es.TypeDefinitionRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(g,m),_).then(o.protocol2CodeConverter.asDefinitionResult,R=>o.handleFailedRequest(Es.TypeDefinitionRequest.type,R,null)),l=o.clientOptions.middleware;return l.provideTypeDefinition?l.provideTypeDefinition(n,i,s,f):f(n,i,s)}};return[Ng.languages.registerTypeDefinitionProvider(e.documentSelector,t),t]}};Lr.TypeDefinitionFeature=ks});var Nc=A(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.ImplementationFeature=void 0;var Ag=Le(),xs=Se(),jg=Dt();function Mc(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var qs=class extends jg.TextDocumentFeature{constructor(e){super(e,xs.ImplementationRequest.type)}fillClientCapabilities(e){let t=Mc(Mc(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t={provideImplementation:(n,i,s)=>{let o=this._client,f=(g,m,_)=>o.sendRequest(xs.ImplementationRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(g,m),_).then(o.protocol2CodeConverter.asDefinitionResult,R=>o.handleFailedRequest(xs.ImplementationRequest.type,R,null)),l=o.clientOptions.middleware;return l.provideImplementation?l.provideImplementation(n,i,s,f):f(n,i,s)}};return[Ag.languages.registerImplementationProvider(e.documentSelector,t),t]}};Ar.ImplementationFeature=qs});var Ac=A(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.ColorProviderFeature=void 0;var jr=Le(),tr=Se(),Kg=Dt();function Lc(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Os=class extends Kg.TextDocumentFeature{constructor(e){super(e,tr.DocumentColorRequest.type)}fillClientCapabilities(e){Lc(Lc(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t={provideColorPresentations:(n,i,s)=>{let o=this._client,f=(g,m,_)=>{let R={color:g,textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(m.document),range:o.code2ProtocolConverter.asRange(m.range)};return o.sendRequest(tr.ColorPresentationRequest.type,R,_).then(this.asColorPresentations.bind(this),P=>o.handleFailedRequest(tr.ColorPresentationRequest.type,P,null))},l=o.clientOptions.middleware;return l.provideColorPresentations?l.provideColorPresentations(n,i,s,f):f(n,i,s)},provideDocumentColors:(n,i)=>{let s=this._client,o=(l,g)=>{let m={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(l)};return s.sendRequest(tr.DocumentColorRequest.type,m,g).then(this.asColorInformations.bind(this),_=>s.handleFailedRequest(tr.ColorPresentationRequest.type,_,null))},f=s.clientOptions.middleware;return f.provideDocumentColors?f.provideDocumentColors(n,i,o):o(n,i)}};return[jr.languages.registerColorProvider(e.documentSelector,t),t]}asColor(e){return new jr.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(t=>new jr.ColorInformation(this._client.protocol2CodeConverter.asRange(t.range),this.asColor(t.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(t=>{let n=new jr.ColorPresentation(t.label);return n.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(t.additionalTextEdits),n.textEdit=this._client.protocol2CodeConverter.asTextEdit(t.textEdit),n}):[]}};Kr.ColorProviderFeature=Os});var jc=A(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.WorkspaceFoldersFeature=On.arrayDiff=void 0;var Hg=Xo(),Hr=Le(),Is=Se();function Fs(r,e){if(r!==void 0)return r[e]}function Ms(r,e){return r.filter(t=>e.indexOf(t)<0)}On.arrayDiff=Ms;var Ns=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return Is.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=Hr.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(Is.WorkspaceFoldersRequest.type,s=>{let o=()=>{let l=Hr.workspace.workspaceFolders;return l===void 0?null:l.map(m=>this.asProtocol(m))},f=t.clientOptions.middleware.workspace;return f&&f.workspaceFolders?f.workspaceFolders(s,o):o(s)});let n=Fs(Fs(Fs(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=Hg.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){let t=Ms(this._initialFolders,e),n=Ms(e,this._initialFolders);(n.length>0||t.length>0)&&this.doSendEvent(n,t)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};this._client.sendNotification(Is.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=Hr.workspace.onDidChangeWorkspaceFolders(s=>{let o=l=>{this.doSendEvent(l.added,l.removed)},f=n.clientOptions.middleware.workspace;f&&f.didChangeWorkspaceFolders?f.didChangeWorkspaceFolders(s,o):o(s)});this._listeners.set(t,i),this.sendInitialEvent(Hr.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};On.WorkspaceFoldersFeature=Ns});var Hc=A(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.FoldingRangeFeature=void 0;var nr=Le(),In=Se(),Wg=Dt();function Kc(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Fn=class extends Wg.TextDocumentFeature{constructor(e){super(e,In.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=Kc(Kc(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t={provideFoldingRanges:(n,i,s)=>{let o=this._client,f=(g,m,_)=>{let R={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(g)};return o.sendRequest(In.FoldingRangeRequest.type,R,_).then(Fn.asFoldingRanges,P=>o.handleFailedRequest(In.FoldingRangeRequest.type,P,null))},l=o.clientOptions.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(n,i,s,f):f(n,i,s)}};return[nr.languages.registerFoldingRangeProvider(e.documentSelector,t),t]}static asFoldingRangeKind(e){if(e)switch(e){case In.FoldingRangeKind.Comment:return nr.FoldingRangeKind.Comment;case In.FoldingRangeKind.Imports:return nr.FoldingRangeKind.Imports;case In.FoldingRangeKind.Region:return nr.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map(t=>new nr.FoldingRange(t.startLine,t.endLine,Fn.asFoldingRangeKind(t.kind))):[]}};Wr.FoldingRangeFeature=Fn});var Uc=A(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.CallHierarchyFeature=void 0;var Ug=Le(),fn=Se(),zg=Dt();function Wc(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Ls=class{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,t,n){let i=this.client,s=this.middleware,o=(f,l,g)=>{let m=i.code2ProtocolConverter.asTextDocumentPositionParams(f,l);return i.sendRequest(fn.CallHierarchyPrepareRequest.type,m,g).then(_=>i.protocol2CodeConverter.asCallHierarchyItems(_),_=>i.handleFailedRequest(fn.CallHierarchyPrepareRequest.type,_,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,t,n,o):o(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,s=(o,f)=>{let l={item:n.code2ProtocolConverter.asCallHierarchyItem(o)};return n.sendRequest(fn.CallHierarchyIncomingCallsRequest.type,l,f).then(g=>n.protocol2CodeConverter.asCallHierarchyIncomingCalls(g),g=>n.handleFailedRequest(fn.CallHierarchyIncomingCallsRequest.type,g,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,s):s(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,s=(o,f)=>{let l={item:n.code2ProtocolConverter.asCallHierarchyItem(o)};return n.sendRequest(fn.CallHierarchyOutgoingCallsRequest.type,l,f).then(g=>n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(g),g=>n.handleFailedRequest(fn.CallHierarchyOutgoingCallsRequest.type,g,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,s):s(e,t)}},As=class extends zg.TextDocumentFeature{constructor(e){super(e,fn.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=Wc(Wc(e,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Ls(t);return[Ug.languages.registerCallHierarchyProvider(e.documentSelector,n),n]}};Ur.CallHierarchyFeature=As});var zc=A(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.ProgressFeature=void 0;var $g=Se(),Jg=Yo();function Bg(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var js=class{constructor(e){this._client=e,this.activeParts=new Set}fillClientCapabilities(e){Bg(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new Jg.ProgressPart(this._client,i.token,t))};e.onRequest($g.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};zr.ProgressFeature=js});var $c=A(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.SemanticTokensFeature=void 0;var $r=Le(),Gg=Dt(),ce=Se(),Qg=cn();function Jr(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Ks=class extends Gg.TextDocumentFeature{constructor(e){super(e,ce.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=Jr(Jr(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[ce.SemanticTokenTypes.namespace,ce.SemanticTokenTypes.type,ce.SemanticTokenTypes.class,ce.SemanticTokenTypes.enum,ce.SemanticTokenTypes.interface,ce.SemanticTokenTypes.struct,ce.SemanticTokenTypes.typeParameter,ce.SemanticTokenTypes.parameter,ce.SemanticTokenTypes.variable,ce.SemanticTokenTypes.property,ce.SemanticTokenTypes.enumMember,ce.SemanticTokenTypes.event,ce.SemanticTokenTypes.function,ce.SemanticTokenTypes.method,ce.SemanticTokenTypes.macro,ce.SemanticTokenTypes.keyword,ce.SemanticTokenTypes.modifier,ce.SemanticTokenTypes.comment,ce.SemanticTokenTypes.string,ce.SemanticTokenTypes.number,ce.SemanticTokenTypes.regexp,ce.SemanticTokenTypes.operator],t.tokenModifiers=[ce.SemanticTokenModifiers.declaration,ce.SemanticTokenModifiers.definition,ce.SemanticTokenModifiers.readonly,ce.SemanticTokenModifiers.static,ce.SemanticTokenModifiers.deprecated,ce.SemanticTokenModifiers.abstract,ce.SemanticTokenModifiers.async,ce.SemanticTokenModifiers.modification,ce.SemanticTokenModifiers.documentation,ce.SemanticTokenModifiers.defaultLibrary],t.formats=[ce.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,Jr(Jr(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(ce.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[i,s]=this.getRegistration(t,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s})}registerLanguageProvider(e){let t=Qg.boolean(e.full)?e.full:e.full!==void 0,n=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,i=new $r.EventEmitter,s=t?{onDidChangeSemanticTokens:i.event,provideDocumentSemanticTokens:(_,R)=>{let P=this._client,F=P.clientOptions.middleware,j=(Q,U)=>{let B={textDocument:P.code2ProtocolConverter.asTextDocumentIdentifier(Q)};return P.sendRequest(ce.SemanticTokensRequest.type,B,U).then(ne=>P.protocol2CodeConverter.asSemanticTokens(ne),ne=>P.handleFailedRequest(ce.SemanticTokensRequest.type,ne,null))};return F.provideDocumentSemanticTokens?F.provideDocumentSemanticTokens(_,R,j):j(_,R)},provideDocumentSemanticTokensEdits:n?(_,R,P)=>{let F=this._client,j=F.clientOptions.middleware,Q=(U,B,ne)=>{let Z={textDocument:F.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:B};return F.sendRequest(ce.SemanticTokensDeltaRequest.type,Z,ne).then(ee=>ce.SemanticTokens.is(ee)?F.protocol2CodeConverter.asSemanticTokens(ee):F.protocol2CodeConverter.asSemanticTokensEdits(ee),ee=>F.handleFailedRequest(ce.SemanticTokensDeltaRequest.type,ee,null))};return j.provideDocumentSemanticTokensEdits?j.provideDocumentSemanticTokensEdits(_,R,P,Q):Q(_,R,P)}:void 0}:void 0,f=e.range===!0?{provideDocumentRangeSemanticTokens:(_,R,P)=>{let F=this._client,j=F.clientOptions.middleware,Q=(U,B,ne)=>{let Z={textDocument:F.code2ProtocolConverter.asTextDocumentIdentifier(U),range:F.code2ProtocolConverter.asRange(B)};return F.sendRequest(ce.SemanticTokensRangeRequest.type,Z,ne).then(ee=>F.protocol2CodeConverter.asSemanticTokens(ee),ee=>F.handleFailedRequest(ce.SemanticTokensRangeRequest.type,ee,null))};return j.provideDocumentRangeSemanticTokens?j.provideDocumentRangeSemanticTokens(_,R,P,Q):Q(_,R,P)}}:void 0,l=[],m=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return s!==void 0&&l.push($r.languages.registerDocumentSemanticTokensProvider(e.documentSelector,s,m)),f!==void 0&&l.push($r.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,f,m)),[new $r.Disposable(()=>l.forEach(_=>_.dispose())),{range:f,full:s,onDidChangeSemanticTokensEmitter:i}]}};Br.SemanticTokensFeature=Ks});var Bc=A(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.DeclarationFeature=void 0;var Vg=Le(),Hs=Se(),Xg=Dt();function Jc(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Ws=class extends Xg.TextDocumentFeature{constructor(e){super(e,Hs.DeclarationRequest.type)}fillClientCapabilities(e){let t=Jc(Jc(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t={provideDeclaration:(n,i,s)=>{let o=this._client,f=(g,m,_)=>o.sendRequest(Hs.DeclarationRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(g,m),_).then(o.protocol2CodeConverter.asDeclarationResult,R=>o.handleFailedRequest(Hs.DeclarationRequest.type,R,null)),l=o.clientOptions.middleware;return l.provideDeclaration?l.provideDeclaration(n,i,s,f):f(n,i,s)}};return[Vg.languages.registerDeclarationProvider(e.documentSelector,t),t]}};Gr.DeclarationFeature=Ws});var Vc=A(At=>{"use strict";var Zg=At&&At.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Yg=At&&At.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zg(e,r,t)};Object.defineProperty(At,"__esModule",{value:!0});At.MonacoLanguageClient=void 0;var eh=Dt(),th=Fc(),nh=xo(),rh=Nc(),Gc=Ac(),ih=jc(),Qc=Hc(),oh=Uc(),sh=zc(),ah=$c(),ch=Bc();Yg(Dt(),At);var vt=class extends eh.BaseLanguageClient{constructor({id:e,name:t,clientOptions:n,connectionProvider:i}){super(e||t.toLowerCase(),t,n),this.connectionProvider=i,this.createConnection=this.doCreateConnection.bind(this);let s=this;s._p2c=new Proxy(s._p2c,{get:(o,f)=>f==="asUri"?o[f]:vt.bypassConversion}),s._c2p=new Proxy(s._c2p,{get:(o,f)=>f==="asUri"?o[f]:f==="asCompletionParams"?(l,g,m)=>({textDocument:o.asTextDocumentIdentifier(l),position:g,context:m}):f==="asWillSaveTextDocumentParams"?l=>({textDocument:o.asTextDocumentIdentifier(l.document),reason:l.reason}):f.endsWith("Params")?o[f]:vt.bypassConversion})}doCreateConnection(){let e=this.handleConnectionError.bind(this),t=this.handleConnectionClosed.bind(this);return this.connectionProvider.get(e,t,this.outputChannel)}createMessageTransports(e){throw new Error("Unsupported")}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new nh.ConfigurationFeature(this)),this.registerFeature(new th.TypeDefinitionFeature(this)),this.registerFeature(new rh.ImplementationFeature(this)),this.registerFeature(new Gc.ColorProviderFeature(this)),this.registerFeature(new ih.WorkspaceFoldersFeature(this)),Qc.FoldingRangeFeature.asFoldingRanges=vt.bypassConversion,this.registerFeature(new Qc.FoldingRangeFeature(this)),this.registerFeature(new ch.DeclarationFeature(this)),this.registerFeature(new ah.SemanticTokensFeature(this)),this.registerFeature(new oh.CallHierarchyFeature(this)),this.registerFeature(new sh.ProgressFeature(this));let e=this._features;for(let t of e)t instanceof Gc.ColorProviderFeature&&(t.asColor=vt.bypassConversion,t.asColorInformations=vt.bypassConversion,t.asColorPresentations=vt.bypassConversion)}registerProposedFeatures(){}getLocale(){return navigator.language||"en-US"}};At.MonacoLanguageClient=vt;vt.bypassConversion=r=>r||void 0});var zs=A(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.MonacoCommands=void 0;var Us=class{constructor(e){this._monaco=e}registerCommand(e,t,n){return this._monaco.editor.registerCommand(e,(i,...s)=>t.call(n,...s))}};Qr.MonacoCommands=Us});var Js=A(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.ConsoleWindow=void 0;var Vr=ht(),$s=class{constructor(){this.channels=new Map}showMessage(e,t,...n){return e===Vr.MessageType.Error&&console.error(t),e===Vr.MessageType.Warning&&console.warn(t),e===Vr.MessageType.Info&&console.info(t),e===Vr.MessageType.Log&&console.log(t),Promise.resolve(void 0)}createOutputChannel(e){let t=this.channels.get(e);if(t)return t;let n={append(i){console.log(e+": "+i)},appendLine(i){console.log(e+": "+i)},show(){},dispose(){}};return this.channels.set(e,n),n}};Xr.ConsoleWindow=$s});var Zc=A((np,Xc)=>{Xc.exports=function(r,e){if(typeof r!="string")throw new TypeError("Expected a string");for(var t=String(r),n="",i=e?!!e.extended:!1,s=e?!!e.globstar:!1,o=!1,f=e&&typeof e.flags=="string"?e.flags:"",l,g=0,m=t.length;g<m;g++)switch(l=t[g],l){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":n+="\\"+l;break;case"?":if(i){n+=".";break}case"[":case"]":if(i){n+=l;break}case"{":if(i){o=!0,n+="(";break}case"}":if(i){o=!1,n+=")";break}case",":if(o){n+="|";break}n+="\\"+l;break;case"*":for(var _=t[g-1],R=1;t[g+1]==="*";)R++,g++;var P=t[g+1];if(!s)n+=".*";else{var F=R>1&&(_==="/"||_===void 0)&&(P==="/"||P===void 0);F?(n+="((?:[^/]*(?:/|$))*)",g++):n+="([^/]*)"}break;default:n+=l}return(!f||!~f.indexOf("g"))&&(n="^"+n+"$"),new RegExp(n,f)}});var Yc=A(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.MonacoModelDiagnostics=Mn.MonacoDiagnosticCollection=void 0;var Bs=Pr(),Gs=class{constructor(e,t,n){this._monaco=e,this.name=t,this.p2m=n,this.diagnostics=new Map,this.toDispose=new Bs.DisposableCollection}dispose(){this.toDispose.dispose()}get(e){let t=this.diagnostics.get(e);return t?t.diagnostics:[]}set(e,t){let n=this.diagnostics.get(e);if(n)n.diagnostics=t;else{let i=new Zr(this._monaco,e,t,this.name,this.p2m);this.diagnostics.set(e,i),this.toDispose.push(Bs.Disposable.create(()=>{this.diagnostics.delete(e),i.dispose()}))}}};Mn.MonacoDiagnosticCollection=Gs;var Zr=class{constructor(e,t,n,i,s){this._monaco=e,this.owner=i,this.p2m=s,this._markers=[],this._diagnostics=[],this.toDispose=new Bs.DisposableCollection,this.uri=this._monaco.Uri.parse(t),this.diagnostics=n,this.toDispose.push(this._monaco.editor.onDidCreateModel(o=>this.doUpdateModelMarkers(o)))}set diagnostics(e){this._diagnostics=e,this._markers=this.p2m.asDiagnostics(e),this.updateModelMarkers()}get diagnostics(){return this._diagnostics}get markers(){return this._markers}dispose(){this._markers=[],this.updateModelMarkers(),this.toDispose.dispose()}updateModelMarkers(){let e=this._monaco.editor.getModel(this.uri);this.doUpdateModelMarkers(e||void 0)}doUpdateModelMarkers(e){e&&this.uri.toString()===e.uri.toString()&&this._monaco.editor.setModelMarkers(e,this.owner,this._markers)}};Mn.MonacoModelDiagnostics=Zr});var Vs=A(yt=>{"use strict";var De=yt&&yt.__awaiter||function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function f(m){try{g(n.next(m))}catch(_){o(_)}}function l(m){try{g(n.throw(m))}catch(_){o(_)}}function g(m){m.done?s(m.value):i(m.value).then(f,l)}g((n=n.apply(r,e||[])).next())})};Object.defineProperty(yt,"__esModule",{value:!0});yt.MonacoLanguages=yt.testGlob=yt.MonacoModelIdentifier=void 0;var uh=Zc(),dh=ht(),lh=Yc(),eu;(function(r){function e(n,i){return{uri:n.Uri.parse(i.uri),languageId:i.languageId}}r.fromDocument=e;function t(n){return{uri:n.uri,languageId:n.getLanguageId()}}r.fromModel=t})(eu=yt.MonacoModelIdentifier||(yt.MonacoModelIdentifier={}));function tu(r,e){return uh(r,{extended:!0,globstar:!0}).test(e)}yt.testGlob=tu;var Qs=class{constructor(e,t,n){this._monaco=e,this.p2m=t,this.m2p=n}match(e,t){return this.matchModel(e,eu.fromDocument(this._monaco,t))}createDiagnosticCollection(e){return new lh.MonacoDiagnosticCollection(this._monaco,e||"default",this.p2m)}registerCompletionItemProvider(e,t,...n){let i=this.createCompletionProvider(t,...n);return this._monaco.languages.registerCompletionItemProvider(e,i)}createCompletionProvider(e,...t){return{triggerCharacters:t,provideCompletionItems:(n,i,s,o)=>De(this,void 0,void 0,function*(){let f=n.getWordUntilPosition(i),l=new this._monaco.Range(i.lineNumber,f.startColumn,i.lineNumber,f.endColumn),g=this.m2p.asCompletionParams(n,i,s),m=yield e.provideCompletionItems(g,o);return m&&this.p2m.asCompletionResult(m,l)}),resolveCompletionItem:e.resolveCompletionItem?(n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asCompletionItem(n),o=yield e.resolveCompletionItem(s,i);if(o){let f=this.p2m.asCompletionItem(o,n.range);Object.assign(n,f)}return n}):void 0}}registerHoverProvider(e,t){let n=this.createHoverProvider(t);return this._monaco.languages.registerHoverProvider(e,n)}createHoverProvider(e){return{provideHover:(t,n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asTextDocumentPositionParams(t,n),o=yield e.provideHover(s,i);return o&&this.p2m.asHover(o)})}}registerSignatureHelpProvider(e,t,...n){let i=this.createSignatureHelpProvider(t,...n);return this._monaco.languages.registerSignatureHelpProvider(e,i)}createSignatureHelpProvider(e,...t){return{signatureHelpTriggerCharacters:[...e.triggerCharacters||t||[]],signatureHelpRetriggerCharacters:e.retriggerCharacters,provideSignatureHelp:(i,s,o,f)=>De(this,void 0,void 0,function*(){let l=this.m2p.asTextDocumentPositionParams(i,s),g=yield e.provideSignatureHelp(l,o,this.m2p.asSignatureHelpContext(f));return g&&this.p2m.asSignatureHelpResult(g)})}}registerDefinitionProvider(e,t){let n=this.createDefinitionProvider(t);return this._monaco.languages.registerDefinitionProvider(e,n)}createDefinitionProvider(e){return{provideDefinition:(t,n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asTextDocumentPositionParams(t,n),o=yield e.provideDefinition(s,i);return o&&this.p2m.asDefinitionResult(o)})}}registerReferenceProvider(e,t){let n=this.createReferenceProvider(t);return this._monaco.languages.registerReferenceProvider(e,n)}createReferenceProvider(e){return{provideReferences:(t,n,i,s)=>De(this,void 0,void 0,function*(){let o=this.m2p.asReferenceParams(t,n,i),f=yield e.provideReferences(o,s);return f&&this.p2m.asReferences(f)})}}registerDocumentHighlightProvider(e,t){let n=this.createDocumentHighlightProvider(t);return this._monaco.languages.registerDocumentHighlightProvider(e,n)}createDocumentHighlightProvider(e){return{provideDocumentHighlights:(t,n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asTextDocumentPositionParams(t,n),o=yield e.provideDocumentHighlights(s,i);return o&&this.p2m.asDocumentHighlights(o)})}}registerDocumentSymbolProvider(e,t){let n=this.createDocumentSymbolProvider(t);return this._monaco.languages.registerDocumentSymbolProvider(e,n)}createDocumentSymbolProvider(e){return{provideDocumentSymbols:(t,n)=>De(this,void 0,void 0,function*(){let i=this.m2p.asDocumentSymbolParams(t),s=yield e.provideDocumentSymbols(i,n);return s&&this.p2m.asDocumentSymbols(s)})}}registerCodeActionsProvider(e,t){let n=this.createCodeActionProvider(t);return this._monaco.languages.registerCodeActionProvider(e,n)}createCodeActionProvider(e){return{provideCodeActions:(t,n,i,s)=>De(this,void 0,void 0,function*(){let o=this.m2p.asCodeActionParams(t,n,i),f=yield e.provideCodeActions(o,s);return f&&this.p2m.asCodeActionList(f)}),resolveCodeAction:e.resolveCodeAction?(t,n)=>De(this,void 0,void 0,function*(){let i=this.m2p.asCodeAction(t),s=yield e.resolveCodeAction(i,n);if(s){let o=this.p2m.asCodeAction(s);Object.assign(t,o)}return t}):void 0}}registerCodeLensProvider(e,t){let n=this.createCodeLensProvider(t);return this._monaco.languages.registerCodeLensProvider(e,n)}createCodeLensProvider(e){return{provideCodeLenses:(t,n)=>De(this,void 0,void 0,function*(){let i=this.m2p.asCodeLensParams(t),s=yield e.provideCodeLenses(i,n);return s&&this.p2m.asCodeLensList(s)}),resolveCodeLens:e.resolveCodeLens?(t,n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asCodeLens(n),o=yield e.resolveCodeLens(s,i);if(o){let f=this.p2m.asCodeLens(o);Object.assign(n,f)}return n}):void 0}}registerDocumentFormattingEditProvider(e,t){let n=this.createDocumentFormattingEditProvider(t);return this._monaco.languages.registerDocumentFormattingEditProvider(e,n)}createDocumentFormattingEditProvider(e){return{provideDocumentFormattingEdits:(t,n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asDocumentFormattingParams(t,n),o=yield e.provideDocumentFormattingEdits(s,i);return o&&this.p2m.asTextEdits(o)})}}registerDocumentRangeFormattingEditProvider(e,t){let n=this.createDocumentRangeFormattingEditProvider(t);return this._monaco.languages.registerDocumentRangeFormattingEditProvider(e,n)}createDocumentRangeFormattingEditProvider(e){return{provideDocumentRangeFormattingEdits:(t,n,i,s)=>De(this,void 0,void 0,function*(){let o=this.m2p.asDocumentRangeFormattingParams(t,n,i),f=yield e.provideDocumentRangeFormattingEdits(o,s);return f&&this.p2m.asTextEdits(f)})}}registerOnTypeFormattingEditProvider(e,t,n,...i){let s=this.createOnTypeFormattingEditProvider(t,n,...i);return this._monaco.languages.registerOnTypeFormattingEditProvider(e,s)}createOnTypeFormattingEditProvider(e,t,...n){return{autoFormatTriggerCharacters:[t].concat(n),provideOnTypeFormattingEdits:(s,o,f,l,g)=>De(this,void 0,void 0,function*(){let m=this.m2p.asDocumentOnTypeFormattingParams(s,o,f,l),_=yield e.provideOnTypeFormattingEdits(m,g);return _&&this.p2m.asTextEdits(_)})}}registerRenameProvider(e,t){let n=this.createRenameProvider(t);return this._monaco.languages.registerRenameProvider(e,n)}createRenameProvider(e){return{provideRenameEdits:(t,n,i,s)=>De(this,void 0,void 0,function*(){let o=this.m2p.asRenameParams(t,n,i),f=yield e.provideRenameEdits(o,s);return f&&this.p2m.asWorkspaceEdit(f)})}}registerDocumentLinkProvider(e,t){let n=this.createDocumentLinkProvider(t);return this._monaco.languages.registerLinkProvider(e,n)}createDocumentLinkProvider(e){return{provideLinks:(t,n)=>De(this,void 0,void 0,function*(){let i=this.m2p.asDocumentLinkParams(t),s=yield e.provideDocumentLinks(i,n);return s&&this.p2m.asDocumentLinks(s)}),resolveLink:(t,n)=>De(this,void 0,void 0,function*(){if(e.resolveDocumentLink&&(t.url===null||t.url===void 0)){let i=this.m2p.asDocumentLink(t),s=yield e.resolveDocumentLink(i,n);if(s){let o=this.p2m.asDocumentLink(s);Object.assign(t,o)}}return t})}}registerImplementationProvider(e,t){let n=this.createImplementationProvider(t);return this._monaco.languages.registerImplementationProvider(e,n)}createImplementationProvider(e){return{provideImplementation:(t,n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asTextDocumentPositionParams(t,n),o=yield e.provideImplementation(s,i);return o&&this.p2m.asDefinitionResult(o)})}}registerTypeDefinitionProvider(e,t){let n=this.createTypeDefinitionProvider(t);return this._monaco.languages.registerTypeDefinitionProvider(e,n)}createTypeDefinitionProvider(e){return{provideTypeDefinition:(t,n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asTextDocumentPositionParams(t,n),o=yield e.provideTypeDefinition(s,i);return o&&this.p2m.asDefinitionResult(o)})}}registerColorProvider(e,t){let n=this.createDocumentColorProvider(t);return this._monaco.languages.registerColorProvider(e,n)}createDocumentColorProvider(e){return{provideDocumentColors:(t,n)=>De(this,void 0,void 0,function*(){let i=this.m2p.asTextDocumentIdentifier(t),s=yield e.provideDocumentColors({textDocument:i},n);return s&&this.p2m.asColorInformations(s)}),provideColorPresentations:(t,n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asTextDocumentIdentifier(t),o=this.m2p.asRange(n.range),f=yield e.provideColorPresentations({textDocument:s,color:n.color,range:o},i);return f&&this.p2m.asColorPresentations(f)})}}registerFoldingRangeProvider(e,t){let n=this.createFoldingRangeProvider(t);return this._monaco.languages.registerFoldingRangeProvider(e,n)}createFoldingRangeProvider(e){return{provideFoldingRanges:(t,n,i)=>De(this,void 0,void 0,function*(){let s=this.m2p.asTextDocumentIdentifier(t),o=yield e.provideFoldingRanges({textDocument:s},i);return o&&this.p2m.asFoldingRanges(o)})}}registerDocumentSemanticTokensProvider(e,t,n){let i=this.createSemanticTokensProvider(t,n);return this._monaco.languages.registerDocumentSemanticTokensProvider(e,i)}createSemanticTokensProvider(e,t){return{getLegend(){return t},onDidChange:e.onDidChange,provideDocumentSemanticTokens:(n,i,s)=>De(this,void 0,void 0,function*(){let o=this.m2p.asTextDocumentIdentifier(n),f=yield e.provideDocumentSemanticTokens({textDocument:o},s);return f&&this.p2m.asSemanticTokens(f)}),releaseDocumentSemanticTokens:n=>{}}}registerDocumentRangeSemanticTokensProvider(e,t,n){let i=this.createRangeSemanticTokensProvider(t,n);return this._monaco.languages.registerDocumentRangeSemanticTokensProvider(e,i)}createRangeSemanticTokensProvider(e,t){return{getLegend(){return t},provideDocumentRangeSemanticTokens:(n,i,s)=>De(this,void 0,void 0,function*(){let o=this.m2p.asTextDocumentIdentifier(n),f=yield e.provideDocumentRangeSemanticTokens({textDocument:o,range:this.m2p.asRange(i)},s);return f&&this.p2m.asSemanticTokens(f)})}}matchModel(e,t){return Array.isArray(e)?e.some(n=>this.matchModel(n,t)):dh.DocumentFilter.is(e)?!(!!e.language&&e.language!==t.languageId||!!e.scheme&&e.scheme!==t.uri.scheme||!!e.pattern&&!tu(e.pattern,t.uri.path)):e===t.languageId}};yt.MonacoLanguages=Qs});var Ys=A(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.MonacoWorkspace=void 0;var Xs=ht(),fh=Do(),Zs=class{constructor(e,t,n,i=null){this._monaco=e,this.p2m=t,this.m2p=n,this._rootUri=i,this.documents=new Map,this.onDidOpenTextDocumentEmitter=new Xs.Emitter,this.onDidCloseTextDocumentEmitter=new Xs.Emitter,this.onDidChangeTextDocumentEmitter=new Xs.Emitter;for(let s of this._monaco.editor.getModels())this.addModel(s);this._monaco.editor.onDidCreateModel(s=>this.addModel(s)),this._monaco.editor.onWillDisposeModel(s=>this.removeModel(s)),this._monaco.editor.onDidChangeModelLanguage(s=>{this.removeModel(s.model),this.addModel(s.model)})}get rootUri(){return this._rootUri}removeModel(e){let t=e.uri.toString(),n=this.documents.get(t);n&&(this.documents.delete(t),this.onDidCloseTextDocumentEmitter.fire(n))}addModel(e){let t=e.uri.toString(),n=this.setModel(t,e);this.onDidOpenTextDocumentEmitter.fire(n),e.onDidChangeContent(i=>this.onDidChangeContent(t,e,i))}onDidChangeContent(e,t,n){let i=this.setModel(e,t),s=[];for(let o of n.changes){let f=this.m2p.asRange(o.range),l=o.rangeLength,g=o.text;s.push({range:f,rangeLength:l,text:g})}this.onDidChangeTextDocumentEmitter.fire({textDocument:i,contentChanges:s})}setModel(e,t){let n=fh.TextDocument.create(e,t.getLanguageId(),t.getVersionId(),t.getValue());return this.documents.set(e,n),n}get textDocuments(){return Array.from(this.documents.values())}get onDidOpenTextDocument(){return this.onDidOpenTextDocumentEmitter.event}get onDidCloseTextDocument(){return this.onDidCloseTextDocumentEmitter.event}get onDidChangeTextDocument(){return this.onDidChangeTextDocumentEmitter.event}applyEdit(e){let t=this.p2m.asWorkspaceEdit(e),n=t.edits?t.edits.reduce((s,o)=>{let f=o;return s[f.resource.toString()]=this._monaco.editor.getModel(f.resource),s},{}):{};if(!Object.keys(n).map(s=>n[s]).every(s=>!!s))return Promise.resolve(!1);let i=t.edits?t.edits.reduce((s,o)=>{let f=o,l=f.resource.toString();return l in s||(s[l]=[]),s[l].push({range:this._monaco.Range.lift(f.edit.range),text:f.edit.text}),s},{}):{};return Object.keys(i).forEach(s=>{n[s].pushEditOperations([],i[s].map(o=>({identifier:{major:1,minor:0},range:o.range,text:o.text,forceMoveMarkers:!0})),()=>[])}),Promise.resolve(!0)}};Yr.MonacoWorkspace=Zs});var na=A(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.ProtocolToMonacoConverter=Ie.MonacoToProtocolConverter=Ie.ProtocolCodeAction=Ie.ProtocolIMarkerData=Ie.ProtocolCompletionItem=Ie.ProtocolCodeLens=Ie.ProtocolDocumentLink=void 0;var ei=Se(),ct=wr(),L=ht(),nu;(function(r){function e(t){return!!t&&"data"in t}r.is=e})(nu=Ie.ProtocolDocumentLink||(Ie.ProtocolDocumentLink={}));var ru;(function(r){function e(t){return!!t&&"data"in t}r.is=e})(ru=Ie.ProtocolCodeLens||(Ie.ProtocolCodeLens={}));var iu;(function(r){function e(t){return!!t&&"data"in t}r.is=e})(iu=Ie.ProtocolCompletionItem||(Ie.ProtocolCompletionItem={}));var ou;(function(r){function e(t){return!!t&&"data"in t}r.is=e})(ou=Ie.ProtocolIMarkerData||(Ie.ProtocolIMarkerData={}));var su;(function(r){function e(t){return!!t&&"data"in t}r.is=e})(su=Ie.ProtocolCodeAction||(Ie.ProtocolCodeAction={}));function gh(r){return r.insert!==void 0}var ea=class{constructor(e){this._monaco=e}asPosition(e,t){let n=e==null?void 0:e-1,i=t==null?void 0:t-1;return{line:n,character:i}}asRange(e){if(e!==void 0){if(e===null)return null;if(gh(e))return this.asRange(e.insert);{let t=this.asPosition(e.startLineNumber,e.startColumn),n=this.asPosition(e.endLineNumber,e.endColumn);return{start:t,end:n}}}}asTextDocumentIdentifier(e){return{uri:e.uri.toString()}}asTextDocumentPositionParams(e,t){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column)}}asCompletionParams(e,t,n){return Object.assign(this.asTextDocumentPositionParams(e,t),{context:this.asCompletionContext(n)})}asCompletionContext(e){return{triggerKind:this.asCompletionTriggerKind(e.triggerKind),triggerCharacter:e.triggerCharacter}}asSignatureHelpContext(e){return{triggerKind:this.asSignatureHelpTriggerKind(e.triggerKind),triggerCharacter:e.triggerCharacter,isRetrigger:e.isRetrigger,activeSignatureHelp:this.asSignatureHelp(e.activeSignatureHelp)}}asSignatureHelp(e){if(e!==void 0)return{signatures:e.signatures.map(t=>this.asSignatureInformation(t)),activeParameter:e.activeParameter,activeSignature:e.activeSignature}}asSignatureInformation(e){return{documentation:this.asMarkupContent(e.documentation),label:e.label,parameters:e.parameters.map(t=>this.asParameterInformation(t)),activeParameter:e.activeParameter}}asParameterInformation(e){return{documentation:this.asMarkupContent(e.documentation),label:e.label}}asMarkupContent(e){if(e!==void 0)return typeof e=="string"?e:{kind:L.MarkupKind.Markdown,value:e.value}}asSignatureHelpTriggerKind(e){switch(e){case this._monaco.languages.SignatureHelpTriggerKind.ContentChange:return L.SignatureHelpTriggerKind.ContentChange;case this._monaco.languages.SignatureHelpTriggerKind.TriggerCharacter:return L.SignatureHelpTriggerKind.TriggerCharacter;default:return L.SignatureHelpTriggerKind.Invoke}}asCompletionTriggerKind(e){switch(e){case this._monaco.languages.CompletionTriggerKind.TriggerCharacter:return L.CompletionTriggerKind.TriggerCharacter;case this._monaco.languages.CompletionTriggerKind.TriggerForIncompleteCompletions:return L.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return L.CompletionTriggerKind.Invoked}}asCompletionItem(e){var t,n;let i={label:e.label},s=iu.is(e)?e:void 0;return e.detail&&(i.detail=e.detail),e.documentation&&(typeof e.documentation=="string"?i.documentation=e.documentation:i.documentation=this.asDocumentation((t=s?.documentationFormat)!==null&&t!==void 0?t:L.MarkupKind.Markdown,e.documentation)),e.filterText&&(i.filterText=e.filterText),this.fillPrimaryInsertText(i,e),ct.number(e.kind)&&(i.kind=this.asCompletionItemKind(e.kind,s&&s.originalItemKind)),e.sortText&&(i.sortText=e.sortText),e.additionalTextEdits&&(i.additionalTextEdits=this.asTextEdits(e.additionalTextEdits)),e.command&&(i.command=this.asCommand(e.command)),e.commitCharacters&&(i.commitCharacters=e.commitCharacters.slice()),e.command&&(i.command=this.asCommand(e.command)),(e.preselect===!0||e.preselect===!1)&&(i.preselect=e.preselect),s&&(s.data!==void 0&&(i.data=s.data),(s.deprecated===!0||s.deprecated===!1)&&(i.deprecated=s.deprecated)),e.tags&&(i.tags=(n=e.tags)===null||n===void 0?void 0:n.slice()),i}asCompletionItemKind(e,t){if(t!==void 0)return t;switch(e){case this._monaco.languages.CompletionItemKind.Method:return L.CompletionItemKind.Method;case this._monaco.languages.CompletionItemKind.Function:return L.CompletionItemKind.Function;case this._monaco.languages.CompletionItemKind.Constructor:return L.CompletionItemKind.Constructor;case this._monaco.languages.CompletionItemKind.Field:return L.CompletionItemKind.Field;case this._monaco.languages.CompletionItemKind.Variable:return L.CompletionItemKind.Variable;case this._monaco.languages.CompletionItemKind.Class:return L.CompletionItemKind.Class;case this._monaco.languages.CompletionItemKind.Struct:return L.CompletionItemKind.Struct;case this._monaco.languages.CompletionItemKind.Interface:return L.CompletionItemKind.Interface;case this._monaco.languages.CompletionItemKind.Module:return L.CompletionItemKind.Module;case this._monaco.languages.CompletionItemKind.Property:return L.CompletionItemKind.Property;case this._monaco.languages.CompletionItemKind.Event:return L.CompletionItemKind.Event;case this._monaco.languages.CompletionItemKind.Operator:return L.CompletionItemKind.Operator;case this._monaco.languages.CompletionItemKind.Unit:return L.CompletionItemKind.Unit;case this._monaco.languages.CompletionItemKind.Value:return L.CompletionItemKind.Value;case this._monaco.languages.CompletionItemKind.Constant:return L.CompletionItemKind.Constant;case this._monaco.languages.CompletionItemKind.Enum:return L.CompletionItemKind.Enum;case this._monaco.languages.CompletionItemKind.EnumMember:return L.CompletionItemKind.EnumMember;case this._monaco.languages.CompletionItemKind.Keyword:return L.CompletionItemKind.Keyword;case this._monaco.languages.CompletionItemKind.Text:return L.CompletionItemKind.Text;case this._monaco.languages.CompletionItemKind.Color:return L.CompletionItemKind.Color;case this._monaco.languages.CompletionItemKind.File:return L.CompletionItemKind.File;case this._monaco.languages.CompletionItemKind.Reference:return L.CompletionItemKind.Reference;case this._monaco.languages.CompletionItemKind.Customcolor:return L.CompletionItemKind.Color;case this._monaco.languages.CompletionItemKind.Folder:return L.CompletionItemKind.Folder;case this._monaco.languages.CompletionItemKind.TypeParameter:return L.CompletionItemKind.TypeParameter;case this._monaco.languages.CompletionItemKind.Snippet:return L.CompletionItemKind.Snippet;default:return e+1}}asDocumentation(e,t){switch(e){case L.MarkupKind.PlainText:return{kind:e,value:t};case L.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}fillPrimaryInsertText(e,t){let n=L.InsertTextFormat.PlainText,i,s;t.insertTextRules!==void 0&&(t.insertTextRules&this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet)===0&&(n=L.InsertTextFormat.Snippet,i=t.insertText),e.insertTextFormat=n,i=t.insertText,t.range&&(s=this.asRange(t.range)),e.insertTextFormat=n,t.fromEdit&&i&&s?e.textEdit={newText:i,range:s}:e.insertText=i,e.insertTextMode=t.insertTextMode}asTextEdit(e){return{range:this.asRange(e.range),newText:e.text||""}}asTextEdits(e){if(!!e)return e.map(t=>this.asTextEdit(t))}asReferenceParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),context:{includeDeclaration:n.includeDeclaration}}}asDocumentSymbolParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asCodeLensParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asDiagnosticSeverity(e){switch(e){case this._monaco.MarkerSeverity.Error:return L.DiagnosticSeverity.Error;case this._monaco.MarkerSeverity.Warning:return L.DiagnosticSeverity.Warning;case this._monaco.MarkerSeverity.Info:return L.DiagnosticSeverity.Information;case this._monaco.MarkerSeverity.Hint:return L.DiagnosticSeverity.Hint}}asDiagnostic(e){let t=this.asRange(new this._monaco.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)),n=this.asDiagnosticSeverity(e.severity),i=L.Diagnostic.create(t,e.message,n,e.code,e.source);return ou.is(e)&&(i.data=e.data,i.codeDescription=e.codeDescription),i}asDiagnostics(e){return e==null?e:e.map(t=>this.asDiagnostic(t))}asCodeActionContext(e){if(e==null)return e;let t=this.asDiagnostics(e.markers);return L.CodeActionContext.create(t,ct.string(e.only)?[e.only]:void 0)}asCodeActionParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),range:this.asRange(t),context:this.asCodeActionContext(n)}}asCommand(e){if(e){let t=e.arguments||[];return L.Command.create(e.title,e.id,...t)}}asCodeLens(e){let t=L.CodeLens.create(this.asRange(e.range));return e.command&&(t.command=this.asCommand(e.command)),ru.is(e)&&e.data&&(t.data=e.data),t}asFormattingOptions(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}asDocumentFormattingParams(e,t){return{textDocument:this.asTextDocumentIdentifier(e),options:this.asFormattingOptions(t)}}asDocumentRangeFormattingParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),range:this.asRange(t),options:this.asFormattingOptions(n)}}asDocumentOnTypeFormattingParams(e,t,n,i){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),ch:n,options:this.asFormattingOptions(i)}}asRenameParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),newName:n}}asDocumentLinkParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asDocumentLink(e){let t=L.DocumentLink.create(this.asRange(e.range));return e.url&&(t.target=typeof e.url=="string"?e.url:e.url.toString()),nu.is(e)&&e.data&&(t.data=e.data),e.tooltip&&(t.tooltip=e.tooltip),t}asCodeAction(e){let t={title:e.title},n=su.is(e)?e:void 0;if(ct.number(e.kind)&&(t.kind=e.kind),e.diagnostics&&(t.diagnostics=this.asDiagnostics(e.diagnostics)),e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return e.command&&(t.command=this.asCommand(e.command)),e.isPreferred!==void 0&&(t.isPreferred=e.isPreferred),e.disabled&&(t.disabled={reason:e.disabled}),n&&n.data!==void 0&&(t.data=n.data),t}};Ie.MonacoToProtocolConverter=ea;var ta=class{constructor(e){this._monaco=e}asResourceEdits(e,t,n,i){return t.map(s=>({resource:e,edit:this.asTextEdit(s),modelVersionId:i,metadata:L.AnnotatedTextEdit.is(s)?n(s.annotationId):void 0}))}asWorkspaceEditMetadata(e){return{needsConfirmation:e.needsConfirmation===!0,label:e.label,description:e.description}}asWorkspaceEdit(e){if(!e)return;let t=new Map;if(e.changeAnnotations!==void 0)for(let s of Object.keys(e.changeAnnotations)){let o=this.asWorkspaceEditMetadata(e.changeAnnotations[s]);t.set(s,o)}let n=s=>{if(s!==void 0)return t.get(s)},i=[];if(e.documentChanges)e.documentChanges.forEach(s=>{if(ei.CreateFile.is(s))i.push({newUri:this._monaco.Uri.parse(s.uri),options:s.options,metadata:n(s.annotationId)});else if(ei.RenameFile.is(s))i.push({oldUri:this._monaco.Uri.parse(s.oldUri),newUri:this._monaco.Uri.parse(s.newUri),options:s.options,metadata:n(s.annotationId)});else if(ei.DeleteFile.is(s))i.push({oldUri:this._monaco.Uri.parse(s.uri),options:s.options,metadata:n(s.annotationId)});else if(ei.TextDocumentEdit.is(s)){let o=this._monaco.Uri.parse(s.textDocument.uri),f=typeof s.textDocument.version=="number"?s.textDocument.version:void 0;i.push(...this.asResourceEdits(o,s.edits,n,f))}else console.error(`Unknown workspace edit change received:
${JSON.stringify(s,void 0,4)}`)});else if(e.changes)for(let s of Object.keys(e.changes)){let o=this._monaco.Uri.parse(s);i.push(...this.asResourceEdits(o,e.changes[s],n))}return{edits:i}}asTextEdit(e){return e?{range:this.asRange(e.range),text:e.newText}:void 0}asTextEdits(e){if(!!e)return e.map(t=>this.asTextEdit(t))}asCodeLens(e){if(!e)return;let n={range:this.asRange(e.range)};return e.command&&(n.command=this.asCommand(e.command)),e.data!==void 0&&e.data!==null&&(n.data=e.data),n}asCodeLensList(e){if(!!e)return{lenses:e.map(t=>this.asCodeLens(t)),dispose:()=>{}}}asCodeActionList(e){return{actions:e.map(t=>this.asCodeAction(t)),dispose:()=>{}}}asCodeAction(e){return L.Command.is(e)?{command:{id:e.command,title:e.title,arguments:e.arguments},title:e.title}:{title:e.title,command:this.asCommand(e.command),edit:this.asWorkspaceEdit(e.edit),diagnostics:this.asDiagnostics(e.diagnostics),kind:e.kind,disabled:e.disabled?e.disabled.reason:void 0,isPreferred:e.isPreferred,data:e.data}}asCommand(e){if(!!e)return{id:e.command,title:e.title,arguments:e.arguments}}asDocumentSymbol(e){let t=e.children&&e.children.map(n=>this.asDocumentSymbol(n));return{name:e.name,detail:e.detail||"",kind:this.asSymbolKind(e.kind),tags:e.tags||[],range:this.asRange(e.range),selectionRange:this.asRange(e.selectionRange),children:t}}asDocumentSymbols(e){return L.DocumentSymbol.is(e[0])?e.map(t=>this.asDocumentSymbol(t)):this.asSymbolInformations(e)}asSymbolInformations(e,t){if(!!e)return e.map(n=>this.asSymbolInformation(n,t))}asSymbolInformation(e,t){let n=this.asLocation(t?Object.assign(Object.assign({},e.location),{uri:t.toString()}):e.location);return{name:e.name,detail:"",containerName:e.containerName,kind:this.asSymbolKind(e.kind),tags:e.tags||[],range:n.range,selectionRange:n.range}}asSymbolKind(e){return e<=L.SymbolKind.TypeParameter?e-1:this._monaco.languages.SymbolKind.Property}asDocumentHighlights(e){if(!!e)return e.map(t=>this.asDocumentHighlight(t))}asDocumentHighlight(e){let t=this.asRange(e.range),n=ct.number(e.kind)?this.asDocumentHighlightKind(e.kind):void 0;return{range:t,kind:n}}asDocumentHighlightKind(e){switch(e){case L.DocumentHighlightKind.Text:return this._monaco.languages.DocumentHighlightKind.Text;case L.DocumentHighlightKind.Read:return this._monaco.languages.DocumentHighlightKind.Read;case L.DocumentHighlightKind.Write:return this._monaco.languages.DocumentHighlightKind.Write}return this._monaco.languages.DocumentHighlightKind.Text}asReferences(e){if(!!e)return e.map(t=>this.asLocation(t))}asDefinitionResult(e){if(!!e)return ct.array(e)?e.length==0?void 0:L.LocationLink.is(e[0])?e.map(n=>this.asLocationLink(n)):e.map(n=>this.asLocation(n)):this.asLocation(e)}asLocation(e){if(!e)return;let t=this._monaco.Uri.parse(e.uri),n=this.asRange(e.range);return{uri:t,range:n}}asLocationLink(e){if(!e)return;let t={uri:this._monaco.Uri.parse(e.targetUri),range:this.asRange(e.targetSelectionRange),originSelectionRange:this.asRange(e.originSelectionRange),targetSelectionRange:this.asRange(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}asSignatureHelpResult(e){if(!e)return;let t={};return ct.number(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,ct.number(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures?t.signatures=this.asSignatureInformations(e.signatures):t.signatures=[],{value:t,dispose:()=>{}}}asSignatureInformations(e){return e.map(t=>this.asSignatureInformation(t))}asSignatureInformation(e){let t={label:e.label};return e.documentation&&(t.documentation=this.asDocumentation(e.documentation)),e.parameters?t.parameters=this.asParameterInformations(e.parameters):t.parameters=[],e.activeParameter&&(t.activeParameter=e.activeParameter),t}asParameterInformations(e){return e.map(t=>this.asParameterInformation(t))}asParameterInformation(e){let t={label:e.label};return e.documentation&&(t.documentation=this.asDocumentation(e.documentation)),t}asHover(e){if(!!e)return{contents:this.asHoverContent(e.contents),range:this.asRange(e.range)}}asHoverContent(e){return Array.isArray(e)?e.map(t=>this.asMarkdownString(t)):[this.asMarkdownString(e)]}asDocumentation(e){return ct.string(e)?e:e.kind===L.MarkupKind.PlainText?e.value:this.asMarkdownString(e)}asMarkdownString(e){if(L.MarkupContent.is(e))return{value:e.value};if(ct.string(e))return{value:e};let{language:t,value:n}=e;return{value:"```"+t+`
`+n+"\n```"}}asSeverity(e){return e===1?this._monaco.MarkerSeverity.Error:e===2?this._monaco.MarkerSeverity.Warning:e===3?this._monaco.MarkerSeverity.Info:this._monaco.MarkerSeverity.Hint}asDiagnostics(e){if(!!e)return e.map(t=>this.asDiagnostic(t))}asDiagnostic(e){return{code:typeof e.code=="number"?e.code.toString():e.code,severity:this.asSeverity(e.severity),message:e.message,source:e.source,startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,relatedInformation:this.asRelatedInformations(e.relatedInformation),codeDescription:e.codeDescription,tags:e.tags,data:e.data}}asRelatedInformations(e){if(!!e)return e.map(t=>this.asRelatedInformation(t))}asRelatedInformation(e){return{resource:this._monaco.Uri.parse(e.location.uri),startLineNumber:e.location.range.start.line+1,startColumn:e.location.range.start.character+1,endLineNumber:e.location.range.end.line+1,endColumn:e.location.range.end.character+1,message:e.message}}asCompletionResult(e,t){if(!e)return{incomplete:!1,suggestions:[]};if(Array.isArray(e)){let n=e.map(i=>this.asCompletionItem(i,t));return{incomplete:!1,suggestions:n}}return{incomplete:e.isIncomplete,suggestions:e.items.map(n=>this.asCompletionItem(n,t))}}asCompletionItem(e,t){let n={label:e.label};e.detail&&(n.detail=e.detail),e.documentation&&(n.documentation=this.asDocumentation(e.documentation),n.documentationFormat=ct.string(e.documentation)?void 0:e.documentation.kind),e.filterText&&(n.filterText=e.filterText);let i=this.asCompletionInsertText(e,t);if(n.insertText=i.insertText,n.range=i.range,n.fromEdit=i.fromEdit,i.isSnippet&&(n.insertTextRules=this._monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet),ct.number(e.kind)){let[s,o]=this.asCompletionItemKind(e.kind);n.kind=s,o&&(n.originalItemKind=o)}return e.sortText&&(n.sortText=e.sortText),e.additionalTextEdits&&(n.additionalTextEdits=this.asTextEdits(e.additionalTextEdits)),ct.stringArray(e.commitCharacters)&&(n.commitCharacters=e.commitCharacters.slice()),e.command&&(n.command=this.asCommand(e.command)),(e.deprecated===!0||e.deprecated===!1)&&(n.deprecated=e.deprecated),(e.preselect===!0||e.preselect===!1)&&(n.preselect=e.preselect),e.data!==void 0&&(n.data=e.data),(e.deprecated===!0||e.deprecated===!1)&&(n.deprecated=e.deprecated),e.insertTextMode&&(n.insertTextMode=e.insertTextMode),e.tags&&(n.tags=e.tags),n}asCompletionItemKind(e){if(L.CompletionItemKind.Text<=e&&e<=L.CompletionItemKind.TypeParameter)switch(e){case L.CompletionItemKind.Text:return[this._monaco.languages.CompletionItemKind.Text,void 0];case L.CompletionItemKind.Method:return[this._monaco.languages.CompletionItemKind.Method,void 0];case L.CompletionItemKind.Function:return[this._monaco.languages.CompletionItemKind.Function,void 0];case L.CompletionItemKind.Constructor:return[this._monaco.languages.CompletionItemKind.Constructor,void 0];case L.CompletionItemKind.Field:return[this._monaco.languages.CompletionItemKind.Field,void 0];case L.CompletionItemKind.Variable:return[this._monaco.languages.CompletionItemKind.Variable,void 0];case L.CompletionItemKind.Class:return[this._monaco.languages.CompletionItemKind.Class,void 0];case L.CompletionItemKind.Interface:return[this._monaco.languages.CompletionItemKind.Interface,void 0];case L.CompletionItemKind.Module:return[this._monaco.languages.CompletionItemKind.Module,void 0];case L.CompletionItemKind.Property:return[this._monaco.languages.CompletionItemKind.Property,void 0];case L.CompletionItemKind.Unit:return[this._monaco.languages.CompletionItemKind.Unit,void 0];case L.CompletionItemKind.Value:return[this._monaco.languages.CompletionItemKind.Value,void 0];case L.CompletionItemKind.Enum:return[this._monaco.languages.CompletionItemKind.Enum,void 0];case L.CompletionItemKind.Keyword:return[this._monaco.languages.CompletionItemKind.Keyword,void 0];case L.CompletionItemKind.Snippet:return[this._monaco.languages.CompletionItemKind.Snippet,void 0];case L.CompletionItemKind.Color:return[this._monaco.languages.CompletionItemKind.Color,void 0];case L.CompletionItemKind.File:return[this._monaco.languages.CompletionItemKind.File,void 0];case L.CompletionItemKind.Reference:return[this._monaco.languages.CompletionItemKind.Reference,void 0];case L.CompletionItemKind.Folder:return[this._monaco.languages.CompletionItemKind.Folder,void 0];case L.CompletionItemKind.EnumMember:return[this._monaco.languages.CompletionItemKind.EnumMember,void 0];case L.CompletionItemKind.Constant:return[this._monaco.languages.CompletionItemKind.Constant,void 0];case L.CompletionItemKind.Struct:return[this._monaco.languages.CompletionItemKind.Struct,void 0];case L.CompletionItemKind.Event:return[this._monaco.languages.CompletionItemKind.Event,void 0];case L.CompletionItemKind.Operator:return[this._monaco.languages.CompletionItemKind.Operator,void 0];case L.CompletionItemKind.TypeParameter:return[this._monaco.languages.CompletionItemKind.TypeParameter,void 0];default:return[e-1,void 0]}return[L.CompletionItemKind.Text,e]}asCompletionInsertText(e,t){let n=e.insertTextFormat===L.InsertTextFormat.Snippet;if(e.textEdit)if(L.TextEdit.is(e.textEdit)){let i=this.asRange(e.textEdit.range),s=e.textEdit.newText;return{isSnippet:n,insertText:s,range:i,fromEdit:!0}}else{let i={insert:this.asRange(e.textEdit.insert),replace:this.asRange(e.textEdit.replace)},s=e.textEdit.newText;return{isSnippet:n,insertText:s,range:i,fromEdit:!0}}return e.insertText?{isSnippet:n,insertText:e.insertText,fromEdit:!1,range:t}:{insertText:e.label,range:t,fromEdit:!1,isSnippet:!1}}asDocumentLinks(e){return{links:e.map(n=>this.asDocumentLink(n))}}asDocumentLink(e){return{range:this.asRange(e.range),url:e.target,data:e.data,tooltip:e.tooltip}}asRange(e){if(e===void 0)return;if(e===null)return null;let t=this.asPosition(e.start),n=this.asPosition(e.end);if(t instanceof this._monaco.Position&&n instanceof this._monaco.Position)return new this._monaco.Range(t.lineNumber,t.column,n.lineNumber,n.column);let i=!t||t.lineNumber===void 0?void 0:t.lineNumber,s=!t||t.column===void 0?void 0:t.column,o=!n||n.lineNumber===void 0?void 0:n.lineNumber,f=!n||n.column===void 0?void 0:n.column;return{startLineNumber:i,startColumn:s,endLineNumber:o,endColumn:f}}asPosition(e){if(e===void 0)return;if(e===null)return null;let{line:t,character:n}=e,i=t===void 0?void 0:t+1,s=n===void 0?void 0:n+1;return i!==void 0&&s!==void 0?new this._monaco.Position(i,s):{lineNumber:i,column:s}}asColorInformations(e){return e.map(t=>this.asColorInformation(t))}asColorInformation(e){return{range:this.asRange(e.range),color:e.color}}asColorPresentations(e){return e.map(t=>this.asColorPresentation(t))}asColorPresentation(e){return{label:e.label,textEdit:this.asTextEdit(e.textEdit),additionalTextEdits:this.asTextEdits(e.additionalTextEdits)}}asFoldingRanges(e){return e&&e.map(t=>this.asFoldingRange(t))}asFoldingRange(e){return{start:e.startLine+1,end:e.endLine+1,kind:this.asFoldingRangeKind(e.kind)}}asFoldingRangeKind(e){if(e)switch(e){case L.FoldingRangeKind.Comment:return this._monaco.languages.FoldingRangeKind.Comment;case L.FoldingRangeKind.Imports:return this._monaco.languages.FoldingRangeKind.Imports;case L.FoldingRangeKind.Region:return this._monaco.languages.FoldingRangeKind.Region}}asSemanticTokens(e){return{resultId:e.resultId,data:Uint32Array.from(e.data)}}};Ie.ProtocolToMonacoConverter=ta});var uu=A(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.MonacoServices=void 0;var au=na(),hh=zs(),mh=Vs(),ph=Ys(),vh=Js(),cu=ht(),yh;(function(r){function e(i,s={}){let o=new au.MonacoToProtocolConverter(i),f=new au.ProtocolToMonacoConverter(i);return{commands:new hh.MonacoCommands(i),languages:new mh.MonacoLanguages(i,f,o),workspace:new ph.MonacoWorkspace(i,f,o,s.rootUri),window:new vh.ConsoleWindow}}r.create=e;function t(i,s={}){let o=e(i,s);return cu.Services.install(o),o}r.install=t;function n(){return cu.Services.get()}r.get=n})(yh=rr.MonacoServices||(rr.MonacoServices={}))});var du=A($e=>{"use strict";var Ch=$e&&$e.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Rt=$e&&$e.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ch(e,r,t)};Object.defineProperty($e,"__esModule",{value:!0});Rt(Pr(),$e);Rt(ht(),$e);Rt(dc(),$e);Rt(Vc(),$e);Rt(zs(),$e);Rt(Js(),$e);Rt(Vs(),$e);Rt(Ys(),$e);Rt(uu(),$e);Rt(na(),$e)});var hu=oa(qa()),Tt=oa(du());var ra=function(r,e){return ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},ra(r,e)};function lu(r,e){ra(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function _h(r){var e=typeof Symbol=="function"&&r[Symbol.iterator],t=0;return e?e.call(r):{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}}function bh(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(f){o={error:f}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return s}function wh(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(bh(arguments[e]));return r}var fu=function(){function r(e,t){this.target=t,this.type=e}return r}(),Dh=function(r){lu(e,r);function e(t,n){var i=r.call(this,"error",n)||this;return i.message=t.message,i.error=t,i}return e}(fu),Rh=function(r){lu(e,r);function e(t,n,i){t===void 0&&(t=1e3),n===void 0&&(n="");var s=r.call(this,"close",i)||this;return s.wasClean=!0,s.code=t,s.reason=n,s}return e}(fu);var Th=function(){if(typeof WebSocket<"u")return WebSocket},Ph=function(r){return typeof r<"u"&&!!r&&r.CLOSING===2},gn={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},Sh=function(){function r(e,t,n){var i=this;n===void 0&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(s){i._debug("open event");var o=i._options.minUptime,f=o===void 0?gn.minUptime:o;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},f),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(l){return i._ws.send(l)}),i._messageQueue=[],i.onopen&&i.onopen(s),i._listeners.open.forEach(function(l){return i._callEventListener(s,l)})},this._handleMessage=function(s){i._debug("message event"),i.onmessage&&i.onmessage(s),i._listeners.message.forEach(function(o){return i._callEventListener(s,o)})},this._handleError=function(s){i._debug("error event",s.message),i._disconnect(void 0,s.message==="TIMEOUT"?"timeout":void 0),i.onerror&&i.onerror(s),i._debug("exec error listeners"),i._listeners.error.forEach(function(o){return i._callEventListener(s,o)}),i._connect()},this._handleClose=function(s){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(s),i._listeners.close.forEach(function(o){return i._callEventListener(s,o)})},this._url=e,this._protocols=t,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(r,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(r,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(r,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(r,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"CONNECTING",{get:function(){return r.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"OPEN",{get:function(){return r.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"CLOSING",{get:function(){return r.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"CLOSED",{get:function(){return r.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bufferedAmount",{get:function(){var e=this._messageQueue.reduce(function(t,n){return typeof n=="string"?t+=n.length:n instanceof Blob?t+=n.size:t+=n.byteLength,t},0);return e+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?r.CLOSED:r.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),r.prototype.close=function(e,t){if(e===void 0&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(e,t)},r.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(e,t),this._connect())},r.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,n=t===void 0?gn.maxEnqueuedMessages:t;this._messageQueue.length<n&&(this._debug("enqueue",e),this._messageQueue.push(e))}},r.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},r.prototype.dispatchEvent=function(e){var t,n,i=this._listeners[e.type];if(i)try{for(var s=_h(i),o=s.next();!o.done;o=s.next()){var f=o.value;this._callEventListener(e,f)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!0},r.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(n){return n!==t}))},r.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,wh(["RWS>"],e))},r.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,n=t===void 0?gn.reconnectionDelayGrowFactor:t,i=e.minReconnectionDelay,s=i===void 0?gn.minReconnectionDelay:i,o=e.maxReconnectionDelay,f=o===void 0?gn.maxReconnectionDelay:o,l=0;return this._retryCount>0&&(l=s*Math.pow(n,this._retryCount-1),l>f&&(l=f)),this._debug("next delay",l),l},r.prototype._wait=function(){var e=this;return new Promise(function(t){setTimeout(t,e._getNextDelay())})},r.prototype._getNextUrl=function(e){if(typeof e=="string")return Promise.resolve(e);if(typeof e=="function"){var t=e();if(typeof t=="string")return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},r.prototype._connect=function(){var e=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var t=this._options,n=t.maxRetries,i=n===void 0?gn.maxRetries:n,s=t.connectionTimeout,o=s===void 0?gn.connectionTimeout:s,f=t.WebSocket,l=f===void 0?Th():f;if(this._retryCount>=i){this._debug("max retries reached",this._retryCount,">=",i);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!Ph(l))throw Error("No valid WebSocket class provided");this._wait().then(function(){return e._getNextUrl(e._url)}).then(function(g){e._closeCalled||(e._debug("connect",{url:g,protocols:e._protocols}),e._ws=e._protocols?new l(g,e._protocols):new l(g),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout(function(){return e._handleTimeout()},o))})}},r.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new Dh(Error("TIMEOUT"),this))},r.prototype._disconnect=function(e,t){if(e===void 0&&(e=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new Rh(e,t,this))}catch{}}},r.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},r.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},r.prototype._removeListeners=function(){!this._ws||(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},r.prototype._addListeners=function(){!this._ws||(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},r.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},r}(),gu=Sh;function Eh(r){let e={maxReconnectionDelay:1e4,minReconnectionDelay:1e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:1e4,maxRetries:1/0,debug:!1};return new gu(r,[],e)}window.exports=function(e){let t=window.UiContext.lspHost||`${window.location.protocol==="https:"?"wss":"ws"}://${window.location.host}`;if(!t){console.warn("Language server is not configured");return}t==="wss://hydro.ac"&&console.log("Using language server provided by https://hydro.ac");let n=`${t}/lsp/`;if(window.__Hydro_lsp_loaded)return;window.__Hydro_lsp_loaded=!0,Tt.MonacoServices.install(e);function i(s,o,f,l,g=()=>({})){let m=null,_=()=>m&&(m==null?void 0:m.readyState)===(m==null?void 0:m.OPEN);function R(P){!o.includes(P.getLanguageId().toLowerCase())||_()||(m=Eh(l+"?"+encodeURIComponent(JSON.stringify(g(P)))),(0,hu.listen)({webSocket:m,onConnection:F=>{let j=new Tt.MonacoLanguageClient({name:s,clientOptions:{documentSelector:f,errorHandler:{error:()=>Tt.ErrorAction.Continue,closed:()=>Tt.CloseAction.DoNotRestart}},connectionProvider:{get:(Q,U)=>Promise.resolve((0,Tt.createConnection)(F,Q,U))}});j.start(),m.onclose=async()=>{await j.stop(),F.end()}}}))}e.editor.onDidCreateModel(R),e.editor.onWillDisposeModel(P=>{o.includes(P.getLanguageId().toLowerCase())&&_()&&m.close()}),e.editor.onDidChangeModelLanguage(({model:P,oldLanguage:F})=>{o.includes(F)&&_()?m.close():o.includes(P.getLanguageId())&&!_()&&R(P)}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&m?_()||(console.log("Resume language server"),m.reconnect()):_()&&(console.log("Pause language server"),m.close())})}i("Python Language Client",["python"],["python",".py",".py2",".py3"],`${n}python/websocket`),i("Cpp Language Client",["cpp","c"],[".cpp","cpp",".c","c"],`${n}cpp/websocket`,s=>({style:UserContext.formatStyle,lang:s.getLanguageId()==="c"?"c":"c++"})),i("Java Language Client",["java"],["java",".java"],`${n}java/websocket`)};})();
/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
