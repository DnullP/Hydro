(()=>{try{let Be=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},yt=new Be.Error().stack;yt&&(Be._sentryDebugIds=Be._sentryDebugIds||{},Be._sentryDebugIds[yt]="bf33d42e-2982-491a-a858-83989d6d56e1",Be._sentryDebugIdIdentifier="sentry-dbid-bf33d42e-2982-491a-a858-83989d6d56e1")}catch(Be){}{let Be=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};Be.SENTRY_RELEASE={id:"2267ac9984bf2a03311b765d1b1928f9f4cc2bd8"}}(self.webpackChunk_hydrooj_ui_default=self.webpackChunk_hydrooj_ui_default||[]).push([[665],{66101:(Be,yt,M)=>{M.d(yt,{kr:()=>Ne,Rq:()=>De,vM:()=>ze,yX:()=>ke,CE:()=>wt,VS:()=>je,JR:()=>Bt,Jb:()=>Ot,pi:()=>kt,p_:()=>_,r5:()=>de,m7:()=>N,p:()=>P,t:()=>le});var we=M(2150),Z=M(64127),F=M(76473),R=M(18880),Se=M(30411),ot=M(74513),mn=M(36511),se=M(43158),Pe=M(26778);class re{constructor(n){this._start=0,this._pos=0,this.getStartOfToken=()=>this._start,this.getCurrentPosition=()=>this._pos,this.eol=()=>this._sourceText.length===this._pos,this.sol=()=>this._pos===0,this.peek=()=>this._sourceText.charAt(this._pos)||null,this.next=()=>{const o=this._sourceText.charAt(this._pos);return this._pos++,o},this.eat=o=>{if(this._testNextCharacter(o))return this._start=this._pos,this._pos++,this._sourceText.charAt(this._pos-1)},this.eatWhile=o=>{let a=this._testNextCharacter(o),l=!1;for(a&&(l=a,this._start=this._pos);a;)this._pos++,a=this._testNextCharacter(o),l=!0;return l},this.eatSpace=()=>this.eatWhile(/[\s\u00a0]/),this.skipToEnd=()=>{this._pos=this._sourceText.length},this.skipTo=o=>{this._pos=o},this.match=(o,a=!0,l=!1)=>{let u=null,c=null;return typeof o=="string"?(c=new RegExp(o,l?"i":"g").test(this._sourceText.slice(this._pos,this._pos+o.length)),u=o):o instanceof RegExp&&(c=this._sourceText.slice(this._pos).match(o),u=c==null?void 0:c[0]),c!=null&&(typeof o=="string"||c instanceof Array&&this._sourceText.startsWith(c[0],this._pos))?(a&&(this._start=this._pos,u&&u.length&&(this._pos+=u.length)),c):!1},this.backUp=o=>{this._pos-=o},this.column=()=>this._pos,this.indentation=()=>{const o=this._sourceText.match(/\s*/);let a=0;if(o&&o.length!==0){const l=o[0];let u=0;for(;l.length>u;)l.charCodeAt(u)===9?a+=2:a++,u++}return a},this.current=()=>this._sourceText.slice(this._start,this._pos),this._sourceText=n}_testNextCharacter(n){const o=this._sourceText.charAt(this._pos);let a=!1;return typeof n=="string"?a=o===n:a=n instanceof RegExp?n.test(o):n(o),a}}function N(r){return{ofRule:r}}function _(r,n){return{ofRule:r,isList:!0,separator:n}}function Re(r,n){const o=r.match;return r.match=a=>{let l=!1;return o&&(l=o(a)),l&&n.every(u=>u.match&&!u.match(a))},r}function le(r,n){return{style:n,match:o=>o.kind===r}}function P(r,n){return{style:n||"punctuation",match:o=>o.kind==="Punctuation"&&o.value===r}}const kt=r=>r===" "||r==="	"||r===","||r===`
`||r==="\r"||r==="\uFEFF"||r==="\xA0",De={Name:/^[_A-Za-z][_0-9A-Za-z]*/,Punctuation:/^(?:!|\$|\(|\)|\.\.\.|:|=|&|@|\[|]|\{|\||\})/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^(?:"""(?:\\"""|[^"]|"[^"]|""[^"])*(?:""")?|"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?)/,Comment:/^#.*/},ze={Document:[_("Definition")],Definition(r){switch(r.value){case"{":return"ShortQuery";case"query":return"Query";case"mutation":return"Mutation";case"subscription":return"Subscription";case"fragment":return F.b.FRAGMENT_DEFINITION;case"schema":return"SchemaDef";case"scalar":return"ScalarDef";case"type":return"ObjectTypeDef";case"interface":return"InterfaceDef";case"union":return"UnionDef";case"enum":return"EnumDef";case"input":return"InputDef";case"extend":return"ExtendDef";case"directive":return"DirectiveDef"}},ShortQuery:["SelectionSet"],Query:[ee("query"),N(x("def")),N("VariableDefinitions"),_("Directive"),"SelectionSet"],Mutation:[ee("mutation"),N(x("def")),N("VariableDefinitions"),_("Directive"),"SelectionSet"],Subscription:[ee("subscription"),N(x("def")),N("VariableDefinitions"),_("Directive"),"SelectionSet"],VariableDefinitions:[P("("),_("VariableDefinition"),P(")")],VariableDefinition:["Variable",P(":"),"Type",N("DefaultValue")],Variable:[P("$","variable"),x("variable")],DefaultValue:[P("="),"Value"],SelectionSet:[P("{"),_("Selection"),P("}")],Selection(r,n){return r.value==="..."?n.match(/[\s\u00a0,]*(on\b|@|{)/,!1)?"InlineFragment":"FragmentSpread":n.match(/[\s\u00a0,]*:/,!1)?"AliasedField":"Field"},AliasedField:[x("property"),P(":"),x("qualifier"),N("Arguments"),_("Directive"),N("SelectionSet")],Field:[x("property"),N("Arguments"),_("Directive"),N("SelectionSet")],Arguments:[P("("),_("Argument"),P(")")],Argument:[x("attribute"),P(":"),"Value"],FragmentSpread:[P("..."),x("def"),_("Directive")],InlineFragment:[P("..."),N("TypeCondition"),_("Directive"),"SelectionSet"],FragmentDefinition:[ee("fragment"),N(Re(x("def"),[ee("on")])),"TypeCondition",_("Directive"),"SelectionSet"],TypeCondition:[ee("on"),"NamedType"],Value(r){switch(r.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(r.value){case"[":return"ListValue";case"{":return"ObjectValue";case"$":return"Variable";case"&":return"NamedType"}return null;case"Name":switch(r.value){case"true":case"false":return"BooleanValue"}return r.value==="null"?"NullValue":"EnumValue"}},NumberValue:[le("Number","number")],StringValue:[{style:"string",match:r=>r.kind==="String",update(r,n){n.value.startsWith('"""')&&(r.inBlockstring=!n.value.slice(3).endsWith('"""'))}}],BooleanValue:[le("Name","builtin")],NullValue:[le("Name","keyword")],EnumValue:[x("string-2")],ListValue:[P("["),_("Value"),P("]")],ObjectValue:[P("{"),_("ObjectField"),P("}")],ObjectField:[x("attribute"),P(":"),"Value"],Type(r){return r.value==="["?"ListType":"NonNullType"},ListType:[P("["),"Type",P("]"),N(P("!"))],NonNullType:["NamedType",N(P("!"))],NamedType:[Ae("atom")],Directive:[P("@","meta"),x("meta"),N("Arguments")],DirectiveDef:[ee("directive"),P("@","meta"),x("meta"),N("ArgumentsDef"),ee("on"),_("DirectiveLocation",P("|"))],InterfaceDef:[ee("interface"),x("atom"),N("Implements"),_("Directive"),P("{"),_("FieldDef"),P("}")],Implements:[ee("implements"),_("NamedType",P("&"))],DirectiveLocation:[x("string-2")],SchemaDef:[ee("schema"),_("Directive"),P("{"),_("OperationTypeDef"),P("}")],OperationTypeDef:[x("keyword"),P(":"),x("atom")],ScalarDef:[ee("scalar"),x("atom"),_("Directive")],ObjectTypeDef:[ee("type"),x("atom"),N("Implements"),_("Directive"),P("{"),_("FieldDef"),P("}")],FieldDef:[x("property"),N("ArgumentsDef"),P(":"),"Type",_("Directive")],ArgumentsDef:[P("("),_("InputValueDef"),P(")")],InputValueDef:[x("attribute"),P(":"),"Type",N("DefaultValue"),_("Directive")],UnionDef:[ee("union"),x("atom"),_("Directive"),P("="),_("UnionMember",P("|"))],UnionMember:["NamedType"],EnumDef:[ee("enum"),x("atom"),_("Directive"),P("{"),_("EnumValueDef"),P("}")],EnumValueDef:[x("string-2"),_("Directive")],InputDef:[ee("input"),x("atom"),_("Directive"),P("{"),_("InputValueDef"),P("}")],ExtendDef:[ee("extend"),"ExtensionDefinition"],ExtensionDefinition(r){switch(r.value){case"schema":return F.b.SCHEMA_EXTENSION;case"scalar":return F.b.SCALAR_TYPE_EXTENSION;case"type":return F.b.OBJECT_TYPE_EXTENSION;case"interface":return F.b.INTERFACE_TYPE_EXTENSION;case"union":return F.b.UNION_TYPE_EXTENSION;case"enum":return F.b.ENUM_TYPE_EXTENSION;case"input":return F.b.INPUT_OBJECT_TYPE_EXTENSION}},[F.b.SCHEMA_EXTENSION]:["SchemaDef"],[F.b.SCALAR_TYPE_EXTENSION]:["ScalarDef"],[F.b.OBJECT_TYPE_EXTENSION]:["ObjectTypeDef"],[F.b.INTERFACE_TYPE_EXTENSION]:["InterfaceDef"],[F.b.UNION_TYPE_EXTENSION]:["UnionDef"],[F.b.ENUM_TYPE_EXTENSION]:["EnumDef"],[F.b.INPUT_OBJECT_TYPE_EXTENSION]:["InputDef"]};function ee(r){return{style:"keyword",match:n=>n.kind==="Name"&&n.value===r}}function x(r){return{style:r,match:n=>n.kind==="Name",update(n,o){n.name=o.value}}}function Ae(r){return{style:r,match:n=>n.kind==="Name",update(n,o){var a;!((a=n.prevState)===null||a===void 0)&&a.prevState&&(n.name=o.value,n.prevState.prevState.type=o.value)}}}function de(r={eatWhitespace:n=>n.eatWhile(kt),lexRules:De,parseRules:ze,editorConfig:{}}){return{startState(){const n={level:0,step:0,name:null,kind:null,type:null,rule:null,needsSeparator:!1,prevState:null};return $e(r.parseRules,n,F.b.DOCUMENT),n},token(n,o){return Pr(n,o,r)}}}function Pr(r,n,o){var a;if(n.inBlockstring)return r.match(/.*"""/)?(n.inBlockstring=!1,"string"):(r.skipToEnd(),"string");const{lexRules:l,parseRules:u,eatWhitespace:c,editorConfig:h}=o;if(n.rule&&n.rule.length===0?vt(n):n.needsAdvance&&(n.needsAdvance=!1,jt(n,!0)),r.sol()){const T=(h==null?void 0:h.tabSize)||2;n.indentLevel=Math.floor(r.indentation()/T)}if(c(r))return"ws";const g=Mt(l,r);if(!g)return r.match(/\S+/)||r.match(/\s/),$e(_t,n,"Invalid"),"invalidchar";if(g.kind==="Comment")return $e(_t,n,"Comment"),"comment";const y=or({},n);if(g.kind==="Punctuation"){if(/^[{([]/.test(g.value))n.indentLevel!==void 0&&(n.levels=(n.levels||[]).concat(n.indentLevel+1));else if(/^[})\]]/.test(g.value)){const T=n.levels=(n.levels||[]).slice(0,-1);n.indentLevel&&T.length>0&&T.at(-1)<n.indentLevel&&(n.indentLevel=T.at(-1))}}for(;n.rule;){let T=typeof n.rule=="function"?n.step===0?n.rule(g,r):null:n.rule[n.step];if(n.needsSeparator&&(T=T==null?void 0:T.separator),T){if(T.ofRule&&(T=T.ofRule),typeof T=="string"){$e(u,n,T);continue}if(!((a=T.match)===null||a===void 0)&&a.call(T,g))return T.update&&T.update(n,g),g.kind==="Punctuation"?jt(n,!0):n.needsAdvance=!0,T.style}Fe(n)}return or(n,y),$e(_t,n,"Invalid"),"invalidchar"}function or(r,n){const o=Object.keys(n);for(let a=0;a<o.length;a++)r[o[a]]=n[o[a]];return r}const _t={Invalid:[],Comment:[]};function $e(r,n,o){if(!r[o])throw new TypeError("Unknown rule: "+o);n.prevState=Object.assign({},n),n.kind=o,n.name=null,n.type=null,n.rule=r[o],n.step=0,n.needsSeparator=!1}function vt(r){r.prevState&&(r.kind=r.prevState.kind,r.name=r.prevState.name,r.type=r.prevState.type,r.rule=r.prevState.rule,r.step=r.prevState.step,r.needsSeparator=r.prevState.needsSeparator,r.prevState=r.prevState.prevState)}function jt(r,n){var o;if(Lt(r)&&r.rule){const a=r.rule[r.step];if(a.separator){const{separator:l}=a;if(r.needsSeparator=!r.needsSeparator,!r.needsSeparator&&l.ofRule)return}if(n)return}for(r.needsSeparator=!1,r.step++;r.rule&&!(Array.isArray(r.rule)&&r.step<r.rule.length);)vt(r),r.rule&&(Lt(r)?!((o=r.rule)===null||o===void 0)&&o[r.step].separator&&(r.needsSeparator=!r.needsSeparator):(r.needsSeparator=!1,r.step++))}function Lt(r){const n=Array.isArray(r.rule)&&typeof r.rule[r.step]!="string"&&r.rule[r.step];return n&&n.isList}function Fe(r){for(;r.rule&&!(Array.isArray(r.rule)&&r.rule[r.step].ofRule);)vt(r);r.rule&&jt(r,!1)}function Mt(r,n){const o=Object.keys(r);for(let a=0;a<o.length;a++){const l=n.match(r[o[a]]);if(l&&l instanceof Array)return{kind:o[a],value:l[0]}}}function it(r,n){const o=r.split(`
`),a=de();let l=a.startState(),u="",c=new re("");for(let h=0;h<o.length;h++){for(c=new re(o[h]);!c.eol()&&(u=a.token(c,l),n(c,l,u,h)!=="BREAK"););n(c,l,u,h),l.kind||(l=a.startState())}return{start:c.getStartOfToken(),end:c.getCurrentPosition(),string:c.current(),state:l,style:u}}var Ne;(function(r){r.TYPE_SYSTEM="TYPE_SYSTEM",r.EXECUTABLE="EXECUTABLE",r.UNKNOWN="UNKNOWN"})(Ne||(Ne={}));const ir=[F.b.SCHEMA_DEFINITION,F.b.OPERATION_TYPE_DEFINITION,F.b.SCALAR_TYPE_DEFINITION,F.b.OBJECT_TYPE_DEFINITION,F.b.INTERFACE_TYPE_DEFINITION,F.b.UNION_TYPE_DEFINITION,F.b.ENUM_TYPE_DEFINITION,F.b.INPUT_OBJECT_TYPE_DEFINITION,F.b.DIRECTIVE_DEFINITION,F.b.SCHEMA_EXTENSION,F.b.SCALAR_TYPE_EXTENSION,F.b.OBJECT_TYPE_EXTENSION,F.b.INTERFACE_TYPE_EXTENSION,F.b.UNION_TYPE_EXTENSION,F.b.ENUM_TYPE_EXTENSION,F.b.INPUT_OBJECT_TYPE_EXTENSION],Ar=r=>{let n=Ne.UNKNOWN;if(r)try{(0,we.YR)((0,Z.qg)(r),{enter(o){if(o.kind==="Document"){n=Ne.EXECUTABLE;return}return ir.includes(o.kind)?(n=Ne.TYPE_SYSTEM,we.sP):!1}})}catch(o){return n}return n};function Fr(r,n){return n!=null&&n.endsWith(".graphqls")?Ne.TYPE_SYSTEM:Ar(r)}function hn(r,n,o=0){let a=null,l=null,u=null;const c=it(r,(h,g,y,T)=>{if(!(T!==n.line||h.getCurrentPosition()+o<n.character+1))return a=y,l=Object.assign({},g),u=h.current(),"BREAK"});return{start:c.start,end:c.end,string:u||c.string,state:l||c.state,style:a||c.style}}function Ie(r,n,o,a,l){const u=a||hn(r,n,1);if(!u)return null;const c=u.state.kind==="Invalid"?u.state.prevState:u.state;if(!c)return null;const h=sr(o,u.state),g=(l==null?void 0:l.mode)||Fr(r,l==null?void 0:l.uri);return{token:u,state:c,typeInfo:h,mode:g}}function me(r,n,o){return o===Se.S0.name&&r.getQueryType()===n?Se.S0:o===Se.Xe.name&&r.getQueryType()===n?Se.Xe:o===Se.of.name&&(0,R.ML)(n)?Se.of:"getFields"in n?n.getFields()[o]:null}function ar(r,n){const o=[];let a=r;for(;a!=null&&a.kind;)o.push(a),a=a.prevState;for(let l=o.length-1;l>=0;l--)n(o[l])}function Ce(r){let n;return ar(r,o=>{switch(o.kind){case"Query":case"ShortQuery":case"Mutation":case"Subscription":case"FragmentDefinition":n=o;break}}),n}function sr(r,n){let o,a,l,u,c,h,g,y,T,E,A;return ar(n,w=>{var B;switch(w.kind){case v.QUERY:case"ShortQuery":E=r.getQueryType();break;case v.MUTATION:E=r.getMutationType();break;case v.SUBSCRIPTION:E=r.getSubscriptionType();break;case v.INLINE_FRAGMENT:case v.FRAGMENT_DEFINITION:w.type&&(E=r.getType(w.type));break;case v.FIELD:case v.ALIASED_FIELD:{!E||!w.name?c=null:(c=T?me(r,T,w.name):null,E=c?c.type:null);break}case v.SELECTION_SET:T=(0,R.MR)(E);break;case v.DIRECTIVE:l=w.name?r.getDirective(w.name):null;break;case v.INTERFACE_DEF:w.name&&(g=null,A=new R.VA({name:w.name,interfaces:[],fields:{}}));break;case v.OBJECT_TYPE_DEF:w.name&&(A=null,g=new R.bh({name:w.name,interfaces:[],fields:{}}));break;case v.ARGUMENTS:{if(w.prevState)switch(w.prevState.kind){case v.FIELD:a=c&&c.args;break;case v.DIRECTIVE:a=l&&l.args;break;case v.ALIASED_FIELD:{const $=(B=w.prevState)===null||B===void 0?void 0:B.name;if(!$){a=null;break}const Ee=T?me(r,T,$):null;if(!Ee){a=null;break}a=Ee.args;break}default:a=null;break}else a=null;break}case v.ARGUMENT:if(a){for(let $=0;$<a.length;$++)if(a[$].name===w.name){o=a[$];break}}h=o==null?void 0:o.type;break;case v.VARIABLE_DEFINITION:case v.VARIABLE:E=h;break;case v.ENUM_VALUE:const C=(0,R.MR)(h);u=C instanceof R.Zb?C.getValues().find($=>$.value===w.name):null;break;case v.LIST_VALUE:const oe=(0,R.yl)(h);h=oe instanceof R.KT?oe.ofType:null;break;case v.OBJECT_VALUE:const I=(0,R.MR)(h);y=I instanceof R.zP?I.getFields():null;break;case v.OBJECT_FIELD:const X=w.name&&y?y[w.name]:null;h=X==null?void 0:X.type,c=X,E=c?c.type:null;break;case v.NAMED_TYPE:w.name&&(E=r.getType(w.name));break}}),{argDef:o,argDefs:a,directiveDef:l,enumValue:u,fieldDef:c,inputType:h,objectFieldDefs:y,parentType:T,type:E,interfaceDef:A,objectTypeDef:g}}const lr={ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",EXTENSION_DEFINITION:"ExtensionDefinition",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type",VARIABLE:"Variable"},v=Object.assign(Object.assign({},F.b),lr),Cr={Created:1,Changed:2,Deleted:3};var q;(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(q||(q={}));function _e(r){const n=Object.keys(r),o=n.length,a=new Array(o);for(let l=0;l<o;++l)a[l]=r[n[l]];return a}function H(r,n){return ur(n,cr(r.string))}function ur(r,n){if(!n||n.trim()===""||n.trim()===":"||n.trim()==="{")return at(r,a=>!a.isDeprecated);const o=r.map(a=>({proximity:Ve(cr(a.label),n),entry:a}));return at(at(o,a=>a.proximity<=2),a=>!a.entry.isDeprecated).sort((a,l)=>(a.entry.isDeprecated?1:0)-(l.entry.isDeprecated?1:0)||a.proximity-l.proximity||a.entry.label.length-l.entry.label.length).map(a=>a.entry)}function at(r,n){const o=r.filter(n);return o.length===0?r:o}function cr(r){return r.toLowerCase().replaceAll(/\W/g,"")}function Ve(r,n){let o=We(n,r);return r.length>n.length&&(o-=r.length-n.length-1,o+=r.indexOf(n)===0?0:.5),o}function We(r,n){let o,a;const l=[],u=r.length,c=n.length;for(o=0;o<=u;o++)l[o]=[o];for(a=1;a<=c;a++)l[0][a]=a;for(o=1;o<=u;o++)for(a=1;a<=c;a++){const h=r[o-1]===n[a-1]?0:1;l[o][a]=Math.min(l[o-1][a]+1,l[o][a-1]+1,l[o-1][a-1]+h),o>1&&a>1&&r[o-1]===n[a-2]&&r[o-2]===n[a-1]&&(l[o][a]=Math.min(l[o][a],l[o-2][a-2]+h))}return l[u][c]}const gt=r=>` {
   $${r!=null?r:1}
}`,St=(r,n,o)=>{if(!n)return o!=null?o:r;const a=(0,R.MR)(n);return(0,R.YQ)(a)||(0,R.qK)(a)||(0,R.Fs)(a)||(0,R.Lc)(a)?r+gt():o!=null?o:r},Tt=(r,n,o)=>{if((0,R.Fs)(n)){const a=(0,R.MR)(n.ofType);return r+`[${St("",a,"$1")}]`}return St(r,n,o)},dr=r=>{const n=r.args.filter(o=>o.type.toString().endsWith("!"));if(n.length)return r.name+`(${n.map((o,a)=>`${o.name}: $${a+1}`)}) ${St("",r.type,`
`)}`},Et={command:"editor.action.triggerSuggest",title:"Suggestions"},fr=r=>{const n=[];if(r)try{(0,we.YR)((0,Z.qg)(r),{FragmentDefinition(o){n.push(o)}})}catch(o){return[]}return n};function wt(r,n,o,a,l,u){var c;const h=Object.assign(Object.assign({},u),{schema:r}),g=Ie(n,o,r,a,u);if(!g)return[];const{state:y,typeInfo:T,mode:E,token:A}=g,{kind:w,step:B,prevState:C}=y;if(w===v.DOCUMENT)return E===Ne.TYPE_SYSTEM?Qe(A):E===Ne.EXECUTABLE?kr(A):Rt(A);if(w===v.EXTEND_DEF)return jr(A);if(((c=C==null?void 0:C.prevState)===null||c===void 0?void 0:c.kind)===v.EXTENSION_DEFINITION&&y.name)return H(A,[]);if((C==null?void 0:C.kind)===F.b.SCALAR_TYPE_EXTENSION)return H(A,Object.values(r.getTypeMap()).filter(R.lg).map(I=>({label:I.name,kind:q.Function})));if((C==null?void 0:C.kind)===F.b.OBJECT_TYPE_EXTENSION)return H(A,Object.values(r.getTypeMap()).filter(I=>(0,R.YQ)(I)&&!I.name.startsWith("__")).map(I=>({label:I.name,kind:q.Function})));if((C==null?void 0:C.kind)===F.b.INTERFACE_TYPE_EXTENSION)return H(A,Object.values(r.getTypeMap()).filter(R.kD).map(I=>({label:I.name,kind:q.Function})));if((C==null?void 0:C.kind)===F.b.UNION_TYPE_EXTENSION)return H(A,Object.values(r.getTypeMap()).filter(R.CK).map(I=>({label:I.name,kind:q.Function})));if((C==null?void 0:C.kind)===F.b.ENUM_TYPE_EXTENSION)return H(A,Object.values(r.getTypeMap()).filter(I=>(0,R.oF)(I)&&!I.name.startsWith("__")).map(I=>({label:I.name,kind:q.Function})));if((C==null?void 0:C.kind)===F.b.INPUT_OBJECT_TYPE_EXTENSION)return H(A,Object.values(r.getTypeMap()).filter(R.qK).map(I=>({label:I.name,kind:q.Function})));if(w===v.IMPLEMENTS||w===v.NAMED_TYPE&&(C==null?void 0:C.kind)===v.IMPLEMENTS)return Mr(A,y,r,n,T);if(w===v.SELECTION_SET||w===v.FIELD||w===v.ALIASED_FIELD)return Dt(A,T,h);if(w===v.ARGUMENTS||w===v.ARGUMENT&&B===0){const{argDefs:I}=T;if(I)return H(A,I.map(X=>{var $;return{label:X.name,insertText:Tt(X.name+": ",X.type),insertTextMode:Pe.I5.adjustIndentation,insertTextFormat:Pe.q8.Snippet,command:Et,labelDetails:{detail:" "+String(X.type)},documentation:($=X.description)!==null&&$!==void 0?$:void 0,kind:q.Variable,type:X.type}}))}if((w===v.OBJECT_VALUE||w===v.OBJECT_FIELD&&B===0)&&T.objectFieldDefs){const I=_e(T.objectFieldDefs),X=w===v.OBJECT_VALUE?q.Value:q.Field;return H(A,I.map($=>{var Ee;return{label:$.name,detail:String($.type),documentation:(Ee=$==null?void 0:$.description)!==null&&Ee!==void 0?Ee:void 0,kind:X,type:$.type,insertText:Tt($.name+": ",$.type),insertTextMode:Pe.I5.adjustIndentation,insertTextFormat:Pe.q8.Snippet,command:Et}}))}if(w===v.ENUM_VALUE||w===v.LIST_VALUE&&B===1||w===v.OBJECT_FIELD&&B===2||w===v.ARGUMENT&&B===2)return Lr(A,T,n,r);if(w===v.VARIABLE&&B===1){const I=(0,R.MR)(T.inputType),X=pr(n,r,A);return H(A,X.filter($=>$.detail===(I==null?void 0:I.name)))}if(w===v.TYPE_CONDITION&&B===1||w===v.NAMED_TYPE&&C!=null&&C.kind===v.TYPE_CONDITION)return qr(A,T,r,w);if(w===v.FRAGMENT_SPREAD&&B===1)return Br(A,T,r,n,Array.isArray(l)?l:fr(l));const oe=br(y);return oe.kind===v.FIELD_DEF?H(A,Object.values(r.getTypeMap()).filter(I=>(0,R.oH)(I)&&!I.name.startsWith("__")).map(I=>({label:I.name,kind:q.Function,insertText:u!=null&&u.fillLeafsOnComplete?I.name+`
`:I.name,insertTextMode:Pe.I5.adjustIndentation}))):oe.kind===v.INPUT_VALUE_DEF&&B===2?H(A,Object.values(r.getTypeMap()).filter(I=>(0,R.dX)(I)&&!I.name.startsWith("__")).map(I=>({label:I.name,kind:q.Function,insertText:u!=null&&u.fillLeafsOnComplete?I.name+`
$1`:I.name,insertTextMode:Pe.I5.adjustIndentation,insertTextFormat:Pe.q8.Snippet}))):w===v.VARIABLE_DEFINITION&&B===2||w===v.LIST_TYPE&&B===1||w===v.NAMED_TYPE&&C&&(C.kind===v.VARIABLE_DEFINITION||C.kind===v.LIST_TYPE||C.kind===v.NON_NULL_TYPE)?Ur(A,r,w):w===v.DIRECTIVE?mr(A,y,r,w):w===v.DIRECTIVE_DEF?hr(A,y,r,w):[]}const qt=[{label:"type",kind:q.Function},{label:"interface",kind:q.Function},{label:"union",kind:q.Function},{label:"input",kind:q.Function},{label:"scalar",kind:q.Function},{label:"schema",kind:q.Function}],Ue=[{label:"query",kind:q.Function},{label:"mutation",kind:q.Function},{label:"subscription",kind:q.Function},{label:"fragment",kind:q.Function},{label:"{",kind:q.Constructor}];function Qe(r){return H(r,[{label:"extend",kind:q.Function},...qt])}function kr(r){return H(r,Ue)}function Rt(r){return H(r,[{label:"extend",kind:q.Function},...Ue,...qt])}function jr(r){return H(r,qt)}function Dt(r,n,o){var a;if(n.parentType){const{parentType:l}=n;let u=[];return"getFields"in l&&(u=_e(l.getFields())),(0,R.ML)(l)&&u.push(Se.of),l===((a=o==null?void 0:o.schema)===null||a===void 0?void 0:a.getQueryType())&&u.push(Se.S0,Se.Xe),H(r,u.map((c,h)=>{var g;const y={sortText:String(h)+c.name,label:c.name,detail:String(c.type),documentation:(g=c.description)!==null&&g!==void 0?g:void 0,deprecated:!!c.deprecationReason,isDeprecated:!!c.deprecationReason,deprecationReason:c.deprecationReason,kind:q.Field,labelDetails:{detail:" "+c.type.toString()},type:c.type};return o!=null&&o.fillLeafsOnComplete&&(y.insertText=dr(c),y.insertText||(y.insertText=St(c.name,c.type,c.name+(r.state.needsAdvance?"":`
`))),y.insertText&&(y.insertTextFormat=Pe.q8.Snippet,y.insertTextMode=Pe.I5.adjustIndentation,y.command=Et)),y}))}return[]}function Lr(r,n,o,a){const l=(0,R.MR)(n.inputType),u=pr(o,a,r).filter(c=>c.detail===(l==null?void 0:l.name));if(l instanceof R.Zb){const c=l.getValues();return H(r,c.map(h=>{var g;return{label:h.name,detail:String(l),documentation:(g=h.description)!==null&&g!==void 0?g:void 0,deprecated:!!h.deprecationReason,isDeprecated:!!h.deprecationReason,deprecationReason:h.deprecationReason,kind:q.EnumMember,type:l}}).concat(u))}return l===ot.kk?H(r,u.concat([{label:"true",detail:String(ot.kk),documentation:"Not false.",kind:q.Variable,type:ot.kk},{label:"false",detail:String(ot.kk),documentation:"Not true.",kind:q.Variable,type:ot.kk}])):u}function Mr(r,n,o,a,l){if(n.needsSeparator)return[];const u=o.getTypeMap(),c=_e(u).filter(R.kD),h=c.map(({name:w})=>w),g=new Set;it(a,(w,B)=>{var C,oe,I,X,$;if(B.name&&(B.kind===v.INTERFACE_DEF&&!h.includes(B.name)&&g.add(B.name),B.kind===v.NAMED_TYPE&&((C=B.prevState)===null||C===void 0?void 0:C.kind)===v.IMPLEMENTS)){if(l.interfaceDef){if((oe=l.interfaceDef)===null||oe===void 0?void 0:oe.getInterfaces().find(({name:Nr})=>Nr===B.name))return;const Dr=o.getType(B.name),Ft=(I=l.interfaceDef)===null||I===void 0?void 0:I.toConfig();l.interfaceDef=new R.VA(Object.assign(Object.assign({},Ft),{interfaces:[...Ft.interfaces,Dr||new R.VA({name:B.name,fields:{}})]}))}else if(l.objectTypeDef){if((X=l.objectTypeDef)===null||X===void 0?void 0:X.getInterfaces().find(({name:Nr})=>Nr===B.name))return;const Dr=o.getType(B.name),Ft=($=l.objectTypeDef)===null||$===void 0?void 0:$.toConfig();l.objectTypeDef=new R.bh(Object.assign(Object.assign({},Ft),{interfaces:[...Ft.interfaces,Dr||new R.VA({name:B.name,fields:{}})]}))}}});const y=l.interfaceDef||l.objectTypeDef,E=((y==null?void 0:y.getInterfaces())||[]).map(({name:w})=>w),A=c.concat([...g].map(w=>({name:w}))).filter(({name:w})=>w!==(y==null?void 0:y.name)&&!E.includes(w));return H(r,A.map(w=>{const B={label:w.name,kind:q.Interface,type:w};return w!=null&&w.description&&(B.documentation=w.description),B}))}function qr(r,n,o,a){let l;if(n.parentType)if((0,R.Lc)(n.parentType)){const u=(0,R.N_)(n.parentType),c=o.getPossibleTypes(u),h=Object.create(null);for(const g of c)for(const y of g.getInterfaces())h[y.name]=y;l=c.concat(_e(h))}else l=[n.parentType];else{const u=o.getTypeMap();l=_e(u).filter(c=>(0,R.ML)(c)&&!c.name.startsWith("__"))}return H(r,l.map(u=>{const c=(0,R.MR)(u);return{label:String(u),documentation:(c==null?void 0:c.description)||"",kind:q.Field}}))}function Br(r,n,o,a,l){if(!a)return[];const u=o.getTypeMap(),c=Ce(r.state),h=Wr(a);l&&l.length>0&&h.push(...l);const g=h.filter(y=>u[y.typeCondition.name.value]&&!(c&&c.kind===v.FRAGMENT_DEFINITION&&c.name===y.name.value)&&(0,R.ML)(n.parentType)&&(0,R.ML)(u[y.typeCondition.name.value])&&(0,mn.uI)(o,n.parentType,u[y.typeCondition.name.value]));return H(r,g.map(y=>({label:y.name.value,detail:String(u[y.typeCondition.name.value]),documentation:`fragment ${y.name.value} on ${y.typeCondition.name.value}`,labelDetails:{detail:`fragment ${y.name.value} on ${y.typeCondition.name.value}`},kind:q.Field,type:u[y.typeCondition.name.value]})))}const Vr=(r,n)=>{var o,a,l,u,c,h,g,y,T,E;if(((o=r.prevState)===null||o===void 0?void 0:o.kind)===n)return r.prevState;if(((l=(a=r.prevState)===null||a===void 0?void 0:a.prevState)===null||l===void 0?void 0:l.kind)===n)return r.prevState.prevState;if(((h=(c=(u=r.prevState)===null||u===void 0?void 0:u.prevState)===null||c===void 0?void 0:c.prevState)===null||h===void 0?void 0:h.kind)===n)return r.prevState.prevState.prevState;if(((E=(T=(y=(g=r.prevState)===null||g===void 0?void 0:g.prevState)===null||y===void 0?void 0:y.prevState)===null||T===void 0?void 0:T.prevState)===null||E===void 0?void 0:E.kind)===n)return r.prevState.prevState.prevState.prevState};function pr(r,n,o){let a=null,l;const u=Object.create({});return it(r,(c,h)=>{var g;if((h==null?void 0:h.kind)===v.VARIABLE&&h.name&&(a=h.name),(h==null?void 0:h.kind)===v.NAMED_TYPE&&a){const y=Vr(h,v.TYPE);y!=null&&y.type&&(l=n.getType(y==null?void 0:y.type))}if(a&&l&&!u[a]){const y=o.string==="$"||((g=o==null?void 0:o.state)===null||g===void 0?void 0:g.kind)==="Variable"?a:"$"+a;u[a]={detail:l.toString(),insertText:y,label:"$"+a,rawInsert:y,type:l,kind:q.Variable},a=null,l=null}}),_e(u)}function Wr(r){const n=[];return it(r,(o,a)=>{a.kind===v.FRAGMENT_DEFINITION&&a.name&&a.type&&n.push({kind:v.FRAGMENT_DEFINITION,name:{kind:F.b.NAME,value:a.name},selectionSet:{kind:v.SELECTION_SET,selections:[]},typeCondition:{kind:v.NAMED_TYPE,name:{kind:F.b.NAME,value:a.type}}})}),n}function Ur(r,n,o){const a=n.getTypeMap(),l=_e(a).filter(R.dX);return H(r,l.map(u=>({label:u.name,documentation:(u==null?void 0:u.description)||"",kind:q.Variable})))}function mr(r,n,o,a){var l;if(!((l=n.prevState)===null||l===void 0)&&l.kind){const u=o.getDirectives().filter(c=>xe(n.prevState,c));return H(r,u.map(c=>({label:c.name,documentation:(c==null?void 0:c.description)||"",kind:q.Function})))}return[]}function hr(r,n,o,a){const l=o.getDirectives().find(u=>u.name===n.name);return H(r,(l==null?void 0:l.args.map(u=>({label:u.name,documentation:u.description||"",kind:q.Field})))||[])}function xe(r,n){if(!(r!=null&&r.kind))return!1;const{kind:o,prevState:a}=r,{locations:l}=n;switch(o){case v.QUERY:return l.includes(se.H.QUERY);case v.MUTATION:return l.includes(se.H.MUTATION);case v.SUBSCRIPTION:return l.includes(se.H.SUBSCRIPTION);case v.FIELD:case v.ALIASED_FIELD:return l.includes(se.H.FIELD);case v.FRAGMENT_DEFINITION:return l.includes(se.H.FRAGMENT_DEFINITION);case v.FRAGMENT_SPREAD:return l.includes(se.H.FRAGMENT_SPREAD);case v.INLINE_FRAGMENT:return l.includes(se.H.INLINE_FRAGMENT);case v.SCHEMA_DEF:return l.includes(se.H.SCHEMA);case v.SCALAR_DEF:return l.includes(se.H.SCALAR);case v.OBJECT_TYPE_DEF:return l.includes(se.H.OBJECT);case v.FIELD_DEF:return l.includes(se.H.FIELD_DEFINITION);case v.INTERFACE_DEF:return l.includes(se.H.INTERFACE);case v.UNION_DEF:return l.includes(se.H.UNION);case v.ENUM_DEF:return l.includes(se.H.ENUM);case v.ENUM_VALUE:return l.includes(se.H.ENUM_VALUE);case v.INPUT_DEF:return l.includes(se.H.INPUT_OBJECT);case v.INPUT_VALUE_DEF:switch(a==null?void 0:a.kind){case v.ARGUMENTS_DEF:return l.includes(se.H.ARGUMENT_DEFINITION);case v.INPUT_DEF:return l.includes(se.H.INPUT_FIELD_DEFINITION)}}return!1}function br(r){return r.prevState&&r.kind&&[v.NAMED_TYPE,v.LIST_TYPE,v.TYPE,v.NON_NULL_TYPE].includes(r.kind)?br(r.prevState):r}var He=M(48213),Oe=M.n(He);const st=(r,n)=>{if(!n)return[];let o;try{o=parse(r)}catch(a){return[]}return Bt(o,n)},Bt=(r,n)=>{if(!n)return[];const o=new Map,a=new Set;(0,we.YR)(r,{FragmentDefinition(c){o.set(c.name.value,!0)},FragmentSpread(c){a.has(c.name.value)||a.add(c.name.value)}});const l=new Set;for(const c of a)!o.has(c)&&n.has(c)&&l.add(Oe()(n.get(c)));const u=[];for(const c of l)(0,we.YR)(c,{FragmentSpread(h){!a.has(h.name.value)&&n.get(h.name.value)&&(l.add(Oe()(n.get(h.name.value))),a.add(h.name.value))}}),o.has(c.name.value)||u.push(c);return u},lt={useMarkdownDescription:!1};function ue(r,n){r.push(n)}function Vt(r,n){isNonNullType(n)?(Vt(r,n.ofType),ue(r,"!")):isListType(n)?(ue(r,"["),Vt(r,n.ofType),ue(r,"]")):ue(r,n.name)}function Xe(r,n,o){const a=[],l="type"in r?r.type:r;return"type"in r&&r.description&&(ue(a,r.description),ue(a,`

`)),ue(a,xr(l,n)),o?(ue(a,`
`),ue(a,o)):!isScalarType(l)&&"description"in l&&l.description?(ue(a,`
`),ue(a,l.description)):"ofType"in l&&!isScalarType(l.ofType)&&"description"in l.ofType&&l.ofType.description&&(ue(a,`
`),ue(a,l.ofType.description)),a.join("")}function xr(r,n){const o=[];return n&&ue(o,"```graphql\n"),Vt(o,r),n&&ue(o,"\n```"),o.join("")}const Wt={Int:{type:"integer"},String:{type:"string"},Float:{type:"number"},ID:{type:"string"},Boolean:{type:"boolean"},DateTime:{type:"string"}};class Yr{constructor(){this.set=new Set}mark(n){return this.set.has(n)?!1:(this.set.add(n),!0)}}function Ut(r,n){var o,a;let l=Object.create(null);const u=Object.create(null),h="type"in r?r.type:r,g=isNonNullType(h)?h.ofType:h,y=isNonNullType(h);if(isScalarType(g))!((o=n==null?void 0:n.scalarSchemas)===null||o===void 0)&&o[g.name]?l=JSON.parse(JSON.stringify(n.scalarSchemas[g.name])):l.type=["string","number","boolean","integer"],y||(Array.isArray(l.type)?l.type.push("null"):l.type?l.type=[l.type,"null"]:l.enum?l.enum.push(null):l.oneOf?l.oneOf.push({type:"null"}):l={oneOf:[l,{type:"null"}]});else if(isEnumType(g))l.enum=g.getValues().map(E=>E.name),y||l.enum.push(null);else if(isListType(g)){y?l.type="array":l.type=["array","null"];const{definition:E,definitions:A}=Ut(g.ofType,n);if(l.items=E,A)for(const w of Object.keys(A))u[w]=A[w]}else if(isInputObjectType(g)&&(y?l.$ref=`#/definitions/${g.name}`:l.oneOf=[{$ref:`#/definitions/${g.name}`},{type:"null"}],!((a=n==null?void 0:n.definitionMarker)===null||a===void 0)&&a.mark(g.name))){const E=g.getFields(),A={type:"object",properties:{},required:[]};A.description=Xe(g),n!=null&&n.useMarkdownDescription&&(A.markdownDescription=Xe(g,!0));for(const w of Object.keys(E)){const B=E[w],{required:C,definition:oe,definitions:I}=Ut(B,n);if(A.properties[w]=oe,C&&A.required.push(w),I)for(const[X,$]of Object.entries(I))u[X]=$}u[g.name]=A}"defaultValue"in r&&r.defaultValue!==void 0&&(l.default=r.defaultValue);const{description:T}=l;return l.description=Xe(r,!1,T),n!=null&&n.useMarkdownDescription&&(l.markdownDescription=Xe(r,!0,T)),{required:y,definition:l,definitions:u}}function bn(r,n){var o;const a={$schema:"http://json-schema.org/draft-04/schema",type:"object",properties:{},required:[]},l=Object.assign(Object.assign({},n),{definitionMarker:new Yr,scalarSchemas:Object.assign(Object.assign({},Wt),n==null?void 0:n.scalarSchemas)});if(r)for(const[u,c]of Object.entries(r)){const{definition:h,required:g,definitions:y}=Ut(c,l);a.properties[u]=h,g&&((o=a.required)===null||o===void 0||o.push(u)),y&&(a.definitions=Object.assign(Object.assign({},a==null?void 0:a.definitions),y))}return a}class xt{constructor(n,o){this.containsPosition=a=>this.start.line===a.line?this.start.character<=a.character:this.end.line===a.line?this.end.character>=a.character:this.start.line<=a.line&&this.end.line>=a.line,this.start=n,this.end=o}setStart(n,o){this.start=new ke(n,o)}setEnd(n,o){this.end=new ke(n,o)}}class ke{constructor(n,o){this.lessThanOrEqualTo=a=>this.line<a.line||this.line===a.line&&this.character<=a.character,this.line=n,this.character=o}setLine(n){this.line=n}setCharacter(n){this.character=n}}function Yt(r,n){const o=`
`,a=r.slice(0,n),l=a.split(o).length-1,u=a.lastIndexOf(o);return new ke(l,n-u-1)}function zr(r,n){const o=Yt(r,n.start),a=Yt(r,n.end);return new xt(o,a)}var yn=M(26449),$r=M(49460),ut=M(32954),zt=M(20848),Nt=M(48419),$t=M(83915),ve=M(67752),Qr=M(9430),yr=M(98572),Hr=M(12444),Qt=M(55569),Ht=M(39858),Xr=M(51254),_r=M(45829),It=M(8943),_n=M(90694),Gr=M(63327),Jr=M(72019),Zr=M(32416),Xt=M(33287);const Ye=[yn.l,$r.u,ut.i,zt.g,Nt.X,$t.Z,ve.y,Qr.e,yr.U,Hr.S,Qt.J,Ht.C,Xr._,_r.T,It.X];function Ge(r,n,o,a,l){const u=_n.gv.filter(h=>!(h===Gr.z||h===Jr.T||a&&h===Zr.K));return o&&Array.prototype.push.apply(u,o),l&&Array.prototype.push.apply(u,Ye),(0,Xt.tf)(r,n,u).filter(h=>{if(h.message.includes("Unknown directive")&&h.nodes){const g=h.nodes[0];if(g&&g.kind===F.b.DIRECTIVE){const y=g.name.value;if(y==="arguments"||y==="argumentDefinitions")return!1}}return!0})}var Kr=M(7192);function en(r,n){const o=Object.create(null);for(const a of n.definitions)if(a.kind==="OperationDefinition"){const{variableDefinitions:l}=a;if(l)for(const{variable:u,type:c}of l){const h=(0,Kr.v)(r,c);h?o[u.name.value]=h:c.kind===F.b.NAMED_TYPE&&c.name.value==="Float"&&(o[u.name.value]=ot.qS)}}return o}function Gt(r,n){const o=n?en(n,r):void 0,a=[];return(0,we.YR)(r,{OperationDefinition(l){a.push(l)}}),{variableToType:o,operations:a}}function Ot(r,n){if(n)try{const o=(0,Z.qg)(n);return Object.assign(Object.assign({},Gt(o,r)),{documentAST:o})}catch(o){return}}const vr=null;var Je=function(r,n,o,a){function l(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function h(T){try{y(a.next(T))}catch(E){c(E)}}function g(T){try{y(a.throw(T))}catch(E){c(E)}}function y(T){T.done?u(T.value):l(T.value).then(h,g)}y((a=a.apply(r,n||[])).next())})};const Jt="GraphQL";function Pt(r,n){if(!r)throw new Error(n)}function Ze(r,n){const o=n.loc;return Pt(o,"Expected ASTNode to have a location."),locToRange(r,o)}function Zt(r,n){const o=n.loc;return Pt(o,"Expected ASTNode to have a location."),offsetToPosition(r,o.start)}function Pn(r,n,o){return Je(this,void 0,void 0,function*(){const a=n.name.value,l=o.filter(({definition:c})=>c.name&&c.name.value===a);if(l.length===0)throw new Error(`Definition not found for GraphQL type ${a}`);const u=l.map(({filePath:c,content:h,definition:g})=>ct(c||"",h,g));return{definitions:u,queryRange:u.map(c=>Ze(r,n)),printedName:a}})}function vn(r,n,o){var a;return Je(this,void 0,void 0,function*(){const l=o.filter(({definition:c})=>c.name&&c.name.value===n);if(l.length===0)throw new Error(`Definition not found for GraphQL type ${n}`);const u=[];for(const{filePath:c,content:h,definition:g}of l){const y=(a=g.fields)===null||a===void 0?void 0:a.find(T=>T.name.value===r);y!=null&&u.push(Kt(c||"",h,y))}return{definitions:u,queryRange:[],printedName:[n,r].join(".")}})}function Ke(r,n,o,a){var l,u,c;return Je(this,void 0,void 0,function*(){const h=[];for(const{filePath:g,content:y,definition:T}of a){const E=(c=(u=(l=T.fields)===null||l===void 0?void 0:l.find(A=>A.name.value===n))===null||u===void 0?void 0:u.arguments)===null||c===void 0?void 0:c.find(A=>A.name.value===r);E!=null&&h.push(tn(g||"",y,E))}return{definitions:h,queryRange:[],printedName:`${[o,n].join(".")}(${r})`}})}function gn(r,n,o){return Je(this,void 0,void 0,function*(){const a=n.name.value,l=o.filter(({definition:c})=>c.name.value===a);if(l.length===0)throw new Error(`Definition not found for GraphQL fragment ${a}`);const u=l.map(({filePath:c,content:h,definition:g})=>et(c||"",h,g));return{definitions:u,queryRange:u.map(c=>Ze(r,n)),printedName:a}})}function Sn(r,n,o){var a;return{definitions:[et(r,n,o)],queryRange:o.name?[Ze(n,o.name)]:[],printedName:(a=o.name)===null||a===void 0?void 0:a.value}}function et(r,n,o){const{name:a}=o;if(!a)throw new Error("Expected ASTNode to have a Name.");return{path:r,position:Zt(n,o),range:Ze(n,o),name:a.value||"",language:Jt,projectRoot:r}}function ct(r,n,o){const{name:a}=o;return Pt(a,"Expected ASTNode to have a Name."),{path:r,position:Zt(n,o),range:Ze(n,o),name:a.value||"",language:Jt,projectRoot:r}}function Kt(r,n,o){const{name:a}=o;return Pt(a,"Expected ASTNode to have a Name."),{path:r,position:Zt(n,o),range:Ze(n,o),name:a.value||"",language:Jt,projectRoot:r}}function tn(r,n,o){const{name:a}=o;return Pt(a,"Expected ASTNode to have a Name."),{path:r,position:Zt(n,o),range:Ze(n,o),name:a.value||"",language:Jt,projectRoot:r}}var gr=M(74719),Sr=M(85794),Tr=M(63218);const he={Error:"Error",Warning:"Warning",Information:"Information",Hint:"Hint"},dt={[he.Error]:1,[he.Warning]:2,[he.Information]:3,[he.Hint]:4},ft=(r,n)=>{if(!r)throw new Error(n)};function je(r,n=null,o,a,l){var u,c;let h=null,g="";l&&(g=typeof l=="string"?l:l.reduce((T,E)=>T+(0,gr.y)(E)+`

`,""));const y=g?`${r}

${g}`:r;try{h=(0,Z.qg)(y)}catch(T){if(T instanceof Sr.eO){const E=Tn((c=(u=T.locations)===null||u===void 0?void 0:u[0])!==null&&c!==void 0?c:{line:0,column:0},y);return[{severity:dt.Error,message:T.message,source:"GraphQL: Syntax",range:E}]}throw T}return tt(h,n,o,a)}function tt(r,n=null,o,a){if(!n)return[];const l=Ge(n,r,o,a).flatMap(c=>Er(c,dt.Error,"Validation")),u=(0,Xt.tf)(n,r,[Tr.k]).flatMap(c=>Er(c,dt.Warning,"Deprecation"));return l.concat(u)}function Er(r,n,o){if(!r.nodes)return[];const a=[];for(const[l,u]of r.nodes.entries()){const c=u.kind!=="Variable"&&"name"in u&&u.name!==void 0?u.name:"variable"in u&&u.variable!==void 0?u.variable:u;if(c){ft(r.locations,"GraphQL validation error requires locations.");const h=r.locations[l],g=rn(c),y=h.column+(g.end-g.start);a.push({source:`GraphQL: ${o}`,message:r.message,severity:n,range:new xt(new ke(h.line-1,h.column-1),new ke(h.line-1,y))})}}return a}function Tn(r,n){const o=de(),a=o.startState(),l=n.split(`
`);ft(l.length>=r.line,"Query text must have more lines than where the error happened");let u=null;for(let y=0;y<r.line;y++)for(u=new re(l[y]);!u.eol()&&o.token(u,a)!=="invalidchar";);ft(u,"Expected Parser stream to be available.");const c=r.line-1,h=u.getStartOfToken(),g=u.getCurrentPosition();return new xt(new ke(c,h),new ke(c,g))}function rn(r){const o=r.loc;return ft(o,"Expected ASTNode to have a location."),o}const{INLINE_FRAGMENT:nn}=F.b,En={Field:!0,OperationDefinition:!0,Document:!0,SelectionSet:!0,Name:!0,FragmentDefinition:!0,FragmentSpread:!0,InlineFragment:!0,ObjectTypeDefinition:!0,InputObjectTypeDefinition:!0,InterfaceTypeDefinition:!0,EnumTypeDefinition:!0,EnumValueDefinition:!0,InputValueDefinition:!0,FieldDefinition:!0};function wn(r){let n;try{n=parse(r)}catch(l){return null}const o=pt(r);return{outlineTrees:visit(n,{leave(l){return o!==void 0&&l.kind in o?o[l.kind](l):null}})}}function pt(r){const n=o=>({representativeName:o.name,startPosition:offsetToPosition(r,o.loc.start),endPosition:offsetToPosition(r,o.loc.end),kind:o.kind,children:o.selectionSet||o.fields||o.values||o.arguments||[]});return{Field(o){const a=o.alias?[Q("plain",o.alias),Q("plain",": ")]:[];return a.push(Q("plain",o.name)),Object.assign({tokenizedText:a},n(o))},OperationDefinition:o=>Object.assign({tokenizedText:[Q("keyword",o.operation),Q("whitespace"," "),Q("class-name",o.name)]},n(o)),Document:o=>o.definitions,SelectionSet:o=>on(o.selections,a=>a.kind===nn?a.selectionSet:a),Name:o=>o.value,FragmentDefinition:o=>Object.assign({tokenizedText:[Q("keyword","fragment"),Q("whitespace"," "),Q("class-name",o.name)]},n(o)),InterfaceTypeDefinition:o=>Object.assign({tokenizedText:[Q("keyword","interface"),Q("whitespace"," "),Q("class-name",o.name)]},n(o)),EnumTypeDefinition:o=>Object.assign({tokenizedText:[Q("keyword","enum"),Q("whitespace"," "),Q("class-name",o.name)]},n(o)),EnumValueDefinition:o=>Object.assign({tokenizedText:[Q("plain",o.name)]},n(o)),ObjectTypeDefinition:o=>Object.assign({tokenizedText:[Q("keyword","type"),Q("whitespace"," "),Q("class-name",o.name)]},n(o)),InputObjectTypeDefinition:o=>Object.assign({tokenizedText:[Q("keyword","input"),Q("whitespace"," "),Q("class-name",o.name)]},n(o)),FragmentSpread:o=>Object.assign({tokenizedText:[Q("plain","..."),Q("class-name",o.name)]},n(o)),InputValueDefinition(o){return Object.assign({tokenizedText:[Q("plain",o.name)]},n(o))},FieldDefinition(o){return Object.assign({tokenizedText:[Q("plain",o.name)]},n(o))},InlineFragment:o=>o.selectionSet}}function Q(r,n){return{kind:r,value:n}}function on(r,n){const o=[];for(let a=0;a<r.length;a++){const l=n(r[a],a);Array.isArray(l)?o.push(...l):o.push(l)}return o}function wr(r,n,o,a,l){const u=Object.assign(Object.assign({},l),{schema:r}),c=getContextAtPosition(n,o,r,a);if(!c)return"";const{typeInfo:h,token:g}=c,{kind:y,step:T}=g.state;if(y==="Field"&&T===0&&h.fieldDef||y==="AliasedField"&&T===2&&h.fieldDef||y==="ObjectField"&&T===0&&h.fieldDef){const E=[];return rt(E,u),At(E,h,u),Le(E,u),Me(E,u,h.fieldDef),E.join("").trim()}if(y==="Directive"&&T===1&&h.directiveDef){const E=[];return rt(E,u),Rr(E,h,u),Le(E,u),Me(E,u,h.directiveDef),E.join("").trim()}if(y==="Variable"&&h.type){const E=[];return rt(E,u),Te(E,h,u,h.type),Le(E,u),Me(E,u,h.type),E.join("").trim()}if(y==="Argument"&&T===0&&h.argDef){const E=[];return rt(E,u),tr(E,h,u),Le(E,u),Me(E,u,h.argDef),E.join("").trim()}if(y==="EnumValue"&&h.enumValue&&"description"in h.enumValue){const E=[];return rt(E,u),nt(E,h,u),Le(E,u),Me(E,u,h.enumValue),E.join("").trim()}if(y==="NamedType"&&h.type&&"description"in h.type){const E=[];return rt(E,u),Te(E,h,u,h.type),Le(E,u),Me(E,u,h.type),E.join("").trim()}return""}function rt(r,n){n.useMarkdown&&ne(r,"```graphql\n")}function Le(r,n){n.useMarkdown&&ne(r,"\n```")}function At(r,n,o){er(r,n,o),rr(r,n,o,n.type)}function er(r,n,o){if(!n.fieldDef)return;const a=n.fieldDef.name;a.slice(0,2)!=="__"&&(Te(r,n,o,n.parentType),ne(r,".")),ne(r,a)}function Rr(r,n,o){if(!n.directiveDef)return;const a="@"+n.directiveDef.name;ne(r,a)}function tr(r,n,o){if(n.directiveDef?Rr(r,n,o):n.fieldDef&&er(r,n,o),!n.argDef)return;const{name:a}=n.argDef;ne(r,"("),ne(r,a),rr(r,n,o,n.inputType),ne(r,")")}function rr(r,n,o,a){ne(r,": "),Te(r,n,o,a)}function nt(r,n,o){if(!n.enumValue)return;const{name:a}=n.enumValue;Te(r,n,o,n.inputType),ne(r,"."),ne(r,a)}function Te(r,n,o,a){a&&(a instanceof GraphQLNonNull?(Te(r,n,o,a.ofType),ne(r,"!")):a instanceof GraphQLList?(ne(r,"["),Te(r,n,o,a.ofType),ne(r,"]")):ne(r,a.name))}function Me(r,n,o){if(!o)return;const a=typeof o.description=="string"?o.description:null;a&&(ne(r,`

`),ne(r,a)),an(r,n,o)}function an(r,n,o){if(!o)return;const a=o.deprecationReason||null;a&&(ne(r,`

`),ne(r,"Deprecated: "),ne(r,a))}function ne(r,n){r.push(n)}},64758:(Be,yt,M)=>{M.r(yt),M.d(yt,{ByteLengthQueuingStrategy:()=>sn,CountQueuingStrategy:()=>ln,ReadableByteStreamController:()=>Oe,ReadableStream:()=>fe,ReadableStreamBYOBReader:()=>Ye,ReadableStreamBYOBRequest:()=>He,ReadableStreamDefaultController:()=>y,ReadableStreamDefaultReader:()=>Ve,TransformStream:()=>un,TransformStreamDefaultController:()=>bt,WritableStream:()=>Ke,WritableStreamDefaultController:()=>pt,WritableStreamDefaultWriter:()=>je});/**
 * @license
 * web-streams-polyfill v4.1.0
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */function we(){}function Z(e){return typeof e=="object"&&e!==null||typeof e=="function"}const F=we;function R(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(i){}}const Se=Promise,ot=Promise.resolve.bind(Se),mn=Promise.prototype.then,se=Promise.reject.bind(Se),Pe=ot;function re(e){return new Se(e)}function N(e){return re(t=>t(e))}function _(e){return se(e)}function Re(e,t,i){return mn.call(e,t,i)}function le(e,t,i){Re(Re(e,t,i),void 0,F)}function P(e,t){le(e,t)}function kt(e,t){le(e,void 0,t)}function De(e,t,i){return Re(e,t,i)}function ze(e){Re(e,void 0,F)}let ee=e=>{if(typeof queueMicrotask=="function")ee=queueMicrotask;else{const t=N(void 0);ee=i=>Re(t,i)}return ee(e)};function x(e,t,i){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}function Ae(e,t,i){try{return N(x(e,t,i))}catch(s){return _(s)}}class de{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){const i=this._back;let s=i;i._elements.length===16383&&(s={_elements:[],_next:void 0}),i._elements.push(t),s!==i&&(this._back=s,i._next=s),++this._size}shift(){const t=this._front;let i=t;const s=this._cursor;let d=s+1;const m=t._elements,p=m[s];return d===16384&&(i=t._next,d=0),--this._size,this._cursor=d,t!==i&&(this._front=i),m[s]=void 0,p}forEach(t){let i=this._cursor,s=this._front,d=s._elements;for(;!(i===d.length&&s._next===void 0||i===d.length&&(s=s._next,d=s._elements,i=0,d.length===0));)t(d[i]),++i}peek(){const t=this._front,i=this._cursor;return t._elements[i]}}const Pr=Symbol("[[AbortSteps]]"),or=Symbol("[[ErrorSteps]]"),_t=Symbol("[[CancelSteps]]"),$e=Symbol("[[PullSteps]]"),vt=Symbol("[[ReleaseSteps]]");function jt(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?it(e):t._state==="closed"?function(i){it(i),Ar(i)}(e):Ne(e,t._storedError)}function Lt(e,t){return qe(e._ownerReadableStream,t)}function Fe(e){const t=e._ownerReadableStream;t._state==="readable"?ir(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(i,s){Ne(i,s)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._readableStreamController[vt](),t._reader=void 0,e._ownerReadableStream=void 0}function Mt(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function it(e){e._closedPromise=re((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i})}function Ne(e,t){it(e),ir(e,t)}function ir(e,t){e._closedPromise_reject!==void 0&&(ze(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Ar(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const Fr=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},hn=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Ie(e,t){if(e!==void 0&&typeof(i=e)!="object"&&typeof i!="function")throw new TypeError(`${t} is not an object.`);var i}function me(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function ar(e,t){if(!function(i){return typeof i=="object"&&i!==null||typeof i=="function"}(e))throw new TypeError(`${t} is not an object.`)}function Ce(e,t,i){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${i}'.`)}function sr(e,t,i){if(e===void 0)throw new TypeError(`${t} is required in '${i}'.`)}function lr(e){return Number(e)}function v(e){return e===0?0:e}function Cr(e,t){const i=Number.MAX_SAFE_INTEGER;let s=Number(e);if(s=v(s),!Fr(s))throw new TypeError(`${t} is not a finite number`);if(s=function(d){return v(hn(d))}(s),s<0||s>i)throw new TypeError(`${t} is outside the accepted range of 0 to ${i}, inclusive`);return Fr(s)&&s!==0?s:0}function q(e,t){if(!mt(e))throw new TypeError(`${t} is not a ReadableStream.`)}function _e(e){return new Ve(e)}function H(e,t){e._reader._readRequests.push(t)}function ur(e,t,i){const s=e._reader._readRequests.shift();i?s._closeSteps():s._chunkSteps(t)}function at(e){return e._reader._readRequests.length}function cr(e){const t=e._reader;return t!==void 0&&!!We(t)}class Ve{constructor(t){if(Ce(t,1,"ReadableStreamDefaultReader"),q(t,"First parameter"),ht(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");jt(this,t),this._readRequests=new de}get closed(){return We(this)?this._closedPromise:_(Tt("closed"))}cancel(t=void 0){return We(this)?this._ownerReadableStream===void 0?_(Mt("cancel")):Lt(this,t):_(Tt("cancel"))}read(){if(!We(this))return _(Tt("read"));if(this._ownerReadableStream===void 0)return _(Mt("read from"));let t,i;const s=re((d,m)=>{t=d,i=m});return gt(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>i(d)}),s}releaseLock(){if(!We(this))throw Tt("releaseLock");this._ownerReadableStream!==void 0&&function(t){Fe(t);const i=new TypeError("Reader was released");St(t,i)}(this)}}function We(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Ve}function gt(e,t){const i=e._ownerReadableStream;i._disturbed=!0,i._state==="closed"?t._closeSteps():i._state==="errored"?t._errorSteps(i._storedError):i._readableStreamController[$e](t)}function St(e,t){const i=e._readRequests;e._readRequests=new de,i.forEach(s=>{s._errorSteps(t)})}function Tt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}var dr,Et,fr;function wt(e){return e.slice()}function qt(e,t,i,s,d){new Uint8Array(e).set(new Uint8Array(i,s,d),t)}Object.defineProperties(Ve.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),R(Ve.prototype.cancel,"cancel"),R(Ve.prototype.read,"read"),R(Ve.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ve.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let Ue=e=>(Ue=typeof e.transfer=="function"?t=>t.transfer():typeof structuredClone=="function"?t=>structuredClone(t,{transfer:[t]}):t=>t,Ue(e)),Qe=e=>(Qe=typeof e.detached=="boolean"?t=>t.detached:t=>t.byteLength===0,Qe(e));function kr(e,t,i){if(e.slice)return e.slice(t,i);const s=i-t,d=new ArrayBuffer(s);return qt(d,0,e,t,s),d}function Rt(e,t){const i=e[t];if(i!=null){if(typeof i!="function")throw new TypeError(`${String(t)} is not a function`);return i}}function jr(e){try{const t=e.done,i=e.value;return Re(Pe(i),s=>({done:t,value:s}))}catch(t){return _(t)}}const Dt=(fr=(dr=Symbol.asyncIterator)!==null&&dr!==void 0?dr:(Et=Symbol.for)===null||Et===void 0?void 0:Et.call(Symbol,"Symbol.asyncIterator"))!==null&&fr!==void 0?fr:"@@asyncIterator";function Lr(e,t="sync",i){if(i===void 0)if(t==="async"){if((i=Rt(e,Dt))===void 0)return function(d){const m={next(){let p;try{p=Mr(d)}catch(f){return _(f)}return jr(p)},return(p){let f;try{const b=Rt(d.iterator,"return");if(b===void 0)return N({done:!0,value:p});f=x(b,d.iterator,[p])}catch(b){return _(b)}return Z(f)?jr(f):_(new TypeError("The iterator.return() method must return an object"))}};return{iterator:m,nextMethod:m.next,done:!1}}(Lr(e,"sync",Rt(e,Symbol.iterator)))}else i=Rt(e,Symbol.iterator);if(i===void 0)throw new TypeError("The object is not iterable");const s=x(i,e,[]);if(!Z(s))throw new TypeError("The iterator method must return an object");return{iterator:s,nextMethod:s.next,done:!1}}function Mr(e){const t=x(e.nextMethod,e.iterator,[]);if(!Z(t))throw new TypeError("The iterator.next() method must return an object");return t}class qr{constructor(t,i){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=i}next(){const t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?De(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){const i=()=>this._returnSteps(t);return this._ongoingPromise=this._ongoingPromise?De(this._ongoingPromise,i,i):i(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const t=this._reader;let i,s;const d=re((m,p)=>{i=m,s=p});return gt(t,{_chunkSteps:m=>{this._ongoingPromise=void 0,ee(()=>i({value:m,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Fe(t),i({value:void 0,done:!0})},_errorSteps:m=>{this._ongoingPromise=void 0,this._isFinished=!0,Fe(t),s(m)}}),d}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;const i=this._reader;if(!this._preventCancel){const s=Lt(i,t);return Fe(i),De(s,()=>({value:t,done:!0}))}return Fe(i),N({value:t,done:!0})}}const Br={next(){return Vr(this)?this._asyncIteratorImpl.next():_(pr("next"))},return(e){return Vr(this)?this._asyncIteratorImpl.return(e):_(pr("return"))},[Dt](){return this}};function Vr(e){if(!Z(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof qr}catch(t){return!1}}function pr(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(Br,Dt,{enumerable:!1});const Wr=Number.isNaN||function(e){return e!=e};function Ur(e){const t=kr(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function mr(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function hr(e,t,i){if(typeof(s=i)!="number"||Wr(s)||s<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var s;e._queue.push({value:t,size:i}),e._queueTotalSize+=i}function xe(e){e._queue=new de,e._queueTotalSize=0}function br(e){return e===DataView}class He{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Bt(this))throw _r("view");return this._view}respond(t){if(!Bt(this))throw _r("respond");if(Ce(t,1,"respond"),t=Cr(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Qe(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Qt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!Bt(this))throw _r("respondWithNewView");if(Ce(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Qe(t.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Ht(this._associatedReadableByteStreamController,t)}}Object.defineProperties(He.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),R(He.prototype.respond,"respond"),R(He.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(He.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Oe{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!st(this))throw It("byobRequest");return yr(this)}get desiredSize(){if(!st(this))throw It("desiredSize");return Hr(this)}close(){if(!st(this))throw It("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Nt(this)}enqueue(t){if(!st(this))throw It("enqueue");if(Ce(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be enqueued to`);$t(this,t)}error(t=void 0){if(!st(this))throw It("error");ve(this,t)}[_t](t){ue(this),xe(this);const i=this._cancelAlgorithm(t);return zt(this),i}[$e](t){const i=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Qr(this,t);const s=this._autoAllocateChunkSize;if(s!==void 0){let d;try{d=new ArrayBuffer(s)}catch(p){return void t._errorSteps(p)}const m={buffer:d,bufferByteLength:s,byteOffset:0,byteLength:s,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(m)}H(i,t),lt(this)}[vt](){if(this._pendingPullIntos.length>0){const t=this._pendingPullIntos.peek();t.readerType="none",this._pendingPullIntos=new de,this._pendingPullIntos.push(t)}}}function st(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof Oe}function Bt(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof He}function lt(e){if(function(i){const s=i._controlledReadableByteStream;return s._state!=="readable"||i._closeRequested||!i._started?!1:!!(cr(s)&&at(s)>0||Xt(s)&&Zr(s)>0||Hr(i)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,le(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,lt(e)),null),i=>(ve(e,i),null))}}function ue(e){Yt(e),e._pendingPullIntos=new de}function Vt(e,t){let i=!1;e._state==="closed"&&(i=!0);const s=xr(t);t.readerType==="default"?ur(e,s,i):function(d,m,p){const f=d._reader,b=f._readIntoRequests.shift();p?b._closeSteps(m):b._chunkSteps(m)}(e,s,i)}function Xe(e,t){for(let i=0;i<t.length;++i)Vt(e,t[i])}function xr(e){const t=e.bytesFilled,i=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/i)}function Wt(e,t,i,s){e._queue.push({buffer:t,byteOffset:i,byteLength:s}),e._queueTotalSize+=s}function Yr(e,t,i,s){let d;try{d=kr(t,i,i+s)}catch(m){throw ve(e,m),m}Wt(e,d,0,s)}function Ut(e,t){t.bytesFilled>0&&Yr(e,t.buffer,t.byteOffset,t.bytesFilled),ut(e)}function bn(e,t){const i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),s=t.bytesFilled+i;let d=i,m=!1;const p=s-s%t.elementSize;p>=t.minimumFill&&(d=p-t.bytesFilled,m=!0);const f=e._queue;for(;d>0;){const b=f.peek(),D=Math.min(d,b.byteLength),O=t.byteOffset+t.bytesFilled;qt(t.buffer,O,b.buffer,b.byteOffset,D),b.byteLength===D?f.shift():(b.byteOffset+=D,b.byteLength-=D),e._queueTotalSize-=D,xt(e,D,t),d-=D}return m}function xt(e,t,i){i.bytesFilled+=t}function ke(e){e._queueTotalSize===0&&e._closeRequested?(zt(e),Or(e._controlledReadableByteStream)):lt(e)}function Yt(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function zr(e){const t=[];for(;e._pendingPullIntos.length>0&&e._queueTotalSize!==0;){const i=e._pendingPullIntos.peek();bn(e,i)&&(ut(e),t.push(i))}return t}function yn(e,t,i,s){const d=e._controlledReadableByteStream,m=t.constructor,p=function(S){return br(S)?1:S.BYTES_PER_ELEMENT}(m),{byteOffset:f,byteLength:b}=t,D=i*p;let O;try{O=Ue(t.buffer)}catch(S){return void s._errorSteps(S)}const W={buffer:O,bufferByteLength:O.byteLength,byteOffset:f,byteLength:b,bytesFilled:0,minimumFill:D,elementSize:p,viewConstructor:m,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(W),void Jr(d,s);if(d._state!=="closed"){if(e._queueTotalSize>0){if(bn(e,W)){const S=xr(W);return ke(e),void s._chunkSteps(S)}if(e._closeRequested){const S=new TypeError("Insufficient bytes to fill elements in the given buffer");return ve(e,S),void s._errorSteps(S)}}e._pendingPullIntos.push(W),Jr(d,s),lt(e)}else{const S=new m(W.buffer,W.byteOffset,0);s._closeSteps(S)}}function $r(e,t){const i=e._pendingPullIntos.peek();Yt(e),e._controlledReadableByteStream._state==="closed"?function(s,d){d.readerType==="none"&&ut(s);const m=s._controlledReadableByteStream;if(Xt(m)){const p=[];for(let f=0;f<Zr(m);++f)p.push(ut(s));Xe(m,p)}}(e,i):function(s,d,m){if(xt(0,d,m),m.readerType==="none"){Ut(s,m);const b=zr(s);return void Xe(s._controlledReadableByteStream,b)}if(m.bytesFilled<m.minimumFill)return;ut(s);const p=m.bytesFilled%m.elementSize;if(p>0){const b=m.byteOffset+m.bytesFilled;Yr(s,m.buffer,b-p,p)}m.bytesFilled-=p;const f=zr(s);Vt(s._controlledReadableByteStream,m),Xe(s._controlledReadableByteStream,f)}(e,t,i),lt(e)}function ut(e){return e._pendingPullIntos.shift()}function zt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Nt(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&t._state==="readable")if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){const i=e._pendingPullIntos.peek();if(i.bytesFilled%i.elementSize!=0){const s=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ve(e,s),s}}zt(e),Or(t)}}function $t(e,t){const i=e._controlledReadableByteStream;if(e._closeRequested||i._state!=="readable")return;const{buffer:s,byteOffset:d,byteLength:m}=t;if(Qe(s))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const p=Ue(s);if(e._pendingPullIntos.length>0){const f=e._pendingPullIntos.peek();if(Qe(f.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Yt(e),f.buffer=Ue(f.buffer),f.readerType==="none"&&Ut(e,f)}if(cr(i))(function(f){const b=f._controlledReadableByteStream._reader;for(;b._readRequests.length>0;){if(f._queueTotalSize===0)return;Qr(f,b._readRequests.shift())}})(e),at(i)===0?Wt(e,p,d,m):(e._pendingPullIntos.length>0&&ut(e),ur(i,new Uint8Array(p,d,m),!1));else if(Xt(i)){Wt(e,p,d,m);const f=zr(e);Xe(e._controlledReadableByteStream,f)}else Wt(e,p,d,m);lt(e)}function ve(e,t){const i=e._controlledReadableByteStream;i._state==="readable"&&(ue(e),xe(e),zt(e),Cn(i,t))}function Qr(e,t){const i=e._queue.shift();e._queueTotalSize-=i.byteLength,ke(e);const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);t._chunkSteps(s)}function yr(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),i=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),s=Object.create(He.prototype);(function(d,m,p){d._associatedReadableByteStreamController=m,d._view=p})(s,e,i),e._byobRequest=s}return e._byobRequest}function Hr(e){const t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Qt(e,t){const i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=Ue(i.buffer),$r(e,t)}function Ht(e,t){const i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+t.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const s=t.byteLength;i.buffer=Ue(t.buffer),$r(e,s)}function Xr(e,t,i,s,d,m,p){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,xe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=m,t._pullAlgorithm=s,t._cancelAlgorithm=d,t._autoAllocateChunkSize=p,t._pendingPullIntos=new de,e._readableStreamController=t,le(N(i()),()=>(t._started=!0,lt(t),null),f=>(ve(t,f),null))}function _r(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function It(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function _n(e,t){if((e=`${e}`)!="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Gr(e){return new Ye(e)}function Jr(e,t){e._reader._readIntoRequests.push(t)}function Zr(e){return e._reader._readIntoRequests.length}function Xt(e){const t=e._reader;return t!==void 0&&!!Ge(t)}Object.defineProperties(Oe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),R(Oe.prototype.close,"close"),R(Oe.prototype.enqueue,"enqueue"),R(Oe.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Oe.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Ye{constructor(t){if(Ce(t,1,"ReadableStreamBYOBReader"),q(t,"First parameter"),ht(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!st(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");jt(this,t),this._readIntoRequests=new de}get closed(){return Ge(this)?this._closedPromise:_(Gt("closed"))}cancel(t=void 0){return Ge(this)?this._ownerReadableStream===void 0?_(Mt("cancel")):Lt(this,t):_(Gt("cancel"))}read(t,i={}){if(!Ge(this))return _(Gt("read"));if(!ArrayBuffer.isView(t))return _(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return _(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return _(new TypeError("view's buffer must have non-zero byteLength"));if(Qe(t.buffer))return _(new TypeError("view's buffer has been detached"));let s;try{s=function(b,D){var O;return Ie(b,D),{min:Cr((O=b==null?void 0:b.min)!==null&&O!==void 0?O:1,`${D} has member 'min' that`)}}(i,"options")}catch(b){return _(b)}const d=s.min;if(d===0)return _(new TypeError("options.min must be greater than 0"));if(function(b){return br(b.constructor)}(t)){if(d>t.byteLength)return _(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(d>t.length)return _(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return _(Mt("read from"));let m,p;const f=re((b,D)=>{m=b,p=D});return Kr(this,t,d,{_chunkSteps:b=>m({value:b,done:!1}),_closeSteps:b=>m({value:b,done:!0}),_errorSteps:b=>p(b)}),f}releaseLock(){if(!Ge(this))throw Gt("releaseLock");this._ownerReadableStream!==void 0&&function(t){Fe(t);const i=new TypeError("Reader was released");en(t,i)}(this)}}function Ge(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof Ye}function Kr(e,t,i,s){const d=e._ownerReadableStream;d._disturbed=!0,d._state==="errored"?s._errorSteps(d._storedError):yn(d._readableStreamController,t,i,s)}function en(e,t){const i=e._readIntoRequests;e._readIntoRequests=new de,i.forEach(s=>{s._errorSteps(t)})}function Gt(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ot(e,t){const{highWaterMark:i}=e;if(i===void 0)return t;if(Wr(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function vr(e){const{size:t}=e;return t||(()=>1)}function Je(e,t){Ie(e,t);const i=e==null?void 0:e.highWaterMark,s=e==null?void 0:e.size;return{highWaterMark:i===void 0?void 0:lr(i),size:s===void 0?void 0:Jt(s,`${t} has member 'size' that`)}}function Jt(e,t){return me(e,t),i=>lr(e(i))}function Pt(e,t,i){return me(e,i),s=>Ae(e,t,[s])}function Ze(e,t,i){return me(e,i),()=>Ae(e,t,[])}function Zt(e,t,i){return me(e,i),s=>x(e,t,[s])}function Pn(e,t,i){return me(e,i),(s,d)=>Ae(e,t,[s,d])}function vn(e,t){if(!et(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(Ye.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),R(Ye.prototype.cancel,"cancel"),R(Ye.prototype.read,"read"),R(Ye.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ye.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Ke{constructor(t={},i={}){t===void 0?t=null:ar(t,"First parameter");const s=Je(i,"Second parameter"),d=function(p,f){Ie(p,f);const b=p==null?void 0:p.abort,D=p==null?void 0:p.close,O=p==null?void 0:p.start,W=p==null?void 0:p.type,S=p==null?void 0:p.write;return{abort:b===void 0?void 0:Pt(b,p,`${f} has member 'abort' that`),close:D===void 0?void 0:Ze(D,p,`${f} has member 'close' that`),start:O===void 0?void 0:Zt(O,p,`${f} has member 'start' that`),write:S===void 0?void 0:Pn(S,p,`${f} has member 'write' that`),type:W}}(t,"First parameter");if(Sn(this),d.type!==void 0)throw new RangeError("Invalid type is specified");const m=vr(s);(function(p,f,b,D){const O=Object.create(pt.prototype);let W,S,k,ie;W=f.start!==void 0?()=>f.start(O):()=>{},S=f.write!==void 0?ae=>f.write(ae,O):()=>N(void 0),k=f.close!==void 0?()=>f.close():()=>N(void 0),ie=f.abort!==void 0?ae=>f.abort(ae):()=>N(void 0),on(p,O,W,S,k,ie,b,D)})(this,d,Ot(s,1),m)}get locked(){if(!et(this))throw tr("locked");return ct(this)}abort(t=void 0){return et(this)?ct(this)?_(new TypeError("Cannot abort a stream that already has a writer")):Kt(this,t):_(tr("abort"))}close(){return et(this)?ct(this)?_(new TypeError("Cannot close a stream that already has a writer")):he(this)?_(new TypeError("Cannot close an already-closing stream")):tn(this):_(tr("close"))}getWriter(){if(!et(this))throw tr("getWriter");return gn(this)}}function gn(e){return new je(e)}function Sn(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new de,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function et(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof Ke}function ct(e){return e._writer!==void 0}function Kt(e,t){var i;if(e._state==="closed"||e._state==="errored")return N(void 0);e._writableStreamController._abortReason=t,(i=e._writableStreamController._abortController)===null||i===void 0||i.abort(t);const s=e._state;if(s==="closed"||s==="errored")return N(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let d=!1;s==="erroring"&&(d=!0,t=void 0);const m=re((p,f)=>{e._pendingAbortRequest={_promise:void 0,_resolve:p,_reject:f,_reason:t,_wasAlreadyErroring:d}});return e._pendingAbortRequest._promise=m,d||Sr(e,t),m}function tn(e){const t=e._state;if(t==="closed"||t==="errored")return _(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const i=re((m,p)=>{const f={_resolve:m,_reject:p};e._closeRequest=f}),s=e._writer;var d;return s!==void 0&&e._backpressure&&t==="writable"&&u(s),hr(d=e._writableStreamController,wn,0),Le(d),i}function gr(e,t){e._state!=="writable"?Tr(e):Sr(e,t)}function Sr(e,t){const i=e._writableStreamController;e._state="erroring",e._storedError=t;const s=e._writer;s!==void 0&&rn(s,t),!function(d){return!(d._inFlightWriteRequest===void 0&&d._inFlightCloseRequest===void 0)}(e)&&i._started&&Tr(e)}function Tr(e){e._state="errored",e._writableStreamController[or]();const t=e._storedError;if(e._writeRequests.forEach(s=>{s._reject(t)}),e._writeRequests=new de,e._pendingAbortRequest===void 0)return void dt(e);const i=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,i._wasAlreadyErroring)return i._reject(t),void dt(e);le(e._writableStreamController[Pr](i._reason),()=>(i._resolve(),dt(e),null),s=>(i._reject(s),dt(e),null))}function he(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function dt(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;t!==void 0&&ne(t,e._storedError)}function ft(e,t){const i=e._writer;i!==void 0&&t!==e._backpressure&&(t?function(s){n(s)}(i):u(i)),e._backpressure=t}Object.defineProperties(Ke.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),R(Ke.prototype.abort,"abort"),R(Ke.prototype.close,"close"),R(Ke.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ke.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class je{constructor(t){if(Ce(t,1,"WritableStreamDefaultWriter"),vn(t,"First parameter"),ct(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;const i=t._state;if(i==="writable")!he(t)&&t._backpressure?n(this):a(this),Me(this);else if(i==="erroring")o(this,t._storedError),Me(this);else if(i==="closed")a(this),Me(s=this),r(s);else{const d=t._storedError;o(this,d),an(this,d)}var s}get closed(){return tt(this)?this._closedPromise:_(nt("closed"))}get desiredSize(){if(!tt(this))throw nt("desiredSize");if(this._ownerWritableStream===void 0)throw Te("desiredSize");return function(t){const i=t._ownerWritableStream,s=i._state;return s==="errored"||s==="erroring"?null:s==="closed"?0:rt(i._writableStreamController)}(this)}get ready(){return tt(this)?this._readyPromise:_(nt("ready"))}abort(t=void 0){return tt(this)?this._ownerWritableStream===void 0?_(Te("abort")):function(i,s){return Kt(i._ownerWritableStream,s)}(this,t):_(nt("abort"))}close(){if(!tt(this))return _(nt("close"));const t=this._ownerWritableStream;return t===void 0?_(Te("close")):he(t)?_(new TypeError("Cannot close an already-closing stream")):Er(this)}releaseLock(){if(!tt(this))throw nt("releaseLock");this._ownerWritableStream!==void 0&&nn(this)}write(t=void 0){return tt(this)?this._ownerWritableStream===void 0?_(Te("write to")):En(this,t):_(nt("write"))}}function tt(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof je}function Er(e){return tn(e._ownerWritableStream)}function Tn(e,t){e._closedPromiseState==="pending"?ne(e,t):function(i,s){an(i,s)}(e,t)}function rn(e,t){e._readyPromiseState==="pending"?l(e,t):function(i,s){o(i,s)}(e,t)}function nn(e){const t=e._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");rn(e,i),Tn(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function En(e,t){const i=e._ownerWritableStream,s=i._writableStreamController,d=function(f,b){if(f._strategySizeAlgorithm===void 0)return 1;try{return f._strategySizeAlgorithm(b)}catch(D){return At(f,D),1}}(s,t);if(i!==e._ownerWritableStream)return _(Te("write to"));const m=i._state;if(m==="errored")return _(i._storedError);if(he(i)||m==="closed")return _(new TypeError("The stream is closing or closed and cannot be written to"));if(m==="erroring")return _(i._storedError);const p=function(f){return re((b,D)=>{const O={_resolve:b,_reject:D};f._writeRequests.push(O)})}(i);return function(f,b,D){try{hr(f,b,D)}catch(W){return void At(f,W)}const O=f._controlledWritableStream;!he(O)&&O._state==="writable"&&ft(O,er(f)),Le(f)}(s,t,d),p}Object.defineProperties(je.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),R(je.prototype.abort,"abort"),R(je.prototype.close,"close"),R(je.prototype.releaseLock,"releaseLock"),R(je.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(je.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const wn={};class pt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Q(this))throw rr("abortReason");return this._abortReason}get signal(){if(!Q(this))throw rr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!Q(this))throw rr("error");this._controlledWritableStream._state==="writable"&&Rr(this,t)}[Pr](t){const i=this._abortAlgorithm(t);return wr(this),i}[or](){xe(this)}}function Q(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof pt}function on(e,t,i,s,d,m,p,f){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,xe(t),t._abortReason=void 0,t._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=f,t._strategyHWM=p,t._writeAlgorithm=s,t._closeAlgorithm=d,t._abortAlgorithm=m;const b=er(t);ft(e,b),le(N(i()),()=>(t._started=!0,Le(t),null),D=>(t._started=!0,gr(e,D),null))}function wr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function rt(e){return e._strategyHWM-e._queueTotalSize}function Le(e){const t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring")return void Tr(t);if(e._queue.length===0)return;const i=e._queue.peek().value;i===wn?function(s){const d=s._controlledWritableStream;(function(p){p._inFlightCloseRequest=p._closeRequest,p._closeRequest=void 0})(d),mr(s);const m=s._closeAlgorithm();wr(s),le(m,()=>(function(p){p._inFlightCloseRequest._resolve(void 0),p._inFlightCloseRequest=void 0,p._state==="erroring"&&(p._storedError=void 0,p._pendingAbortRequest!==void 0&&(p._pendingAbortRequest._resolve(),p._pendingAbortRequest=void 0)),p._state="closed";const f=p._writer;f!==void 0&&r(f)}(d),null),p=>(function(f,b){f._inFlightCloseRequest._reject(b),f._inFlightCloseRequest=void 0,f._pendingAbortRequest!==void 0&&(f._pendingAbortRequest._reject(b),f._pendingAbortRequest=void 0),gr(f,b)}(d,p),null))}(e):function(s,d){const m=s._controlledWritableStream;(function(f){f._inFlightWriteRequest=f._writeRequests.shift()})(m);const p=s._writeAlgorithm(d);le(p,()=>{(function(b){b._inFlightWriteRequest._resolve(void 0),b._inFlightWriteRequest=void 0})(m);const f=m._state;if(mr(s),!he(m)&&f==="writable"){const b=er(s);ft(m,b)}return Le(s),null},f=>(m._state==="writable"&&wr(s),function(b,D){b._inFlightWriteRequest._reject(D),b._inFlightWriteRequest=void 0,gr(b,D)}(m,f),null))}(e,i)}function At(e,t){e._controlledWritableStream._state==="writable"&&Rr(e,t)}function er(e){return rt(e)<=0}function Rr(e,t){const i=e._controlledWritableStream;wr(e),Sr(i,t)}function tr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function rr(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function nt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Te(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Me(e){e._closedPromise=re((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function an(e,t){Me(e),ne(e,t)}function ne(e,t){e._closedPromise_reject!==void 0&&(ze(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function r(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function n(e){e._readyPromise=re((t,i)=>{e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}function o(e,t){n(e),l(e,t)}function a(e){n(e),u(e)}function l(e,t){e._readyPromise_reject!==void 0&&(ze(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function u(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(pt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(pt.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof M.g<"u"?M.g:void 0,h=function(){const e=c==null?void 0:c.DOMException;return function(t){if(typeof t!="function"&&typeof t!="object"||t.name!=="DOMException")return!1;try{return new t,!0}catch(i){return!1}}(e)?e:void 0}()||function(){const e=function(t,i){this.message=t||"",this.name=i||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return R(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function g(e,t,i,s,d,m){const p=_e(e),f=gn(t);e._disturbed=!0;let b=!1,D=N(void 0);return re((O,W)=>{let S;if(m!==void 0){if(S=()=>{const j=m.reason!==void 0?m.reason:new h("Aborted","AbortError"),te=[];s||te.push(()=>t._state==="writable"?Kt(t,j):N(void 0)),d||te.push(()=>e._state==="readable"?qe(e,j):N(void 0)),G(()=>Promise.all(te.map(Y=>Y())),!0,j)},m.aborted)return void S();m.addEventListener("abort",S)}var k,ie,ae;if(ye(e,p._closedPromise,j=>(s?U(!0,j):G(()=>Kt(t,j),!0,j),null)),ye(t,f._closedPromise,j=>(d?U(!0,j):G(()=>qe(e,j),!0,j),null)),k=e,ie=p._closedPromise,ae=()=>(i?U():G(()=>function(j){const te=j._ownerWritableStream,Y=te._state;return he(te)||Y==="closed"?N(void 0):Y==="errored"?_(te._storedError):Er(j)}(f)),null),k._state==="closed"?ae():P(ie,ae),he(t)||t._state==="closed"){const j=new TypeError("the destination writable stream closed before all data could be piped to it");d?U(!0,j):G(()=>qe(e,j),!0,j)}function be(){const j=D;return Re(D,()=>j!==D?be():void 0)}function ye(j,te,Y){j._state==="errored"?Y(j._storedError):kt(te,Y)}function G(j,te,Y){function z(){return le(j(),()=>pe(te,Y),L=>pe(!0,L)),null}b||(b=!0,t._state!=="writable"||he(t)?z():P(be(),z))}function U(j,te){b||(b=!0,t._state!=="writable"||he(t)?pe(j,te):P(be(),()=>pe(j,te)))}function pe(j,te){return nn(f),Fe(p),m!==void 0&&m.removeEventListener("abort",S),j?W(te):O(void 0),null}ze(re((j,te)=>{(function Y(z){z?j():Re(b?N(!0):Re(f._readyPromise,()=>re((L,J)=>{gt(p,{_chunkSteps:V=>{D=Re(En(f,V),void 0,we),L(!1)},_closeSteps:()=>L(!0),_errorSteps:J})})),Y,te)})(!1)}))})}class y{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!T(this))throw Ee("desiredSize");return I(this)}close(){if(!T(this))throw Ee("close");if(!X(this))throw new TypeError("The stream is not in a state that permits close");B(this)}enqueue(t=void 0){if(!T(this))throw Ee("enqueue");if(!X(this))throw new TypeError("The stream is not in a state that permits enqueue");return C(this,t)}error(t=void 0){if(!T(this))throw Ee("error");oe(this,t)}[_t](t){xe(this);const i=this._cancelAlgorithm(t);return w(this),i}[$e](t){const i=this._controlledReadableStream;if(this._queue.length>0){const s=mr(this);this._closeRequested&&this._queue.length===0?(w(this),Or(i)):E(this),t._chunkSteps(s)}else H(i,t),E(this)}[vt](){}}function T(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof y}function E(e){if(A(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,le(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,E(e)),null),t=>(oe(e,t),null))}}function A(e){const t=e._controlledReadableStream;return!X(e)||!e._started?!1:ht(t)&&at(t)>0?!0:I(e)>0}function w(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function B(e){if(!X(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(w(e),Or(t))}function C(e,t){if(!X(e))return;const i=e._controlledReadableStream;if(ht(i)&&at(i)>0)ur(i,t,!1);else{let s;try{s=e._strategySizeAlgorithm(t)}catch(d){throw oe(e,d),d}try{hr(e,t,s)}catch(d){throw oe(e,d),d}}E(e)}function oe(e,t){const i=e._controlledReadableStream;i._state==="readable"&&(xe(e),w(e),Cn(i,t))}function I(e){const t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function X(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function $(e,t,i,s,d,m,p){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,xe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=p,t._strategyHWM=m,t._pullAlgorithm=s,t._cancelAlgorithm=d,e._readableStreamController=t,le(N(i()),()=>(t._started=!0,E(t),null),f=>(oe(t,f),null))}function Ee(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Dr(e,t){return st(e._readableStreamController)?function(i){let s,d,m,p,f,b=_e(i),D=!1,O=!1,W=!1,S=!1,k=!1;const ie=re(Y=>{f=Y});function ae(Y){kt(Y._closedPromise,z=>(Y!==b||(ve(m._readableStreamController,z),ve(p._readableStreamController,z),S&&k||f(void 0)),null))}function be(){Ge(b)&&(Fe(b),b=_e(i),ae(b)),gt(b,{_chunkSteps:Y=>{ee(()=>{O=!1,W=!1;const z=Y;let L=Y;if(!S&&!k)try{L=Ur(Y)}catch(J){return ve(m._readableStreamController,J),ve(p._readableStreamController,J),void f(qe(i,J))}S||$t(m._readableStreamController,z),k||$t(p._readableStreamController,L),D=!1,O?G():W&&U()})},_closeSteps:()=>{D=!1,S||Nt(m._readableStreamController),k||Nt(p._readableStreamController),m._readableStreamController._pendingPullIntos.length>0&&Qt(m._readableStreamController,0),p._readableStreamController._pendingPullIntos.length>0&&Qt(p._readableStreamController,0),S&&k||f(void 0)},_errorSteps:()=>{D=!1}})}function ye(Y,z){We(b)&&(Fe(b),b=Gr(i),ae(b));const L=z?p:m,J=z?m:p;Kr(b,Y,1,{_chunkSteps:V=>{ee(()=>{O=!1,W=!1;const K=z?k:S;if(z?S:k)K||Ht(L._readableStreamController,V);else{let ge;try{ge=Ur(V)}catch(ce){return ve(L._readableStreamController,ce),ve(J._readableStreamController,ce),void f(qe(i,ce))}K||Ht(L._readableStreamController,V),$t(J._readableStreamController,ge)}D=!1,O?G():W&&U()})},_closeSteps:V=>{D=!1;const K=z?k:S,ge=z?S:k;K||Nt(L._readableStreamController),ge||Nt(J._readableStreamController),V!==void 0&&(K||Ht(L._readableStreamController,V),!ge&&J._readableStreamController._pendingPullIntos.length>0&&Qt(J._readableStreamController,0)),K&&ge||f(void 0)},_errorSteps:()=>{D=!1}})}function G(){if(D)return O=!0,N(void 0);D=!0;const Y=yr(m._readableStreamController);return Y===null?be():ye(Y._view,!1),N(void 0)}function U(){if(D)return W=!0,N(void 0);D=!0;const Y=yr(p._readableStreamController);return Y===null?be():ye(Y._view,!0),N(void 0)}function pe(Y){if(S=!0,s=Y,k){const z=wt([s,d]),L=qe(i,z);f(L)}return ie}function j(Y){if(k=!0,d=Y,S){const z=wt([s,d]),L=qe(i,z);f(L)}return ie}function te(){}return m=Fn(te,G,pe),p=Fn(te,U,j),ae(b),[m,p]}(e):function(i,s){const d=_e(i);let m,p,f,b,D,O=!1,W=!1,S=!1,k=!1;const ie=re(U=>{D=U});function ae(){return O?(W=!0,N(void 0)):(O=!0,gt(d,{_chunkSteps:U=>{ee(()=>{W=!1;const pe=U,j=U;S||C(f._readableStreamController,pe),k||C(b._readableStreamController,j),O=!1,W&&ae()})},_closeSteps:()=>{O=!1,S||B(f._readableStreamController),k||B(b._readableStreamController),S&&k||D(void 0)},_errorSteps:()=>{O=!1}}),N(void 0))}function be(U){if(S=!0,m=U,k){const pe=wt([m,p]),j=qe(i,pe);D(j)}return ie}function ye(U){if(k=!0,p=U,S){const pe=wt([m,p]),j=qe(i,pe);D(j)}return ie}function G(){}return f=Ir(G,ae,be),b=Ir(G,ae,ye),kt(d._closedPromise,U=>(oe(f._readableStreamController,U),oe(b._readableStreamController,U),S&&k||D(void 0),null)),[f,b]}(e)}function Ft(e){return Z(t=e)&&t.getReader!==void 0?function(i){let s;function d(){let p;try{p=i.read()}catch(f){return _(f)}return De(p,f=>{if(!Z(f))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(f.done)B(s._readableStreamController);else{const b=f.value;C(s._readableStreamController,b)}})}function m(p){try{return N(i.cancel(p))}catch(f){return _(f)}}return s=Ir(we,d,m,0),s}(e.getReader()):function(i){let s;const d=Lr(i,"async");function m(){let f;try{f=Mr(d)}catch(b){return _(b)}return De(N(f),b=>{if(!Z(b))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(b.done)B(s._readableStreamController);else{const D=b.value;C(s._readableStreamController,D)}})}function p(f){const b=d.iterator;let D;try{D=Rt(b,"return")}catch(O){return _(O)}return D===void 0?N(void 0):De(Ae(D,b,[f]),O=>{if(!Z(O))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return s=Ir(we,m,p,0),s}(e);var t}function Nr(e,t,i){return me(e,i),s=>Ae(e,t,[s])}function $n(e,t,i){return me(e,i),s=>Ae(e,t,[s])}function Qn(e,t,i){return me(e,i),s=>x(e,t,[s])}function Hn(e,t){if((e=`${e}`)!="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function An(e,t){Ie(e,t);const i=e==null?void 0:e.preventAbort,s=e==null?void 0:e.preventCancel,d=e==null?void 0:e.preventClose,m=e==null?void 0:e.signal;return m!==void 0&&function(p,f){if(!function(b){if(typeof b!="object"||b===null)return!1;try{return typeof b.aborted=="boolean"}catch(D){return!1}}(p))throw new TypeError(`${f} is not an AbortSignal.`)}(m,`${t} has member 'signal' that`),{preventAbort:!!i,preventCancel:!!s,preventClose:!!d,signal:m}}Object.defineProperties(y.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),R(y.prototype.close,"close"),R(y.prototype.enqueue,"enqueue"),R(y.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(y.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class fe{constructor(t={},i={}){t===void 0?t=null:ar(t,"First parameter");const s=Je(i,"Second parameter"),d=function(m,p){Ie(m,p);const f=m,b=f==null?void 0:f.autoAllocateChunkSize,D=f==null?void 0:f.cancel,O=f==null?void 0:f.pull,W=f==null?void 0:f.start,S=f==null?void 0:f.type;return{autoAllocateChunkSize:b===void 0?void 0:Cr(b,`${p} has member 'autoAllocateChunkSize' that`),cancel:D===void 0?void 0:Nr(D,f,`${p} has member 'cancel' that`),pull:O===void 0?void 0:$n(O,f,`${p} has member 'pull' that`),start:W===void 0?void 0:Qn(W,f,`${p} has member 'start' that`),type:S===void 0?void 0:Hn(S,`${p} has member 'type' that`)}}(t,"First parameter");if(Rn(this),d.type==="bytes"){if(s.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(m,p,f){const b=Object.create(Oe.prototype);let D,O,W;D=p.start!==void 0?()=>p.start(b):()=>{},O=p.pull!==void 0?()=>p.pull(b):()=>N(void 0),W=p.cancel!==void 0?k=>p.cancel(k):()=>N(void 0);const S=p.autoAllocateChunkSize;if(S===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Xr(m,b,D,O,W,f,S)})(this,d,Ot(s,0))}else{const m=vr(s);(function(p,f,b,D){const O=Object.create(y.prototype);let W,S,k;W=f.start!==void 0?()=>f.start(O):()=>{},S=f.pull!==void 0?()=>f.pull(O):()=>N(void 0),k=f.cancel!==void 0?ie=>f.cancel(ie):()=>N(void 0),$(p,O,W,S,k,b,D)})(this,d,Ot(s,1),m)}}get locked(){if(!mt(this))throw Ct("locked");return ht(this)}cancel(t=void 0){return mt(this)?ht(this)?_(new TypeError("Cannot cancel a stream that already has a reader")):qe(this,t):_(Ct("cancel"))}getReader(t=void 0){if(!mt(this))throw Ct("getReader");return function(i,s){Ie(i,s);const d=i==null?void 0:i.mode;return{mode:d===void 0?void 0:_n(d,`${s} has member 'mode' that`)}}(t,"First parameter").mode===void 0?_e(this):Gr(this)}pipeThrough(t,i={}){if(!mt(this))throw Ct("pipeThrough");Ce(t,1,"pipeThrough");const s=function(m,p){Ie(m,p);const f=m==null?void 0:m.readable;sr(f,"readable","ReadableWritablePair"),q(f,`${p} has member 'readable' that`);const b=m==null?void 0:m.writable;return sr(b,"writable","ReadableWritablePair"),vn(b,`${p} has member 'writable' that`),{readable:f,writable:b}}(t,"First parameter"),d=An(i,"Second parameter");if(ht(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ct(s.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ze(g(this,s.writable,d.preventClose,d.preventAbort,d.preventCancel,d.signal)),s.readable}pipeTo(t,i={}){if(!mt(this))return _(Ct("pipeTo"));if(t===void 0)return _("Parameter 1 is required in 'pipeTo'.");if(!et(t))return _(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let s;try{s=An(i,"Second parameter")}catch(d){return _(d)}return ht(this)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ct(t)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):g(this,t,s.preventClose,s.preventAbort,s.preventCancel,s.signal)}tee(){if(!mt(this))throw Ct("tee");return wt(Dr(this))}values(t=void 0){if(!mt(this))throw Ct("values");return function(i,s){const d=_e(i),m=new qr(d,s),p=Object.create(Br);return p._asyncIteratorImpl=m,p}(this,function(i,s){return Ie(i,s),{preventCancel:!!(i==null?void 0:i.preventCancel)}}(t,"First parameter").preventCancel)}[Dt](t){return this.values(t)}static from(t){return Ft(t)}}function Ir(e,t,i,s=1,d=()=>1){const m=Object.create(fe.prototype);return Rn(m),$(m,Object.create(y.prototype),e,t,i,s,d),m}function Fn(e,t,i){const s=Object.create(fe.prototype);return Rn(s),Xr(s,Object.create(Oe.prototype),e,t,i,0,void 0),s}function Rn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function mt(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof fe}function ht(e){return e._reader!==void 0}function qe(e,t){if(e._disturbed=!0,e._state==="closed")return N(void 0);if(e._state==="errored")return _(e._storedError);Or(e);const i=e._reader;if(i!==void 0&&Ge(i)){const s=i._readIntoRequests;i._readIntoRequests=new de,s.forEach(d=>{d._closeSteps(void 0)})}return De(e._readableStreamController[_t](t),we)}function Or(e){e._state="closed";const t=e._reader;if(t!==void 0&&(Ar(t),We(t))){const i=t._readRequests;t._readRequests=new de,i.forEach(s=>{s._closeSteps()})}}function Cn(e,t){e._state="errored",e._storedError=t;const i=e._reader;i!==void 0&&(ir(i,t),We(i)?St(i,t):en(i,t))}function Ct(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function kn(e,t){Ie(e,t);const i=e==null?void 0:e.highWaterMark;return sr(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:lr(i)}}Object.defineProperties(fe,{from:{enumerable:!0}}),Object.defineProperties(fe.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),R(fe.from,"from"),R(fe.prototype.cancel,"cancel"),R(fe.prototype.getReader,"getReader"),R(fe.prototype.pipeThrough,"pipeThrough"),R(fe.prototype.pipeTo,"pipeTo"),R(fe.prototype.tee,"tee"),R(fe.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(fe.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(fe.prototype,Dt,{value:fe.prototype.values,writable:!0,configurable:!0});const jn=e=>e.byteLength;R(jn,"size");class sn{constructor(t){Ce(t,1,"ByteLengthQueuingStrategy"),t=kn(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Mn(this))throw Ln("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Mn(this))throw Ln("size");return jn}}function Ln(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Mn(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof sn}Object.defineProperties(sn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(sn.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const qn=()=>1;R(qn,"size");class ln{constructor(t){Ce(t,1,"CountQueuingStrategy"),t=kn(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Vn(this))throw Bn("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Vn(this))throw Bn("size");return qn}}function Bn(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Vn(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof ln}function Xn(e,t,i){return me(e,i),s=>Ae(e,t,[s])}function Gn(e,t,i){return me(e,i),s=>x(e,t,[s])}function Jn(e,t,i){return me(e,i),(s,d)=>Ae(e,t,[s,d])}function Zn(e,t,i){return me(e,i),s=>Ae(e,t,[s])}Object.defineProperties(ln.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ln.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class un{constructor(t={},i={},s={}){t===void 0&&(t=null);const d=Je(i,"Second parameter"),m=Je(s,"Third parameter"),p=function(S,k){Ie(S,k);const ie=S==null?void 0:S.cancel,ae=S==null?void 0:S.flush,be=S==null?void 0:S.readableType,ye=S==null?void 0:S.start,G=S==null?void 0:S.transform,U=S==null?void 0:S.writableType;return{cancel:ie===void 0?void 0:Zn(ie,S,`${k} has member 'cancel' that`),flush:ae===void 0?void 0:Xn(ae,S,`${k} has member 'flush' that`),readableType:be,start:ye===void 0?void 0:Gn(ye,S,`${k} has member 'start' that`),transform:G===void 0?void 0:Jn(G,S,`${k} has member 'transform' that`),writableType:U}}(t,"First parameter");if(p.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(p.writableType!==void 0)throw new RangeError("Invalid writableType specified");const f=Ot(m,0),b=vr(m),D=Ot(d,1),O=vr(d);let W;(function(S,k,ie,ae,be,ye){function G(){return k}function U(z){return function(L,J){const V=L._transformStreamController;return L._backpressure?De(L._backpressureChangePromise,()=>{const K=L._writable;if(K._state==="erroring")throw K._storedError;return Yn(V,J)}):Yn(V,J)}(S,z)}function pe(z){return function(L,J){const V=L._transformStreamController;if(V._finishPromise!==void 0)return V._finishPromise;const K=L._readable;V._finishPromise=re((ce,On)=>{V._finishPromise_resolve=ce,V._finishPromise_reject=On});const ge=V._cancelAlgorithm(J);return fn(V),le(ge,()=>(K._state==="errored"?nr(V,K._storedError):(oe(K._readableStreamController,J),In(V)),null),ce=>(oe(K._readableStreamController,ce),nr(V,ce),null)),V._finishPromise}(S,z)}function j(){return function(z){const L=z._transformStreamController;if(L._finishPromise!==void 0)return L._finishPromise;const J=z._readable;L._finishPromise=re((K,ge)=>{L._finishPromise_resolve=K,L._finishPromise_reject=ge});const V=L._flushAlgorithm();return fn(L),le(V,()=>(J._state==="errored"?nr(L,J._storedError):(B(J._readableStreamController),In(L)),null),K=>(oe(J._readableStreamController,K),nr(L,K),null)),L._finishPromise}(S)}function te(){return function(z){return cn(z,!1),z._backpressureChangePromise}(S)}function Y(z){return function(L,J){const V=L._transformStreamController;if(V._finishPromise!==void 0)return V._finishPromise;const K=L._writable;V._finishPromise=re((ce,On)=>{V._finishPromise_resolve=ce,V._finishPromise_reject=On});const ge=V._cancelAlgorithm(J);return fn(V),le(ge,()=>(K._state==="errored"?nr(V,K._storedError):(At(K._writableStreamController,J),Nn(L),In(V)),null),ce=>(At(K._writableStreamController,ce),Nn(L),nr(V,ce),null)),V._finishPromise}(S,z)}S._writable=function(z,L,J,V,K=1,ge=()=>1){const ce=Object.create(Ke.prototype);return Sn(ce),on(ce,Object.create(pt.prototype),z,L,J,V,K,ge),ce}(G,U,j,pe,ie,ae),S._readable=Ir(G,te,Y,be,ye),S._backpressure=void 0,S._backpressureChangePromise=void 0,S._backpressureChangePromise_resolve=void 0,cn(S,!0),S._transformStreamController=void 0})(this,re(S=>{W=S}),D,O,f,b),function(S,k){const ie=Object.create(bt.prototype);let ae,be,ye;ae=k.transform!==void 0?G=>k.transform(G,ie):G=>{try{return xn(ie,G),N(void 0)}catch(U){return _(U)}},be=k.flush!==void 0?()=>k.flush(ie):()=>N(void 0),ye=k.cancel!==void 0?G=>k.cancel(G):()=>N(void 0),function(G,U,pe,j,te){U._controlledTransformStream=G,G._transformStreamController=U,U._transformAlgorithm=pe,U._flushAlgorithm=j,U._cancelAlgorithm=te,U._finishPromise=void 0,U._finishPromise_resolve=void 0,U._finishPromise_reject=void 0}(S,ie,ae,be,ye)}(this,p),p.start!==void 0?W(p.start(this._transformStreamController)):W(void 0)}get readable(){if(!Wn(this))throw zn("readable");return this._readable}get writable(){if(!Wn(this))throw zn("writable");return this._writable}}function Wn(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof un}function Un(e,t){oe(e._readable._readableStreamController,t),Dn(e,t)}function Dn(e,t){fn(e._transformStreamController),At(e._writable._writableStreamController,t),Nn(e)}function Nn(e){e._backpressure&&cn(e,!1)}function cn(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=re(i=>{e._backpressureChangePromise_resolve=i}),e._backpressure=t}Object.defineProperties(un.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(un.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class bt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!dn(this))throw pn("desiredSize");return I(this._controlledTransformStream._readable._readableStreamController)}enqueue(t=void 0){if(!dn(this))throw pn("enqueue");xn(this,t)}error(t=void 0){if(!dn(this))throw pn("error");var i;i=t,Un(this._controlledTransformStream,i)}terminate(){if(!dn(this))throw pn("terminate");(function(t){const i=t._controlledTransformStream;B(i._readable._readableStreamController);const s=new TypeError("TransformStream terminated");Dn(i,s)})(this)}}function dn(e){return!!Z(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof bt}function fn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function xn(e,t){const i=e._controlledTransformStream,s=i._readable._readableStreamController;if(!X(s))throw new TypeError("Readable side is not in a state that permits enqueue");try{C(s,t)}catch(m){throw Dn(i,m),i._readable._storedError}(function(m){return!A(m)})(s)!==i._backpressure&&cn(i,!0)}function Yn(e,t){return De(e._transformAlgorithm(t),void 0,i=>{throw Un(e._controlledTransformStream,i),i})}function pn(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function In(e){e._finishPromise_resolve!==void 0&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function nr(e,t){e._finishPromise_reject!==void 0&&(ze(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function zn(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(bt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),R(bt.prototype.enqueue,"enqueue"),R(bt.prototype.error,"error"),R(bt.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0})}}]);})();

//# sourceMappingURL=n.web-streams-polyfill.b0b200.chunk.js.map