(()=>{(function(){try{var $e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie=new $e.Error().stack;Ie&&($e._sentryDebugIds=$e._sentryDebugIds||{},$e._sentryDebugIds[Ie]="ee5cd114-eeb6-42d6-86c0-944a47ace3e0",$e._sentryDebugIdIdentifier="sentry-dbid-ee5cd114-eeb6-42d6-86c0-944a47ace3e0")}catch(G){}})();var ra=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};ra.SENTRY_RELEASE={id:"f8885377576e5e75f4a70592e67d51b687cf1242"};(self.webpackChunk_hydrooj_ui_default=self.webpackChunk_hydrooj_ui_default||[]).push([[741],{98488:($e,Ie,G)=>{G.d(Ie,{E:()=>ea});var m=G(36388),d=G(98392),l=G(35156),he=G(62533),it=Object.defineProperty,Ge=(e,t,r)=>t in e?it(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qe=(e,t,r)=>Ge(e,typeof t!="symbol"?t+"":t,r);class ct{constructor(){qe(this,"pools",{})}remove(t,r,o){const i=this.pools[t]&&this.pools[t][r];i&&(this.pools[t][r]=i.filter(n=>n!==o))}clear(t){this.pools[t]={}}on(t,r){return this.pools[t]||(this.pools[t]={}),this.pools[t][r.name]||(this.pools[t][r.name]=[]),this.pools[t][r.name].push(r.callback),this.pools[t][r.name].includes(r.callback)}emit(t,r,...o){this.pools[t]||(this.pools[t]={});const i=this.pools[t][r];i&&i.forEach(n=>{try{n(...o)}catch(c){console.error(`${r} monitor event exception\uFF01`,c)}})}}const T=new ct,Te="onSave",Ne="changeCatalogVisible",W="changeFullscreen",Ke="pageFullscreenChanged",Fe="fullscreenChanged",Xe="previewChanged",Ze="previewOnlyChanged",Ye="htmlPreviewChanged",Qe="catalogVisibleChanged",ve="buildFinished",ge="errorCatcher",D="replace",be="uploadImage",Me="openModals",Oe="ctrlZ",Se="ctrlShiftZ",Ee="catalogChanged",Re="pushCatalog",z="rerender",le="eventListener",ie="taskStateChanged",qr=(e,t="image.png")=>{const r=e.split(","),o=r[0].match(/:(.*?);/);if(o){const i=o[1],n=atob(r[1]);let c=n.length;const a=new Uint8Array(c);for(;c--;)a[c]=n.charCodeAt(c);return new File([a],t,{type:i})}return null},Kr=(e,t)=>{if(!e)return e;const r=t.split(`
`),o=['<span rn-wrapper aria-hidden="true">'];return r.forEach(()=>{o.push("<span></span>")}),o.push("</span>"),`<span class="${l.p}-code-block">${e}</span>${o.join("")}`},me=e=>e.filter(t=>t!==!1).join(" "),Xr=(e,t)=>{if(!e||!t)return 0;const r=e==null?void 0:e.getBoundingClientRect();if(t===document.documentElement)return r.top-t.clientTop;const o=t==null?void 0:t.getBoundingClientRect();return r.top-o.top},Zr=(()=>{let e=0;return t=>t+ ++e})(),vt=(()=>{let e=0;return()=>++e})(),Yr=`.${l.p}-preview > [data-line]`,Pe=(e,t)=>+getComputedStyle(e).getPropertyValue(t).replace("px",""),Qr=(e,t)=>{const r=(0,he.sg)(()=>{e.removeEventListener("scroll",o),e.addEventListener("scroll",o),t.removeEventListener("scroll",o),t.addEventListener("scroll",o)},50),o=i=>{const n=e.clientHeight,c=t.clientHeight,a=e.scrollHeight,f=t.scrollHeight,g=(a-n)/(f-c);i.target===e?(t.removeEventListener("scroll",o),t.scrollTo({top:e.scrollTop/g}),r()):(e.removeEventListener("scroll",o),e.scrollTo({top:t.scrollTop*g}),r())};return[()=>{r().finally(()=>{e.dispatchEvent(new Event("scroll"))})},()=>{e.removeEventListener("scroll",o),t.removeEventListener("scroll",o)}]},Jr=(e,t,r)=>{const{view:o}=r,i=(0,he.Uw)(),n=h=>o.lineBlockAt(o.state.doc.line(h+1).from).top,c=h=>o.lineBlockAt(o.state.doc.line(h+1).from).bottom;let a=[],f=[],g=[];const p=()=>{a=[],f=Array.from(t.querySelectorAll(Yr)),g=f.map(w=>Number(w.dataset.line));const h=[...g],{lines:k}=o.state.doc;let C=h.shift()||0,$=h.shift()||k;for(let w=0;w<k;w++)w===$&&(C=w,$=h.shift()||k),a.push({start:C,end:$-1})},s=(h,k)=>{let C=1;for(let $=f.length-1;$-1>=0;$--){const w=f[$],j=f[$-1];if(w.offsetTop+w.offsetHeight>k&&j.offsetTop<k){C=Number(j.dataset.line);break}}for(let $=a.length-1;$>=0;$--){const w=c(a[$].end),j=n(a[$].start);if(w>h&&j<=h){C=C<a[$].start?C:a[$].start;break}}return C};let u=0,b=0;const x=()=>{var h,k,C;if(b!==0)return!1;u++;const{scrollDOM:$,contentHeight:w}=o;let j=Pe(t,"padding-top");const I=o.lineBlockAtHeight($.scrollTop),{number:N}=o.state.doc.lineAt(I.from),F=a[N-1];if(!F)return!1;let _=1;const R=t.querySelector(`[data-line="${F.start}"]`)||((h=t.firstElementChild)==null?void 0:h.firstElementChild),P=t.querySelector(`[data-line="${F.end+1}"]`)||((k=t.lastElementChild)==null?void 0:k.lastElementChild),K=$.scrollHeight-$.clientHeight,Z=t.scrollHeight-t.clientHeight;let ee=n(F.start),te=c(F.end),U=R.offsetTop,q=P.offsetTop-U;ee===0&&(U=0,R===P?(j=0,te=w-$.offsetHeight,q=Z):q=P.offsetTop),_=($.scrollTop-ee)/(te-ee);const B=P==((C=t.lastElementChild)==null?void 0:C.lastElementChild)?P.offsetTop+P.clientHeight:P.offsetTop;if(te>=K||B>Z){const ne=s(K,Z);ee=n(ne),_=($.scrollTop-ee)/(K-ee);const oe=t.querySelector(`[data-line="${ne}"]`);ee>0&&oe&&(U=oe.offsetTop),q=Z-U+Pe(t,"padding-top")}const re=U-j+q*_;i(t,re,()=>{u--})},v=()=>{var h,k,C,$,w,j;if(u!==0)return;b++;const{scrollDOM:I}=o,N=t.scrollTop,F=t.scrollHeight,_=I.scrollHeight-I.clientHeight,R=t.scrollHeight-t.clientHeight;let P=(h=t.firstElementChild)==null?void 0:h.firstElementChild,K=(k=t.firstElementChild)==null?void 0:k.lastElementChild;if(g.length>0){let oe=Math.ceil(g[g.length-1]*(N/F)),S=g.findLastIndex(M=>M<=oe);S=S===-1?0:S,oe=g[S];for(let M=S;M>=0&&M<g.length;)if(f[M].offsetTop>N){if(M-1>=0){M--;continue}oe=-1,S=M;break}else{if(M+1<g.length&&f[M+1].offsetTop<N){M++;continue}oe=g[M],S=M;break}switch(S){case-1:{P=(C=t.firstElementChild)==null?void 0:C.firstElementChild,K=f[S];break}case g.length-1:{P=f[S],K=($=t.firstElementChild)==null?void 0:$.lastElementChild;break}default:P=f[S],K=f[S+1===f.length?S:S+1]}}let Z=P===((w=t.firstElementChild)==null?void 0:w.firstElementChild)?0:P.offsetTop-Pe(P,"margin-top"),ee=K.offsetTop,te=0;const{start:U,end:q}=a[Number(P.dataset.line||0)];let B=n(U);const re=n(q+1===o.state.doc.lines?q:q+1);let ne=0;if(re>_||K.offsetTop+K.offsetHeight>R){const oe=s(_,R),S=t.querySelector(`[data-line="${oe}"]`);Z=S?S.offsetTop-Pe(S,"margin-top"):Z,B=n(oe),te=(N-Z)/(R-Z),ne=_-B}else P===((j=t.firstElementChild)==null?void 0:j.firstElementChild)?(P===K&&(ee=K.offsetTop+K.offsetHeight+ +getComputedStyle(K).marginBottom.replace("px","")),ne=re,te=Math.max(N/ee,0)):(te=Math.max((N-Z)/(ee-Z),0),ne=re-B);i(e,B+ne*te,()=>{b--})},y=h=>{var k;const{scrollDOM:C,contentHeight:$}=o,w=C.clientHeight;if($<=w||t.firstElementChild.clientHeight<=t.clientHeight||o.state.doc.lines<=((k=a[a.length-1])==null?void 0:k.end))return!1;h.target===e?x():v()};return[()=>{p(),e.addEventListener("scroll",y),t.addEventListener("scroll",y),e.dispatchEvent(new Event("scroll"))},()=>{e.removeEventListener("scroll",y),t.removeEventListener("scroll",y)}]},bt=({tocItem:e,mdHeadingId:t,onClick:r,scrollElementOffsetTop:o=0})=>{const{scrollElementRef:i,rootNodeRef:n}=(0,d.useContext)(xt);return(0,m.jsxs)("div",{className:me([`${l.p}-catalog-link`,e.active&&`${l.p}-catalog-active`]),onClick:c=>{r&&r(c,e),c.stopPropagation();const a=t(e.text,e.level,e.index),f=n==null?void 0:n.current.getElementById(a),g=i==null?void 0:i.current;if(f&&g){let p=f.offsetParent,s=f.offsetTop;if(g.contains(p))for(;p&&g!=p;)s+=p==null?void 0:p.offsetTop,p=p==null?void 0:p.offsetParent;const u=f.previousElementSibling;let b=0;u||(b=Pe(f,"margin-top")),g==null||g.scrollTo({top:s-o-b,behavior:"smooth"})}},children:[(0,m.jsx)("span",{title:e.text,children:e.text}),(0,m.jsx)("div",{className:`${l.p}-catalog-wrapper`,children:e.children&&e.children.map(c=>(0,m.jsx)(bt,{mdHeadingId:t,tocItem:c,onClick:r,scrollElementOffsetTop:o},`${c.text}-${c.index}`))})]})},xt=(0,d.createContext)({scrollElementRef:void 0,rootNodeRef:void 0}),eo=e=>{const{editorId:t,mdHeadingId:r=l.f.mdHeadingId,theme:o="light",offsetTop:i=20}=e,n=(0,d.useMemo)(()=>`#${t}-preview-wrapper`,[t]),[c,a]=(0,d.useState)([]),[f,g]=(0,d.useState)(),p=(0,d.useRef)(null),s=(0,d.useRef)(),u=(0,d.useRef)(),b=(0,d.useRef)(),x=(0,d.useMemo)(()=>{const h=[];return c.forEach((k,C)=>{const{text:$,level:w}=k,j={level:w,text:$,index:C+1,active:f===k};if(h.length===0)h.push(j);else{let I=h[h.length-1];if(j.level>I.level)for(let N=I.level+1;N<=6;N++){const{children:F}=I;if(!F){I.children=[j];break}if(I=F[F.length-1],j.level<=I.level){F.push(j);break}}else h.push(j)}}),h},[f,c]),[v]=(0,d.useState)(()=>e.scrollElement||`#${t}-preview-wrapper`),y=(0,d.useCallback)(()=>{var h;if(v instanceof HTMLElement)return v;let k=document;return(v===n||e.isScrollElementInShadow)&&(k=(h=p.current)==null?void 0:h.getRootNode()),k.querySelector(v)},[n,e.isScrollElementInShadow,v]);return(0,d.useEffect)(()=>{b.current=p.current.getRootNode()},[]),(0,d.useEffect)(()=>{let h=[];const k=w=>{if(w.length===0)return a([]),!1;const{activeHead:j}=w.reduce((I,N,F)=>{var _;const R=(_=b.current)==null?void 0:_.getElementById(r(N.text,N.level,F+1));if(R instanceof HTMLElement){const P=Xr(R,s.current);if(P<i&&P>I.minTop)return{activeHead:N,minTop:P}}return I},{activeHead:w[0],minTop:Number.MIN_SAFE_INTEGER});g(j),a(w),h=w},C=()=>{k(h)},$=w=>{var j,I;const N=y();s.current=N,u.current=N===document.documentElement?document:N,(j=u.current)==null||j.removeEventListener("scroll",C),k(w),(I=u.current)==null||I.addEventListener("scroll",C)};return T.on(t,{name:Ee,callback:$}),T.emit(t,Re),()=>{var w;T.remove(t,Ee,$),(w=u.current)==null||w.removeEventListener("scroll",C)}},[i,r,y,t]),(0,d.useEffect)(()=>{e.onActive&&e.onActive(f)},[f,e]),(0,m.jsx)(xt.Provider,{value:{scrollElementRef:s,rootNodeRef:b},children:(0,m.jsx)("div",{className:me([`${l.p}-catalog`,o==="dark"&&`${l.p}-catalog-dark`,e.className||""]),style:e.style,ref:p,children:x.map(h=>(0,m.jsx)(bt,{mdHeadingId:r,tocItem:h,onClick:e.onClick,scrollElementOffsetTop:e.scrollElementOffsetTop},`${h.text}-${h.index}`))})})},to=d.memo(eo);var ce=G(94192),ro=G(76156),oo=G(59781),ae=G(44948),xe=G(74109),He=G(23645),E=G(27551),lo=G(99479),no=G(75511),ao=G(66535),so=G(84425),io=G.n(so),co=G(6305),uo=G(1096),mo=G(68735),po=G(81550),fo=G(61222),ho=G(42189),go=Object.defineProperty,vo=Object.defineProperties,bo=Object.getOwnPropertyDescriptors,kt=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,yt=(e,t,r)=>t in e?go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A=(e,t)=>{for(var r in t||(t={}))xo.call(t,r)&&yt(e,r,t[r]);if(kt)for(var r of kt(t))ko.call(t,r)&&yt(e,r,t[r]);return e},L=(e,t)=>vo(e,bo(t)),_e=(e,t,r)=>new Promise((o,i)=>{var n=f=>{try{a(r.next(f))}catch(g){i(g)}},c=f=>{try{a(r.throw(f))}catch(g){i(g)}},a=f=>f.done?o(f.value):Promise.resolve(f.value).then(n,c);a((r=r.apply(e,t)).next())}),yo=Object.defineProperty,wo=(e,t,r)=>t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ke=(e,t,r)=>wo(e,typeof t!="symbol"?t+"":t,r);function Co(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const n=Object.getOwnPropertyDescriptor(o,i);n&&Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const $o=(e,t)=>{const r=o=>{const i=e.parentElement||document.body,n=i.offsetWidth,c=i.offsetHeight,{clientWidth:a,clientHeight:f}=document.documentElement,g=o.offsetX,p=o.offsetY,s=b=>{let x=b.x+document.body.scrollLeft-document.body.clientLeft-g,v=b.y+document.body.scrollTop-document.body.clientTop-p;x=x<1?1:x<a-n-1?x:a-n-1,v=v<1?1:v<f-c-1?v:f-c-1,t?t(x,v):(i.style.left=x+"px",i.style.top=v+"px")};document.addEventListener("mousemove",s);const u=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",u)};document.addEventListener("mouseup",u)};return e.addEventListener("mousedown",r),()=>{e.removeEventListener("mousedown",r)}},ue=(e,t,r="")=>{var o;const i=document.getElementById(t.id);if(i)r!==""&&(Reflect.get(window,r)?(o=t.onload)==null||o.call(i,new Event("load")):t.onload&&i.addEventListener("load",t.onload));else{const n=A({},t);n.onload=null;const c=Eo(e,n);t.onload&&c.addEventListener("load",t.onload),document.head.appendChild(c)}},To=(e,t)=>{const r=document.getElementById(t.id);r==null||r.remove(),ue(e,t)},Eo=(e,t)=>{const r=document.createElement(e);return Object.keys(t).forEach(o=>{t[o]!==void 0&&(r[o]=t[o])}),r},wt=(()=>{const e=t=>{if(!t)return;const r=t.firstChild;let o=1,i=0,n=0,c=!1,a,f,g,p=1;const s=()=>{r.style.transform=`translate(${i}px, ${n}px) scale(${o})`};t.addEventListener("touchstart",u=>{u.touches.length===1?(c=!0,a=u.touches[0].clientX-i,f=u.touches[0].clientY-n):u.touches.length===2&&(g=Math.hypot(u.touches[0].clientX-u.touches[1].clientX,u.touches[0].clientY-u.touches[1].clientY),p=o)},{passive:!1}),t.addEventListener("touchmove",u=>{if(u.preventDefault(),c&&u.touches.length===1)i=u.touches[0].clientX-a,n=u.touches[0].clientY-f,s();else if(u.touches.length===2){const b=Math.hypot(u.touches[0].clientX-u.touches[1].clientX,u.touches[0].clientY-u.touches[1].clientY)/g,x=o;o=p*(1+(b-1));const v=(u.touches[0].clientX+u.touches[1].clientX)/2,y=(u.touches[0].clientY+u.touches[1].clientY)/2,h=r.getBoundingClientRect(),k=(v-h.left)/x,C=(y-h.top)/x;i-=k*(o-x),n-=C*(o-x),s()}},{passive:!1}),t.addEventListener("touchend",()=>{c=!1}),t.addEventListener("wheel",u=>{u.preventDefault();const b=.02,x=o;u.deltaY<0?o+=b:o=Math.max(.1,o-b);const v=r.getBoundingClientRect(),y=u.clientX-v.left,h=u.clientY-v.top;i-=y/x*(o-x),n-=h/x*(o-x),s()},{passive:!1}),t.addEventListener("mousedown",u=>{c=!0,a=u.clientX-i,f=u.clientY-n}),t.addEventListener("mousemove",u=>{c&&(i=u.clientX-a,n=u.clientY-f,s())}),t.addEventListener("mouseup",()=>{c=!1}),t.addEventListener("mouseleave",()=>{c=!1})};return t=>{t.forEach(r=>{e(r)})}})(),jo=(e,t)=>{const{modelValue:r,onSave:o}=e,{editorId:i}=t,[n,c]=(0,d.useState)({buildFinished:!1,html:""});(0,d.useEffect)(()=>{const a=f=>{c(()=>({buildFinished:!0,html:f}))};return T.on(i,{name:ve,callback:a}),()=>{T.remove(i,ve,a)}},[i]),(0,d.useEffect)(()=>{const a=()=>{if(o){const f=new Promise(g=>{if(n.buildFinished)g(n.html);else{const p=s=>{g(s),T.remove(i,ve,p)};T.on(i,{name:ve,callback:p})}});o(r,f)}};return T.on(i,{name:Te,callback:a}),()=>{T.remove(i,Te,a)}},[i,r,o,n.buildFinished,n.html]),(0,d.useEffect)(()=>{c(a=>L(A({},a),{buildFinished:!1}))},[r])},Ao=e=>{const{noPrettier:t,noUploadImg:r}=e;(0,d.useEffect)(()=>{const{editorExtensions:o,editorExtensionsAttrs:i}=l.h,n=t||!!o.prettier.prettierInstance,c=t||!!o.prettier.parserMarkdownInstance;if(!(r||o.cropper.instance)){const{js:a={},css:f={}}=i.cropper||{};ue("link",L(A({},f),{rel:"stylesheet",href:o.cropper.css,id:`${l.p}-cropperCss`})),ue("script",L(A({},a),{src:o.cropper.js,id:`${l.p}-cropper`}))}if(!n){const{standaloneJs:a={}}=i.prettier||{};ue("script",L(A({},a),{src:o.prettier.standaloneJs,id:`${l.p}-prettier`}))}if(!c){const{parserMarkdownJs:a={}}=i.prettier||{};ue("script",L(A({},a),{src:o.prettier.parserMarkdownJs,id:`${l.p}-prettierMD`}))}},[t,r]),Io(e)},Io=({noIconfont:e})=>{(0,d.useEffect)(()=>{const{editorExtensions:t,editorExtensionsAttrs:r,iconfontType:o}=l.h;e||(o==="svg"?ue("script",L(A({},r.iconfont),{src:t.iconfont,id:`${l.p}-icon`})):ue("link",L(A({},r.iconfontClass),{rel:"stylesheet",href:t.iconfontClass,id:`${l.p}-icon-class`})))},[e])},No=(e,t)=>{(0,d.useEffect)(()=>(T.on(e,{name:ge,callback:t}),()=>{T.remove(e,ge,t)}),[e,t])},So=(e,t)=>{const{editorId:r}=t,{onUploadImg:o}=e;(0,d.useEffect)(()=>{const i=(n,c)=>{const a=f=>{T.emit(r,D,"image",{desc:"",urls:f}),c&&c()};o==null||o(n,a)};return T.on(r,{name:be,callback:i}),()=>{T.remove(r,be,i)}},[r,o])},Lo=(e,t)=>{const{toolbars:r=l.b,toolbarsExclude:o=[]}=e,{editorId:i}=t,[n,c]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{const a=f=>{c(f===void 0?g=>!g:f)};return T.on(i,{name:Ne,callback:a}),()=>{T.remove(i,Ne,a)}},[i]),(0,d.useMemo)(()=>!o.includes("catalog")&&r.includes("catalog")&&n,[n,r,o])};let Ct="";const Fo=e=>{const{theme:t=l.f.theme,preview:r=l.f.preview,htmlPreview:o=l.f.htmlPreview,pageFullscreen:i=l.f.pageFullscreen,previewTheme:n=l.f.previewTheme,codeTheme:c=l.f.codeTheme,language:a=l.f.language,codeStyleReverse:f=l.f.codeStyleReverse,codeStyleReverseList:g=l.f.codeStyleReverseList}=e,p=(0,d.useMemo)(()=>{const y=l.h.editorExtensions.highlight,h=l.h.editorExtensionsAttrs.highlight,{js:k}=y,C=A(A({},l.j),y.css),{js:$,css:w={}}=h||{},j=f&&g.includes(n)?"dark":t,I=C[c]?C[c][j]:l.j.atom[j],N=C[c]&&w[c]?w[c][j]:w.atom?w.atom[j]:{};return{js:A({src:k},$),css:A({href:I},N)}},[f,g,n,t,c]),s=(0,d.useMemo)(()=>{const y=A(A({},l.s),l.h.editorConfig.languageUserDefined);return y[a]?y[a]:l.s["zh-CN"]},[a]),[u,b]=(0,d.useState)({pageFullscreen:i,fullscreen:!1,preview:r,htmlPreview:r?!1:o,previewOnly:!1}),x=(0,d.useRef)(u),v=(0,d.useCallback)((y,h)=>{b(k=>{const C=h===void 0?!k[y]:h,$=A({},k);switch(y){case"preview":{$.htmlPreview=!1,$.previewOnly=!1;break}case"htmlPreview":{$.preview=!1,$.previewOnly=!1;break}case"previewOnly":{C?!$.preview&&!$.htmlPreview&&($.preview=!0):(x.current.preview||($.preview=!1),x.current.htmlPreview||($.htmlPreview=!1));break}}return x.current[y]=C,$[y]=C,$})},[]);return(0,d.useEffect)(()=>{Ct=document.body.style.overflow},[]),(0,d.useEffect)(()=>{u.pageFullscreen||u.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=Ct},[u.pageFullscreen,u.fullscreen]),[p,s,u,v]},Mo=(e,t,r,o,i,n)=>{const{editorId:c}=t;(0,d.useEffect)(()=>{T.emit(c,Ke,o.pageFullscreen)},[c,o.pageFullscreen]),(0,d.useEffect)(()=>{T.emit(c,Fe,o.fullscreen)},[c,o.fullscreen]),(0,d.useEffect)(()=>{T.emit(c,Xe,o.preview)},[c,o.preview]),(0,d.useEffect)(()=>{T.emit(c,Ze,o.previewOnly)},[c,o.previewOnly]),(0,d.useEffect)(()=>{T.emit(c,Ye,o.htmlPreview)},[c,o.htmlPreview]),(0,d.useEffect)(()=>{T.emit(c,Qe,r)},[r,c]),(0,d.useImperativeHandle)(e,()=>({on(a,f){switch(a){case"pageFullscreen":{T.on(c,{name:Ke,callback(g){f(g)}});break}case"fullscreen":{T.on(c,{name:Fe,callback(g){f(g)}});break}case"preview":{T.on(c,{name:Xe,callback(g){f(g)}});break}case"previewOnly":{T.on(c,{name:Ze,callback(g){f(g)}});break}case"htmlPreview":{T.on(c,{name:Ye,callback(g){f(g)}});break}case"catalog":{T.on(c,{name:Qe,callback(g){f(g)}});break}}},togglePageFullscreen(a){i("pageFullscreen",a)},toggleFullscreen(a){T.emit(c,W,a)},togglePreview(a){i("preview",a)},togglePreviewOnly(a){i("previewOnly",a)},toggleHtmlPreview(a){i("htmlPreview",a)},toggleCatalog(a){T.emit(c,Ne,a)},triggerSave(){T.emit(c,Te)},insert(a){T.emit(c,D,"universal",{generate:a})},focus(a){var f;(f=n.current)==null||f.focus(a)},rerender(){T.emit(c,z)},getSelectedText(){var a;return(a=n.current)==null?void 0:a.getSelectedText()},resetHistory(){var a;(a=n.current)==null||a.resetHistory()},domEventHandlers(a){T.emit(c,le,a)},execCommand(a){T.emit(c,D,a)},getEditorView(){var a;return(a=n.current)==null?void 0:a.getEditorView()}}),[n,c,i])},Oo=()=>(0,m.jsx)("div",{className:`${l.p}-divider`}),$t=`${l.p}-dropdown-hidden`,De=e=>{const{relative:t="html"}=e,[r,o]=(0,d.useState)({overlayClass:$t,overlayStyle:{}}),i=(0,d.useRef)({triggerHover:!1,overlayHover:!1}),n=(0,d.useRef)(null),c=(0,d.useRef)(null),a=(0,d.useCallback)(()=>{var v,y;i.current.triggerHover=!0;const h=n.current,k=c.current;if(!h||!k)return;const C=h.getBoundingClientRect(),$=h.offsetTop,w=h.offsetLeft,j=C.height,I=C.width,N=h.getRootNode(),F=((v=N.querySelector(t))==null?void 0:v.scrollLeft)||0,_=((y=N.querySelector(t))==null?void 0:y.clientWidth)||0;let R=w-k.offsetWidth/2+I/2-F;R+k.offsetWidth>F+_&&(R=F+_-k.offsetWidth),R<0&&(R=0),o(P=>L(A({},P),{overlayStyle:{top:$+j+"px",left:R+"px"}})),e.onChange(!0)},[e,t]),f=()=>{i.current.overlayHover=!0};(0,d.useEffect)(()=>{e.visible?o(v=>L(A({},v),{overlayClass:""})):o(v=>L(A({},v),{overlayClass:$t}))},[e.visible]);const g=(0,d.useRef)(-1),p=(0,d.useCallback)(v=>{n.current===v.target?i.current.triggerHover=!1:i.current.overlayHover=!1,clearTimeout(g.current),g.current=window.setTimeout(()=>{!i.current.overlayHover&&!i.current.triggerHover&&e.onChange(!1)},10)},[e]);(0,d.useEffect)(()=>{var v,y,h,k;return(v=n.current)==null||v.addEventListener("mouseenter",a),(y=n.current)==null||y.addEventListener("mouseleave",p),(h=c.current)==null||h.addEventListener("mouseenter",f),(k=c.current)==null||k.addEventListener("mouseleave",p),()=>{var C,$,w,j;(C=n.current)==null||C.removeEventListener("mouseenter",a),($=n.current)==null||$.removeEventListener("mouseleave",p),(w=c.current)==null||w.removeEventListener("mouseenter",f),(j=c.current)==null||j.removeEventListener("mouseleave",p)}},[p,a]);const s=e.children,u=e.overlay,b=(0,d.cloneElement)(s,{ref:n,key:"cloned-dropdown-trigger"}),x=(0,m.jsx)("div",{className:`${l.p}-dropdown ${r.overlayClass}`,style:r.overlayStyle,ref:c,children:(0,m.jsx)("div",{className:`${l.p}-dropdown-overlay`,children:u instanceof Array?u[0]:u})});return(0,m.jsxs)(m.Fragment,{children:[b,x]})},Ro=e=>l.h.iconfontType==="svg"?(0,m.jsx)("svg",{className:`${l.p}-icon`,"aria-hidden":"true",children:(0,m.jsx)("use",{xlinkHref:`#${l.p}-icon-${e.name}`})}):(0,m.jsx)("i",{className:`${l.p}-iconfont ${l.p}-icon-${e.name}`}),H=e=>{const{customIcon:t}=(0,d.useContext)(J),r=t[e.name];if(typeof r=="object"){const o=r.component;return typeof o=="function"?(0,m.jsx)(o,A({},r.props)):(0,m.jsx)("span",{dangerouslySetInnerHTML:{__html:r.component}})}return(0,m.jsx)(Ro,{name:e.name})},Po=`${l.p}-modal-container`,Tt=e=>{const{theme:t,rootRef:r}=(0,d.useContext)(J),{onClose:o=()=>{},onAdjust:i=()=>{},style:n={},showMask:c=!0}=e,[a,f]=(0,d.useState)(e.visible),[g,p]=(0,d.useState)([`${l.p}-modal`]),s=(0,d.useRef)(null),u=(0,d.useRef)(null),b=(0,d.useRef)(),x=(0,d.useRef)(null),[v,y]=(0,d.useState)({maskStyle:{zIndex:-1},modalStyle:{zIndex:-1},initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),h=(0,d.useMemo)(()=>e.isFullscreen?{width:"100%",height:"100%"}:{width:e.width,height:e.height},[e.height,e.isFullscreen,e.width]);return(0,d.useEffect)(()=>{var k;const C=(k=r.current)==null?void 0:k.getRootNode();return b.current=C instanceof Document?document.body:C,()=>{b.current=void 0}},[r]),(0,d.useEffect)(()=>{let k=()=>{};return!e.isFullscreen&&e.visible&&(k=$o(u.current,(C,$)=>{y(w=>L(A({},w),{initPos:{left:C+"px",top:$+"px"}}))})),k},[e.isFullscreen,e.visible]),(0,d.useEffect)(()=>{if(a){const k=s.current.offsetWidth/2,C=s.current.offsetHeight/2,$=document.documentElement.clientWidth/2,w=document.documentElement.clientHeight/2;y(j=>L(A({},j),{maskStyle:{zIndex:l.h.editorConfig.zIndex+vt()},modalStyle:{zIndex:l.h.editorConfig.zIndex+vt()},initPos:{left:$-k+"px",top:w-C+"px"}}))}},[a]),(0,d.useEffect)(()=>{const k=e.visible;k?(p(()=>[`${l.p}-modal`,"zoom-in"]),f(k)):(p(()=>[`${l.p}-modal`,"zoom-out"]),setTimeout(()=>{f(k)},150))},[e.visible]),(0,m.jsx)(m.Fragment,{children:b.current&&(0,ho.createPortal)((0,m.jsx)("div",{ref:x,className:Po,"data-theme":t,children:(0,m.jsxs)("div",{className:e.className,style:L(A({},n),{display:a?"block":"none"}),children:[c&&(0,m.jsx)("div",{className:`${l.p}-modal-mask`,style:v.maskStyle,onClick:o}),(0,m.jsxs)("div",{className:g.join(" "),style:A(A(A({},v.modalStyle),v.initPos),h),ref:s,children:[(0,m.jsx)("div",{className:`${l.p}-modal-header`,ref:u,children:e.title||""}),(0,m.jsxs)("div",{className:`${l.p}-modal-func`,children:[e.showAdjust&&(0,m.jsx)("div",{className:`${l.p}-modal-adjust`,onClick:k=>{k.stopPropagation(),e.isFullscreen?y(C=>L(A({},C),{initPos:C.historyPos})):y(C=>L(A({},C),{historyPos:C.initPos,initPos:{left:"0",top:"0"}})),i instanceof Function&&i(!e.isFullscreen)},children:(0,m.jsx)(H,{name:e.isFullscreen?"suoxiao":"fangda"})}),(0,m.jsx)("div",{className:`${l.p}-modal-close`,onClick:k=>{k.stopPropagation(),e.onClose&&e.onClose()},children:(0,m.jsx)(H,{name:"close"})})]}),(0,m.jsx)("div",{className:`${l.p}-modal-body`,children:e.children})]})]})}),b.current)})},Ho=e=>{var t,r,o,i,n;const{editorId:c,usedLanguageText:a}=(0,d.useContext)(J),f=(0,d.useMemo)(()=>{var s,u;switch(e.type){case"link":return(s=a.linkModalTips)==null?void 0:s.linkTitle;case"image":return(u=a.linkModalTips)==null?void 0:u.imageTitle;default:return""}},[e.type,a]),[g,p]=(0,d.useState)({desc:"",url:""});return(0,d.useEffect)(()=>{e.visible||setTimeout(()=>{p({desc:"",url:""})},200)},[e.visible]),(0,d.useMemo)(()=>{var s,u,b,x,v;return(0,m.jsxs)(Tt,{title:f,visible:e.visible,onClose:e.onCancel,children:[(0,m.jsxs)("div",{className:`${l.p}-form-item`,children:[(0,m.jsx)("label",{className:`${l.p}-label`,htmlFor:`link-desc-${c}`,children:(s=a.linkModalTips)==null?void 0:s.descLabel}),(0,m.jsx)("input",{placeholder:(u=a.linkModalTips)==null?void 0:u.descLabelPlaceHolder,className:`${l.p}-input`,id:`link-desc-${c}`,type:"text",value:g.desc,onChange:y=>{p(h=>L(A({},h),{desc:y.target.value}))}})]}),(0,m.jsxs)("div",{className:`${l.p}-form-item`,children:[(0,m.jsx)("label",{className:`${l.p}-label`,htmlFor:`link-url-${c}`,children:(b=a.linkModalTips)==null?void 0:b.urlLabel}),(0,m.jsx)("input",{placeholder:(x=a.linkModalTips)==null?void 0:x.urlLabelPlaceHolder,className:`${l.p}-input`,id:`link-url-${c}`,type:"text",value:g.url,onChange:y=>{p(h=>L(A({},h),{url:y.target.value}))}})]}),(0,m.jsx)("div",{className:`${l.p}-form-item`,children:(0,m.jsx)("button",{className:`${l.p}-btn ${l.p}-btn-row`,type:"button",onClick:()=>{e.onOk(g),p(y=>L(A({},y),{desc:"",url:""}))},children:(v=a.linkModalTips)==null?void 0:v.buttonOK})})]})},[f,e,c,(t=a.linkModalTips)==null?void 0:t.descLabel,(r=a.linkModalTips)==null?void 0:r.descLabelPlaceHolder,(o=a.linkModalTips)==null?void 0:o.urlLabel,(i=a.linkModalTips)==null?void 0:i.urlLabelPlaceHolder,(n=a.linkModalTips)==null?void 0:n.buttonOK,g])};let ye=null;const _o=e=>{var t,r,o;const i=(0,d.useContext)(J),{editorId:n,usedLanguageText:c,rootRef:a}=i,f=l.h.editorExtensions.cropper.instance,g=(0,d.useRef)(null),p=(0,d.useRef)(null),s=(0,d.useRef)(null),[u,b]=(0,d.useState)({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});(0,d.useEffect)(()=>{e.visible&&!u.cropperInited&&(window.Cropper=f||window.Cropper,g.current.onchange=()=>{if(!window.Cropper){T.emit(n,ge,{name:"Cropper",message:"Cropper is undefined"});return}const h=g.current.files||[];if((h==null?void 0:h.length)>0){const k=new FileReader;k.onload=C=>{b($=>L(A({},$),{imgSelected:!0,imgSrc:C.target.result}))},k.readAsDataURL(h[0])}})},[e.visible,u.cropperInited,f,n]),(0,d.useEffect)(()=>{var h;(h=s.current)==null||h.setAttribute("style","")},[u.imgSelected]),(0,d.useEffect)(()=>{var h,k;ye==null||ye.destroy(),(h=s.current)==null||h.setAttribute("style",""),p.current&&u.imgSrc&&(ye=new window.Cropper(p.current,{viewMode:2,preview:((k=a.current)==null?void 0:k.getRootNode()).querySelector(`.${l.p}-clip-preview-target`)}))},[u.imgSrc,u.isFullscreen,a]);const x=(0,d.useMemo)(()=>u.isFullscreen?{width:"100%",height:"100%"}:{width:"668px",height:"392px"},[u.isFullscreen]),v=()=>{ye.clear(),ye.destroy(),ye=null,g.current.value="",b(h=>L(A({},h),{imgSrc:"",imgSelected:!1}))},y=(0,d.useCallback)(h=>{b(k=>L(A({},k),{isFullscreen:h}))},[]);return(0,d.useMemo)(()=>{var h,k,C;return(0,m.jsxs)(Tt,L(A({className:`${l.p}-modal-clip`,title:(h=c.clipModalTips)==null?void 0:h.title,visible:e.visible,onClose:e.onCancel,showAdjust:!0,isFullscreen:u.isFullscreen,onAdjust:y},x),{children:[(0,m.jsxs)("div",{className:`${l.p}-form-item ${l.p}-clip`,children:[(0,m.jsx)("div",{className:`${l.p}-clip-main`,children:u.imgSelected?(0,m.jsxs)("div",{className:`${l.p}-clip-cropper`,children:[(0,m.jsx)("img",{src:u.imgSrc,ref:p,style:{display:"none"},alt:""}),(0,m.jsx)("div",{className:`${l.p}-clip-delete`,onClick:v,children:(0,m.jsx)(H,{name:"delete"})})]}):(0,m.jsx)("div",{className:`${l.p}-clip-upload`,onClick:()=>{g.current.click()},role:"button",tabIndex:0,"aria-label":(k=c.imgTitleItem)==null?void 0:k.upload,children:(0,m.jsx)(H,{name:"upload"})})}),(0,m.jsx)("div",{className:`${l.p}-clip-preview`,children:(0,m.jsx)("div",{className:`${l.p}-clip-preview-target`,ref:s})})]}),(0,m.jsx)("div",{className:`${l.p}-form-item`,children:(0,m.jsx)("button",{className:`${l.p}-btn`,type:"button",onClick:()=>{if(ye){const $=ye.getCroppedCanvas();T.emit(n,be,[qr($.toDataURL("image/png"))],e.onOk),v()}},children:(C=c.linkModalTips)==null?void 0:C.buttonOK})}),(0,m.jsx)("input",{ref:g,accept:"image/*",type:"file",multiple:!1,style:{display:"none"},"aria-hidden":"true"})]}))},[(t=c.clipModalTips)==null?void 0:t.title,(r=c.linkModalTips)==null?void 0:r.buttonOK,(o=c.imgTitleItem)==null?void 0:o.upload,e.visible,e.onCancel,e.onOk,u.isFullscreen,u.imgSelected,u.imgSrc,y,x,n])},Do=e=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ho,{type:e.type,visible:e.linkVisible,onOk:e.onOk,onCancel:e.onCancel}),(0,m.jsx)(_o,{visible:e.clipVisible,onOk:e.onOk,onCancel:e.onCancel})]}),Bo=e=>{const[t,r]=(0,d.useState)({x:-1,y:-1}),o=(0,d.useMemo)(()=>JSON.stringify(e.tableShape),[e.tableShape]),i=(0,d.useCallback)(()=>{const a=[...JSON.parse(o)];return(!a[2]||a[2]<a[0])&&(a[2]=a[0]),(!a[3]||a[3]<a[3])&&(a[3]=a[1]),a},[o]),[n,c]=(0,d.useState)(i);return(0,d.useEffect)(()=>{c(i),r({x:-1,y:-1})},[i]),(0,m.jsx)("div",{className:`${l.p}-table-shape`,onMouseLeave:()=>{c(i),r({x:-1,y:-1})},children:new Array(n[1]).fill("").map((a,f)=>(0,m.jsx)("div",{className:`${l.p}-table-shape-row`,children:new Array(n[0]).fill("").map((g,p)=>(0,m.jsx)("div",{className:`${l.p}-table-shape-col`,onMouseEnter:()=>{r({x:f,y:p}),p+1===n[0]&&p+1<n[2]?c(s=>{const u=[...s];return u[0]=s[0]+1,u}):p+2<n[0]&&n[0]>e.tableShape[0]&&c(s=>{const u=[...s];return u[0]=s[0]-1,u}),f+1===n[1]&&f+1<n[3]?c(s=>{const u=[...s];return u[1]=s[1]+1,u}):f+2<n[1]&&n[1]>e.tableShape[1]&&c(s=>{const u=[...s];return u[1]=s[1]-1,u})},onClick:()=>{e.onSelected(t)},children:(0,m.jsx)("div",{className:[`${l.p}-table-shape-col-default`,f<=t.x&&p<=t.y&&`${l.p}-table-shape-col-include`].filter(s=>!!s).join(" ")})},`table-shape-col-${p}`))},`table-shape-row-${f}`))})},zo=e=>{const{updateSetting:t}=e,{editorId:r}=(0,d.useContext)(J),o=(0,d.useRef)(l.h.editorExtensions.screenfull.instance),i=(0,d.useRef)(!1),n=(0,d.useCallback)(c=>{if(!o.current){T.emit(r,ge,{name:"fullscreen",message:"fullscreen is undefined"});return}o.current.isEnabled?(i.current=!i.current,(c===void 0?!o.current.isFullscreen:c)?o.current.request():o.current.exit()):console.error("browser does not support screenfull!")},[r]);return(0,d.useEffect)(()=>{const c=()=>{t("fullscreen",i.current)};let a=-1;if(!o.current){const{editorExtensions:f,editorExtensionsAttrs:g}=l.h;a=requestAnimationFrame(()=>{var p;ue("script",L(A({},(p=g.screenfull)==null?void 0:p.js),{src:f.screenfull.js,id:`${l.p}-screenfull`,onload(){o.current=window.screenfull,o.current&&o.current.isEnabled&&o.current.on("change",c)}}),"screenfull")})}return o.current&&o.current.isEnabled&&o.current.on("change",c),()=>{o.current||cancelAnimationFrame(a),o.current&&o.current.isEnabled&&o.current.off("change",c)}},[t]),(0,d.useEffect)(()=>(T.on(r,{name:W,callback:n}),()=>{T.remove(r,W,n)}),[r,n]),{fullscreenHandler:n}},Vo=(e,t)=>{const{editorId:r}=(0,d.useContext)(J),[o,i]=(0,d.useState)({type:"link",linkVisible:!1,clipVisible:!1}),n=(0,d.useCallback)(()=>{i(a=>L(A({},a),{linkVisible:!1,clipVisible:!1}))},[]),c=(0,d.useCallback)(a=>{a&&t(o.type,{desc:a.desc,url:a.url,transform:o.type==="image"}),n()},[t,o.type,n]);return(0,d.useEffect)(()=>{T.on(r,{name:Me,callback(f){i(g=>L(A({},g),{type:f,linkVisible:!0}))}});const a=()=>{T.emit(r,be,Array.from(e.current.files||[])),e.current.value=""};e.current.addEventListener("change",a)},[r,e]),{modalData:o,setModalData:i,onCancel:n,onOk:c}},Wo=e=>{const[t,r]=(0,d.useState)({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),o=(0,d.useCallback)(b=>{r(x=>L(A({},x),{title:b}))},[]),i=(0,d.useCallback)(()=>{r(b=>L(A({},b),{title:!1}))},[]),n=(0,d.useCallback)(b=>{r(x=>L(A({},x),{image:b}))},[]),c=(0,d.useCallback)(()=>{r(b=>L(A({},b),{image:!1}))},[]),a=(0,d.useCallback)(b=>{r(x=>L(A({},x),{table:b}))},[]),f=(0,d.useCallback)(b=>{e("table",{selectedShape:b})},[e]),g=(0,d.useCallback)(b=>{r(x=>L(A({},x),{mermaid:b}))},[]),p=(0,d.useCallback)(()=>{r(b=>L(A({},b),{mermaid:!1}))},[]),s=(0,d.useCallback)(b=>{r(x=>L(A({},x),{katex:b}))},[]),u=(0,d.useCallback)(()=>{r(b=>L(A({},b),{katex:!1}))},[]);return{visible:t,onTitleChange:o,onTitleClose:i,onImageChange:n,onImageClose:c,onTableChange:a,onTableSelected:f,onMermaidChange:g,onMermaidClose:p,onKatexChange:s,onKatexClose:u}};let Uo=0;const Go=e=>{var t;const{toolbars:r,toolbarsExclude:o,updateSetting:i,codeTheme:n}=e,{editorId:c,usedLanguageText:a,theme:f,previewTheme:g,language:p}=(0,d.useContext)(J),s=a,[u]=(0,d.useState)(()=>`${c}-toolbar-wrapper`),b=(0,d.useRef)(null),x=(0,d.useRef)(null),v=(0,d.useCallback)((S,M)=>{T.emit(c,D,S,M)},[c]),{fullscreenHandler:y}=zo(e),{modalData:h,setModalData:k,onCancel:C,onOk:$}=Vo(x,v),{visible:w,onTitleChange:j,onTitleClose:I,onImageChange:N,onImageClose:F,onTableChange:_,onTableSelected:R,onMermaidChange:P,onMermaidClose:K,onKatexChange:Z,onKatexClose:ee}=Wo(v),te=(0,d.useMemo)(()=>{var S,M,O,Y,Q,V,se,fe;return(0,m.jsx)(De,{relative:`#${u}`,visible:w.title,onChange:j,overlay:(0,m.jsxs)("ul",{className:`${l.p}-menu`,onClick:I,role:"menu",children:[(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-title`,onClick:()=>{v("h1")},role:"menuitem",tabIndex:0,children:(S=s.titleItem)==null?void 0:S.h1}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-title`,onClick:()=>{v("h2")},role:"menuitem",tabIndex:0,children:(M=s.titleItem)==null?void 0:M.h2}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-title`,onClick:()=>{v("h3")},role:"menuitem",tabIndex:0,children:(O=s.titleItem)==null?void 0:O.h3}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-title`,onClick:()=>{v("h4")},role:"menuitem",tabIndex:0,children:(Y=s.titleItem)==null?void 0:Y.h4}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-title`,onClick:()=>{v("h5")},role:"menuitem",tabIndex:0,children:(Q=s.titleItem)==null?void 0:Q.h5}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-title`,onClick:()=>{v("h6")},role:"menuitem",tabIndex:0,children:(V=s.titleItem)==null?void 0:V.h6})]},"bar-title-overlay"),children:(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(se=s.toolbarTips)==null?void 0:se.title,children:[(0,m.jsx)(H,{name:"title"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(fe=s.toolbarTips)==null?void 0:fe.title})]},"bar-title-trigger")},"bar-title")},[u,w.title,j,I,s.titleItem,s.toolbarTips,e.showToolbarName,v]),U=(0,d.useMemo)(()=>{var S,M,O,Y,Q;return(0,m.jsx)(De,{relative:`#${u}`,visible:w.image,onChange:N,overlay:(0,m.jsxs)("ul",{className:`${l.p}-menu`,onClick:F,role:"menu",children:[(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-image`,onClick:()=>{k(V=>L(A({},V),{type:"image",linkVisible:!0}))},role:"menuitem",tabIndex:0,children:(S=s.imgTitleItem)==null?void 0:S.link}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-image`,onClick:()=>{x.current.click()},role:"menuitem",tabIndex:0,children:(M=s.imgTitleItem)==null?void 0:M.upload}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-image`,onClick:()=>{k(V=>L(A({},V),{type:"image",clipVisible:!0}))},role:"menuitem",tabIndex:0,children:(O=s.imgTitleItem)==null?void 0:O.clip2upload})]},"bar-image-overlay"),children:(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(Y=s.toolbarTips)==null?void 0:Y.image,children:[(0,m.jsx)(H,{name:"image"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Q=s.toolbarTips)==null?void 0:Q.image})]},"bar-image-trigger")},"bar-image")},[u,w.image,N,F,s.imgTitleItem,s.toolbarTips,e.showToolbarName,k]),q=(0,d.useMemo)(()=>{var S,M;return(0,m.jsx)(De,{relative:`#${u}`,visible:w.table,onChange:_,overlay:(0,m.jsx)(Bo,{tableShape:e.tableShape,onSelected:R},"bar-table-overlay"),children:(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(S=s.toolbarTips)==null?void 0:S.table,children:[(0,m.jsx)(H,{name:"table"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(M=s.toolbarTips)==null?void 0:M.table})]},"bar-table-trigger")},"bar-table")},[u,w.table,_,e.tableShape,e.showToolbarName,R,s.toolbarTips]),B=(0,d.useMemo)(()=>{var S,M,O,Y,Q,V,se,fe,de,Ae;return(0,m.jsx)(De,{relative:`#${u}`,visible:w.mermaid,onChange:P,overlay:(0,m.jsxs)("ul",{className:`${l.p}-menu`,onClick:K,role:"menu",children:[(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-mermaid`,onClick:()=>{v("flow")},role:"menuitem",tabIndex:0,children:(S=s.mermaid)==null?void 0:S.flow}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-mermaid`,onClick:()=>{v("sequence")},role:"menuitem",tabIndex:0,children:(M=s.mermaid)==null?void 0:M.sequence}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-mermaid`,onClick:()=>{v("gantt")},role:"menuitem",tabIndex:0,children:(O=s.mermaid)==null?void 0:O.gantt}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-mermaid`,onClick:()=>{v("class")},role:"menuitem",tabIndex:0,children:(Y=s.mermaid)==null?void 0:Y.class}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-mermaid`,onClick:()=>{v("state")},role:"menuitem",tabIndex:0,children:(Q=s.mermaid)==null?void 0:Q.state}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-mermaid`,onClick:()=>{v("pie")},role:"menuitem",tabIndex:0,children:(V=s.mermaid)==null?void 0:V.pie}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-mermaid`,onClick:()=>{v("relationship")},role:"menuitem",tabIndex:0,children:(se=s.mermaid)==null?void 0:se.relationship}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-mermaid`,onClick:()=>{v("journey")},role:"menuitem",tabIndex:0,children:(fe=s.mermaid)==null?void 0:fe.journey})]},"bar-mermaid-overlay"),children:(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(de=s.toolbarTips)==null?void 0:de.mermaid,children:[(0,m.jsx)(H,{name:"mermaid"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Ae=s.toolbarTips)==null?void 0:Ae.mermaid})]},"bar-mermaid-trigger")},"bar-mermaid")},[u,w.mermaid,P,K,s.mermaid,s.toolbarTips,e.showToolbarName,v]),re=(0,d.useMemo)(()=>{var S,M,O,Y;return(0,m.jsx)(De,{relative:`#${u}`,visible:w.katex,onChange:Z,overlay:(0,m.jsxs)("ul",{className:`${l.p}-menu`,onClick:ee,role:"menu",children:[(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-katex`,onClick:()=>{v("katexInline")},role:"menuitem",tabIndex:0,children:(S=s.katex)==null?void 0:S.inline}),(0,m.jsx)("li",{className:`${l.p}-menu-item ${l.p}-menu-item-katex`,onClick:()=>{v("katexBlock")},role:"menuitem",tabIndex:0,children:(M=s.katex)==null?void 0:M.block})]},"bar-katex-overlay"),children:(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(O=s.toolbarTips)==null?void 0:O.katex,children:[(0,m.jsx)(H,{name:"formula"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Y=s.toolbarTips)==null?void 0:Y.katex})]},"bar-katex-trigger")},"bar-katex")},[u,w.katex,Z,ee,s.katex,s.toolbarTips,e.showToolbarName,v]),ne=(0,d.useCallback)(S=>{var M,O,Y,Q,V,se,fe,de,Ae,Ue,sr,ir,cr,ur,dr,mr,pr,fr,hr,gr,vr,br,xr,kr,yr,wr,Cr,$r,Tr,Er,jr,Ar,Ir,Nr,Sr,Lr,Fr,Mr,Or,Rr,Pr,Hr,_r,Dr,Br,zr,Vr,Wr,Ur,Gr;if(l.b.includes(S))switch(S){case"-":return(0,m.jsx)(Oo,{},`bar-${Uo++}`);case"bold":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(M=s.toolbarTips)==null?void 0:M.bold,onClick:()=>{v("bold")},children:[(0,m.jsx)(H,{name:"bold"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(O=s.toolbarTips)==null?void 0:O.bold})]},"bar-bold");case"underline":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(Y=s.toolbarTips)==null?void 0:Y.underline,onClick:()=>{v("underline")},children:[(0,m.jsx)(H,{name:"underline"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Q=s.toolbarTips)==null?void 0:Q.underline})]},"bar-underline");case"italic":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(V=s.toolbarTips)==null?void 0:V.italic,onClick:()=>{v("italic")},children:[(0,m.jsx)(H,{name:"italic"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(se=s.toolbarTips)==null?void 0:se.italic})]},"bar-italic");case"strikeThrough":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(fe=s.toolbarTips)==null?void 0:fe.strikeThrough,onClick:()=>{v("strikeThrough")},children:[(0,m.jsx)(H,{name:"strike-through"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(de=s.toolbarTips)==null?void 0:de.strikeThrough})]},"bar-strikeThrough");case"title":return te;case"sub":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(Ae=s.toolbarTips)==null?void 0:Ae.sub,onClick:()=>{v("sub")},children:[(0,m.jsx)(H,{name:"sub"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Ue=s.toolbarTips)==null?void 0:Ue.sub})]},"bar-sub");case"sup":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(sr=s.toolbarTips)==null?void 0:sr.sup,onClick:()=>{v("sup")},children:[(0,m.jsx)(H,{name:"sup"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(ir=s.toolbarTips)==null?void 0:ir.sup})]},"bar-sup");case"quote":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(cr=s.toolbarTips)==null?void 0:cr.quote,onClick:()=>{v("quote")},children:[(0,m.jsx)(H,{name:"quote"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(ur=s.toolbarTips)==null?void 0:ur.quote})]},"bar-quote");case"unorderedList":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(dr=s.toolbarTips)==null?void 0:dr.unorderedList,onClick:()=>{v("unorderedList")},children:[(0,m.jsx)(H,{name:"unordered-list"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(mr=s.toolbarTips)==null?void 0:mr.unorderedList})]},"bar-unorderedList");case"orderedList":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(pr=s.toolbarTips)==null?void 0:pr.orderedList,onClick:()=>{v("orderedList")},children:[(0,m.jsx)(H,{name:"ordered-list"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(fr=s.toolbarTips)==null?void 0:fr.orderedList})]},"bar-orderedList");case"task":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(hr=s.toolbarTips)==null?void 0:hr.task,onClick:()=>{v("task")},children:[(0,m.jsx)(H,{name:"task"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(gr=s.toolbarTips)==null?void 0:gr.task})]},"bar-task");case"codeRow":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(vr=s.toolbarTips)==null?void 0:vr.codeRow,onClick:()=>{v("codeRow")},children:[(0,m.jsx)(H,{name:"code-row"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(br=s.toolbarTips)==null?void 0:br.codeRow})]},"bar-codeRow");case"code":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(xr=s.toolbarTips)==null?void 0:xr.code,onClick:()=>{v("code")},children:[(0,m.jsx)(H,{name:"code"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(kr=s.toolbarTips)==null?void 0:kr.code})]},"bar-code");case"link":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(yr=s.toolbarTips)==null?void 0:yr.link,onClick:()=>{k(L(A({},h),{type:"link",linkVisible:!0}))},children:[(0,m.jsx)(H,{name:"link"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(wr=s.toolbarTips)==null?void 0:wr.link})]},"bar-link");case"image":return e.noUploadImg?(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(Cr=s.toolbarTips)==null?void 0:Cr.image,onClick:()=>{k(Ce=>L(A({},Ce),{type:"image",linkVisible:!0}))},children:[(0,m.jsx)(H,{name:"image"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:($r=s.toolbarTips)==null?void 0:$r.image})]},"bar-image-no-upload"):U;case"table":return q;case"revoke":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(Tr=s.toolbarTips)==null?void 0:Tr.revoke,onClick:()=>{T.emit(c,Oe)},children:[(0,m.jsx)(H,{name:"revoke"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Er=s.toolbarTips)==null?void 0:Er.revoke})]},"bar-revoke");case"next":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(jr=s.toolbarTips)==null?void 0:jr.next,onClick:()=>{T.emit(c,Se)},children:[(0,m.jsx)(H,{name:"next"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Ar=s.toolbarTips)==null?void 0:Ar.next})]},"bar-next");case"save":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(Ir=s.toolbarTips)==null?void 0:Ir.save,onClick:()=>{T.emit(c,Te)},children:[(0,m.jsx)(H,{name:"baocun"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Nr=s.toolbarTips)==null?void 0:Nr.save})]},"bar-save");case"prettier":return e.noPrettier?"":(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(Sr=s.toolbarTips)==null?void 0:Sr.prettier,onClick:()=>{v("prettier")},children:[(0,m.jsx)(H,{name:"prettier"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Lr=s.toolbarTips)==null?void 0:Lr.prettier})]},"bar-prettier");case"pageFullscreen":return!e.setting.fullscreen&&(0,m.jsxs)("div",{className:me([`${l.p}-toolbar-item`,e.setting.pageFullscreen&&`${l.p}-toolbar-active`]),title:(Fr=s.toolbarTips)==null?void 0:Fr.pageFullscreen,onClick:()=>{i("pageFullscreen")},children:[(0,m.jsx)(H,{name:e.setting.pageFullscreen?"suoxiao":"fangda"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Mr=s.toolbarTips)==null?void 0:Mr.pageFullscreen})]},"bar-pageFullscreen");case"fullscreen":return(0,m.jsxs)("div",{className:me([`${l.p}-toolbar-item`,e.setting.fullscreen&&`${l.p}-toolbar-active`]),title:(Or=s.toolbarTips)==null?void 0:Or.fullscreen,onClick:()=>{y()},children:[(0,m.jsx)(H,{name:e.setting.fullscreen?"fullscreen-exit":"fullscreen"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Rr=s.toolbarTips)==null?void 0:Rr.fullscreen})]},"bar-fullscreen");case"catalog":return(0,m.jsxs)("div",{className:me([`${l.p}-toolbar-item`,e.catalogVisible&&`${l.p}-toolbar-active`]),title:(Pr=s.toolbarTips)==null?void 0:Pr.catalog,onClick:()=>{T.emit(c,Ne)},children:[(0,m.jsx)(H,{name:"catalog"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Hr=s.toolbarTips)==null?void 0:Hr.catalog})]},"bar-catalog");case"preview":return(0,m.jsxs)("div",{className:me([`${l.p}-toolbar-item`,e.setting.preview&&`${l.p}-toolbar-active`]),title:(_r=s.toolbarTips)==null?void 0:_r.preview,onClick:()=>{i("preview")},children:[(0,m.jsx)(H,{name:"preview"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Dr=s.toolbarTips)==null?void 0:Dr.preview})]},"bar-preview");case"previewOnly":return(0,m.jsxs)("div",{className:me([`${l.p}-toolbar-item`,e.setting.previewOnly&&`${l.p}-toolbar-active`]),title:(Br=s.toolbarTips)==null?void 0:Br.previewOnly,onClick:()=>{e.updateSetting("previewOnly")},children:[(0,m.jsx)(H,{name:"preview-only"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(zr=s.toolbarTips)==null?void 0:zr.previewOnly})]},"bar-preview-only");case"htmlPreview":return(0,m.jsxs)("div",{className:me([`${l.p}-toolbar-item`,e.setting.htmlPreview&&`${l.p}-toolbar-active`]),title:(Vr=s.toolbarTips)==null?void 0:Vr.htmlPreview,onClick:()=>{i("htmlPreview")},children:[(0,m.jsx)(H,{name:"coding"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Wr=s.toolbarTips)==null?void 0:Wr.htmlPreview})]},"bar-htmlPreview");case"github":return(0,m.jsxs)("div",{className:`${l.p}-toolbar-item`,title:(Ur=s.toolbarTips)==null?void 0:Ur.github,onClick:()=>(0,he.uM)("https://github.com/imzbf/md-editor-rt"),children:[(0,m.jsx)(H,{name:"github"}),e.showToolbarName&&(0,m.jsx)("div",{className:`${l.p}-toolbar-item-name`,children:(Gr=s.toolbarTips)==null?void 0:Gr.github})]},"bar-github");case"mermaid":return B;case"katex":return re}else if(e.defToolbars){const Ce=e.defToolbars[S];return Ce?(0,d.cloneElement)(Ce,{theme:Ce.props.theme||f,codeTheme:Ce.props.codeTheme||n,previewTheme:Ce.props.previewTheme||g,language:Ce.props.language||p,insert(ta){T.emit(c,D,"universal",{generate:ta})}}):""}else return""},[e,s.toolbarTips,v,te,k,h,U,q,c,i,y,B,re,f,p,g]),oe=(0,d.useMemo)(()=>{const S=r.filter(Q=>!o.includes(Q)),M=S.indexOf("="),O=M===-1?S:S.slice(0,M+1),Y=M===-1?[]:S.slice(M,Number.MAX_SAFE_INTEGER);return[O.map(Q=>ne(Q)),Y.map(Q=>ne(Q))]},[r,o,ne]);return(0,d.useEffect)(()=>{let S=()=>{};return b.current&&(S=(0,he.b1)(b.current)),()=>{S()}},[r]),(0,m.jsxs)(m.Fragment,{children:[r.length>0&&(0,m.jsx)("div",{className:`${l.p}-toolbar-wrapper`,ref:b,id:u,children:(0,m.jsxs)("div",{className:me([`${l.p}-toolbar`,e.showToolbarName&&`${l.p}-stn`]),children:[(0,m.jsx)("div",{className:`${l.p}-toolbar-left`,children:oe[0]}),(0,m.jsx)("div",{className:`${l.p}-toolbar-right`,children:oe[1]})]})}),(0,m.jsx)("label",{htmlFor:`${u}_label`,style:{display:"none"},"aria-label":(t=s.imgTitleItem)==null?void 0:t.upload}),(0,m.jsx)("input",{id:`${u}_label`,ref:x,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}}),(0,m.jsx)(Do,{linkVisible:h.linkVisible,clipVisible:h.clipVisible,type:h.type,onCancel:C,onOk:$})]})},qo=d.memo(Go),Ko=(e,t,r)=>{const{editorId:o}=(0,d.useContext)(J),[i,n]=(0,d.useState)({clear(){},init(){}});(0,d.useEffect)(()=>{var c;const a=(c=r.current)==null?void 0:c.view.contentDOM.getRootNode(),f=a.querySelector(`#${o} .cm-scroller`),g=a.querySelector(`[id="${o}-preview-wrapper"]`),p=a.querySelector(`[id="${o}-html-wrapper"]`);if(g||p){const s=g?Jr:Qr,u=g||p,[b,x]=s(f,u,r.current);n({init:b,clear:x})}},[t,e.setting.fullscreen,e.setting.pageFullscreen,e.setting.preview,e.setting.htmlPreview,o,r]),(0,d.useEffect)(()=>(e.scrollAuto&&!e.setting.previewOnly&&(e.setting.preview||e.setting.htmlPreview)?i.init():i.clear(),()=>{i.clear()}),[i,e.scrollAuto,e.setting.preview,e.setting.htmlPreview,e.setting.previewOnly])},ut=(e,t,r)=>_e(void 0,null,function*(){var o,i;let n="",c=0,a=0,f=!0,g=!1;const p=t.getSelectedText(),s=l.h.editorConfig.mermaidTemplate;if(/^h[1-6]{1}$/.test(e)){const u=e.replace(/^h(\d)/,(b,x)=>new Array(Number(x)).fill("#",0,x).join(""));n=`${u} ${p}`,c=u.length+1}else if(e==="prettier"){const u=window.prettier||l.h.editorExtensions.prettier.prettierInstance,b=[((i=window.prettierPlugins)==null?void 0:i.markdown)||l.h.editorExtensions.prettier.parserMarkdownInstance];!u||b[0]===void 0?(T.emit(r.editorId,ge,{name:"prettier",message:"prettier is undefined"}),n=t.getValue()):n=yield u.format(t.getValue(),{parser:"markdown",plugins:b}),f=!1,g=!0}else switch(e){case"bold":{n=`**${p}**`,c=2,a=-2;break}case"underline":{n=`<u>${p}</u>`,c=3,a=-4;break}case"italic":{n=`*${p}*`,c=1,a=-1;break}case"strikeThrough":{n=`~~${p}~~`,c=2,a=-2;break}case"sub":{n=`~${p}~`,c=1,a=-1;break}case"sup":{n=`^${p}^`,c=1,a=-1;break}case"codeRow":{n="`"+p+"`",c=1,a=-1;break}case"quote":{n=`> ${p}`,c=2;break}case"orderedList":{n=`1. ${p}`,c=3;break}case"unorderedList":{n=`- ${p}`,c=2;break}case"task":{n=`- [ ] ${p}`,c=6;break}case"code":{const u=r.text||p||"",b=r.mode||"language";n=`\`\`\`${b}
${u}
\`\`\`
`,c=3,a=3+b.length-n.length;break}case"table":{n="|";const{selectedShape:u={x:1,y:1}}=r,{x:b,y:x}=u;for(let v=0;v<=x;v++)n+=" col |";n+=`
|`;for(let v=0;v<=x;v++)n+=" - |";for(let v=0;v<=b;v++){n+=`
|`;for(let y=0;y<=x;y++)n+=" content |"}c=2,a=5-n.length;break}case"link":{const{desc:u,url:b}=r;n=`[${u}](${b})`,f=!1;break}case"image":{const{desc:u,url:b,urls:x}=r;x instanceof Array?n=x.reduce((v,y)=>{const{url:h="",alt:k="",title:C=""}=typeof y=="object"?y:{url:y};return v+`![${k}](${h}${C?" '"+C+"'":""})
`},""):n=`![${u}](${b})
`,f=!1;break}case"flow":{n=`\`\`\`mermaid
${(s==null?void 0:s.flow)||`flowchart TD 
  Start --> Stop`}
\`\`\`
`,c=11,a=-5;break}case"sequence":{n=`\`\`\`mermaid
${(s==null?void 0:s.sequence)||`sequenceDiagram
  A->>B: hello!
  B-->>A: hi!
  A-)B: bye!`}
\`\`\`
`,c=11,a=-5;break}case"gantt":{n=`\`\`\`mermaid
${(s==null?void 0:s.gantt)||`gantt
title A Gantt Diagram
dateFormat  YYYY-MM-DD
section Section
A task  :a1, 2014-01-01, 30d
Another task  :after a1, 20d`}
\`\`\`
`,c=11,a=-5;break}case"class":{n=`\`\`\`mermaid
${(s==null?void 0:s.class)||`classDiagram
  class Animal
  Vehicle <|-- Car`}
\`\`\`
`,c=11,a=-5;break}case"state":{n=`\`\`\`mermaid
${(s==null?void 0:s.state)||`stateDiagram-v2
  s1 --> s2`}
\`\`\`
`,c=11,a=-5;break}case"pie":{n=`\`\`\`mermaid
${(s==null?void 0:s.pie)||`pie title Pets adopted by volunteers
  "Dogs" : 386
  "Cats" : 85
  "Rats" : 15`}
\`\`\`
`,c=11,a=-5;break}case"relationship":{n=`\`\`\`mermaid
${(s==null?void 0:s.relationship)||`erDiagram
  CAR ||--o{ NAMED-DRIVER : allows
  PERSON ||--o{ NAMED-DRIVER : is`}
\`\`\`
`,c=11,a=-5;break}case"journey":{n=`\`\`\`mermaid
${(s==null?void 0:s.journey)||`journey
  title My working day
  section Go to work
    Make tea: 5: Me
    Go upstairs: 3: Me
    Do work: 1: Me, Cat
  section Go home
    Go downstairs: 5: Me
    Sit down: 5: Me`}
\`\`\`
`,c=11,a=-5;break}case"katexInline":{n="$$",c=1,a=-1;break}case"katexBlock":{n=`$$

$$
`,c=3,a=-4;break}case"universal":{const{generate:u}=r,b=u(p);n=b.targetValue,f=(o=b.select)!=null?o:!0,c=b.deviationStart||0,a=b.deviationEnd||0}}return{text:n,options:{select:f,deviationStart:c,deviationEnd:a,replaceAll:g}}}),Le=e=>{const t=new ae.xx;return r=>(t.get(e.state)?e.dispatch({effects:t.reconfigure(r)}):e.dispatch({effects:ae.Pe.appendConfig.of(t.of(r))}),!0)};class Xo{constructor(t){ke(this,"view"),ke(this,"maxLength",Number.MAX_SAFE_INTEGER),ke(this,"toggleTabSize"),ke(this,"togglePlaceholder"),ke(this,"setExtensions"),ke(this,"toggleDisabled"),ke(this,"toggleReadOnly"),ke(this,"toggleMaxlength"),this.view=t,this.toggleTabSize=Le(this.view),this.togglePlaceholder=Le(this.view),this.setExtensions=Le(this.view),this.toggleDisabled=Le(this.view),this.toggleReadOnly=Le(this.view),this.toggleMaxlength=Le(this.view)}getValue(){return this.view.state.doc.toString()}setValue(t,r=0,o=this.view.state.doc.length){this.view.dispatch({changes:{from:r,to:o,insert:t}})}getSelectedText(){const{from:t,to:r}=this.view.state.selection.main;return this.view.state.sliceDoc(t,r)}replaceSelectedText(t,r={select:!0,deviationStart:0,deviationEnd:0,replaceAll:!1},o){try{if(r.replaceAll){if(this.setValue(t),t.length>this.maxLength)throw new Error("The input text is too long");return}if(this.view.state.doc.length-this.getSelectedText().length+t.length>this.maxLength)throw new Error("The input text is too long");const{from:i}=this.view.state.selection.main;if(this.view.dispatch(this.view.state.replaceSelection(t)),r.select){const n=i+t.length+r.deviationEnd;this.view.dispatch({selection:{anchor:i+r.deviationStart,head:n}})}this.view.focus()}catch(i){if(i.message==="The input text is too long")T.emit(o,ge,{name:"overlength",message:i.message,data:t});else throw i}}setTabSize(t){this.toggleTabSize([ae.$t.tabSize.of(t),He.Xt.of(" ".repeat(t))])}setPlaceholder(t){this.togglePlaceholder((0,ce.qf)(t))}focus(t){if(this.view.focus(),!t)return;let r=0,o=0,i=0;switch(t){case"start":break;case"end":{r=o=i=this.getValue().length;break}default:r=t.rangeAnchor||t.cursorPos,o=t.rangeHead||t.cursorPos,i=t.cursorPos}this.view.dispatch({scrollIntoView:!0,selection:ae.OF.create([ae.OF.range(r,o),ae.OF.cursor(i)],1)})}setDisabled(t){this.toggleDisabled([ce.Lz.editable.of(!t)])}setReadOnly(t){this.toggleReadOnly([ae.$t.readOnly.of(t)])}setMaxLength(t){this.maxLength=t,this.toggleMaxlength([ae.$t.changeFilter.of(r=>r.newDoc.length<=t)])}}const Zo="#e5c07b",Et="var(--md-color)",Yo="#56b6c2",Qo="#ffffff",Be="var(--md-color)",jt="#e5c07b",Jo="#e5c07b",el="var(--md-color)",At="#d19a66",tl="#c678dd",rl="#21252b",ol="#2c313a",It="var(--md-bk-color)",dt="var(--md-bk-color)",ll="#ceedfa33",Nt="#528bff",nl=ce.Lz.theme({"&":{color:Be,backgroundColor:It},".cm-content":{caretColor:Nt},".cm-cursor, .cm-dropCursor":{borderLeftColor:Nt},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:ll},".cm-panels":{backgroundColor:rl,color:Be},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:It,color:Be,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:ol},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:dt},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:dt,borderBottomColor:dt},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:Be}}},{dark:!0}),al=He.cr.define([{tag:E._A.keyword,color:tl},{tag:[E._A.name,E._A.deleted,E._A.character,E._A.propertyName,E._A.macroName],color:Et},{tag:[E._A.function(E._A.variableName),E._A.labelName],color:Jo},{tag:[E._A.color,E._A.constant(E._A.name),E._A.standard(E._A.name)],color:At},{tag:[E._A.definition(E._A.name),E._A.separator],color:Be},{tag:[E._A.typeName,E._A.className,E._A.number,E._A.changed,E._A.annotation,E._A.modifier,E._A.self,E._A.namespace],color:Zo},{tag:[E._A.operator,E._A.operatorKeyword,E._A.url,E._A.escape,E._A.regexp,E._A.link,E._A.special(E._A.string)],color:Yo},{tag:[E._A.meta,E._A.comment],color:jt},{tag:E._A.strong,fontWeight:"bold"},{tag:E._A.emphasis,fontStyle:"italic"},{tag:E._A.strikethrough,textDecoration:"line-through"},{tag:E._A.link,color:jt,textDecoration:"underline"},{tag:E._A.heading,fontWeight:"bold",color:Et},{tag:[E._A.atom,E._A.bool,E._A.special(E._A.variableName)],color:At},{tag:[E._A.processingInstruction,E._A.string,E._A.inserted],color:el},{tag:E._A.invalid,color:Qo}]),St=[nl,(0,He.y9)(al)],sl="#e5c07b",Lt="#3f4a54",il="#56b6c2",cl="#fff",ze="#3f4a54",Ft="#2d8cf0",ul="#2d8cf0",dl="#3f4a54",Mt="#d19a66",ml="#c678dd",pl="#f6f6f6",fl="#ceedfa33",Ot="var(--md-bk-color)",mt="var(--md-bk-color)",hl="#bad5fa",Rt="#3f4a54",gl=ce.Lz.theme({"&":{color:ze,backgroundColor:Ot},".cm-content":{caretColor:Rt},".cm-cursor, .cm-dropCursor":{borderLeftColor:Rt},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:hl},".cm-panels":{backgroundColor:pl,color:ze},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Ot,color:ze,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:fl},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:mt},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:mt,borderBottomColor:mt},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:ze}}}),vl=He.cr.define([{tag:E._A.keyword,color:ml},{tag:[E._A.name,E._A.deleted,E._A.character,E._A.propertyName,E._A.macroName],color:Lt},{tag:[E._A.function(E._A.variableName),E._A.labelName],color:ul},{tag:[E._A.color,E._A.constant(E._A.name),E._A.standard(E._A.name)],color:Mt},{tag:[E._A.definition(E._A.name),E._A.separator],color:ze},{tag:[E._A.typeName,E._A.className,E._A.number,E._A.changed,E._A.annotation,E._A.modifier,E._A.self,E._A.namespace],color:sl},{tag:[E._A.operator,E._A.operatorKeyword,E._A.url,E._A.escape,E._A.regexp,E._A.link,E._A.special(E._A.string)],color:il},{tag:[E._A.meta,E._A.comment],color:Ft},{tag:E._A.strong,fontWeight:"bold"},{tag:E._A.emphasis,fontStyle:"italic"},{tag:E._A.strikethrough,textDecoration:"line-through"},{tag:E._A.link,color:Ft,textDecoration:"underline"},{tag:E._A.heading,fontWeight:"bold",color:Lt},{tag:[E._A.atom,E._A.bool,E._A.special(E._A.variableName)],color:Mt},{tag:[E._A.processingInstruction,E._A.string,E._A.inserted],color:dl},{tag:E._A.invalid,color:cl}]),Pt=[gl,(0,He.y9)(vl)],Je=(e,t,r,o,i)=>(n,c,a,f)=>{const g=`${e}${t}`.slice(f-a);n.dispatch(n.state.replaceSelection(`${g}${r}${o}`));const p=a+c.label.length+(i==="title"?r.length:0);n.dispatch({selection:ae.OF.create([ae.OF.range(a+c.label.length+(i==="title"?1:-t.length),p),ae.OF.cursor(p)],1)}),n.focus()},Ht=e=>(t,r,o,i)=>{const n=e.slice(i-o);t.dispatch(t.state.replaceSelection(`${n} `))},_t=e=>{const t=r=>{const o=r.matchBefore(/^#+|^-\s*\[*\s*\]*|`+|\[|!\[*|^\|\s?\|?|\$\$?|!+\s*\w*/);return o===null||o.from==o.to&&r.explicit?null:{from:o.from,options:[...["h2","h3","h4","h5","h6"].map((i,n)=>{const c=new Array(n+2).fill("#").join("");return{label:c,type:"text",apply:Ht(c)}}),...["unchecked","checked"].map(i=>{const n=i==="checked"?"- [x]":"- [ ]";return{label:n,type:"text",apply:Ht(n)}}),...[["`",""],["```","language"],["```mermaid\n",""]].map(i=>({label:`${i[0]}${i[1]}`,type:"text",apply:Je(i[0],i[1],"",i[0]==="`"?"`":"\n```","type")})),{label:"[]()",type:"text"},{label:"![]()",type:"text"},{label:"| |",type:"text",detail:"table",apply:`| col | col | col |
| - | - | - |
| content | content | content |
| content | content | content |`},{label:"$",type:"text",apply:Je("$","","","$","type")},{label:"$$",type:"text",apply:Je("$$","",`
`,`
$$`,"title")},...["note","abstract","info","tip","success","question","warning","failure","danger","bug","example","quote","hint","caution","error","attention"].map(i=>({label:`!!! ${i}`,type:"text",apply:Je("!!!",` ${i}`," Title",`

!!!`,"title")}))]}};return(0,lo.yU)({override:e?[t,...e]:[t]})},bl=(e,t)=>[{key:"Ctrl-b",mac:"Cmd-b",run:()=>(T.emit(e,D,"bold"),!0)},{key:"Ctrl-d",mac:"Cmd-d",run:xe.SA,preventDefault:!0},{key:"Ctrl-s",mac:"Cmd-s",run:r=>(T.emit(e,Te,r.state.doc.toString()),!0),shift:()=>(T.emit(e,D,"strikeThrough"),!0)},{key:"Ctrl-u",mac:"Cmd-u",preventDefault:!0,run:()=>(T.emit(e,D,"underline"),!0),shift:()=>(T.emit(e,D,"unorderedList"),!0)},{key:"Ctrl-i",mac:"Cmd-i",preventDefault:!0,run:()=>(T.emit(e,D,"italic"),!0),shift:()=>(T.emit(e,Me,"image"),!0)},{key:"Ctrl-1",mac:"Cmd-1",run:()=>(T.emit(e,D,"h1"),!0)},{key:"Ctrl-2",mac:"Cmd-2",run:()=>(T.emit(e,D,"h2"),!0)},{key:"Ctrl-3",mac:"Cmd-3",run:()=>(T.emit(e,D,"h3"),!0)},{key:"Ctrl-4",mac:"Cmd-4",run:()=>(T.emit(e,D,"h4"),!0)},{key:"Ctrl-5",mac:"Cmd-5",run:()=>(T.emit(e,D,"h5"),!0)},{key:"Ctrl-6",mac:"Cmd-6",run:()=>(T.emit(e,D,"h6"),!0)},{key:"Ctrl-ArrowUp",mac:"Cmd-ArrowUp",run:()=>(T.emit(e,D,"sup"),!0)},{key:"Ctrl-ArrowDown",mac:"Cmd-ArrowDown",run:()=>(T.emit(e,D,"sub"),!0)},{key:"Ctrl-o",mac:"Cmd-o",run:()=>(T.emit(e,D,"orderedList"),!0)},{key:"Ctrl-c",mac:"Cmd-c",shift:()=>(T.emit(e,D,"code"),!0),any(r,o){return(o.ctrlKey||o.metaKey)&&o.altKey&&o.code==="KeyC"?(T.emit(e,D,"codeRow"),!0):!1}},{key:"Ctrl-l",mac:"Cmd-l",run:()=>(T.emit(e,Me,"link"),!0)},{key:"Ctrl-f",mac:"Cmd-f",shift:()=>t.noPrettier?!1:(T.emit(e,D,"prettier"),!0)},{any:(r,o)=>(o.ctrlKey||o.metaKey)&&o.altKey&&o.shiftKey&&o.code==="KeyT"?(T.emit(e,D,"table"),!0):!1},...no.Eo],xl=(e,t)=>{const{editorId:r}=(0,d.useContext)(J),o=(0,d.useCallback)(i=>{i instanceof Promise?i.then(n=>{T.emit(r,D,"universal",{generate(){return{targetValue:n}}})}).catch(n=>{console.error(n)}):T.emit(r,D,"universal",{generate(){return{targetValue:i}}})},[r]);return(0,d.useCallback)(i=>{var n,c,a;if(!i.clipboardData)return;if(i.clipboardData.files.length>0){const{files:x}=i.clipboardData;T.emit(r,be,Array.from(x).filter(v=>/image\/.*/.test(v.type))),i.preventDefault();return}const f=i.clipboardData.getData("text/plain"),g=((n=t.current)==null?void 0:n.view.state.selection.main.to)||0,p=((c=t.current)==null?void 0:c.view.state.doc.lineAt(g).from)||0,s=((a=t.current)==null?void 0:a.view.state.doc.sliceString(p,g))||"",u=/!\[.*\]\(\s*$/.test(s),b=/!\[.*\]\((.*)\s?.*\)/.test(f);if(u){const x=e.transformImgUrl(f);o(x),i.preventDefault();return}else if(b){const x=f.match(new RegExp(`(?<=!\\[.*\\]\\()([^)\\s]+)(?=\\s?["']?.*["']?\\))`,"g"));x?Promise.all(x.map(v=>e.transformImgUrl(v))).then(v=>{o(v.reduce((y,h,k)=>y.replace(x[k],h),f))}):o(f),i.preventDefault();return}if(e.autoDetectCode&&i.clipboardData.types.includes("vscode-editor-data")){const x=JSON.parse(i.clipboardData.getData("vscode-editor-data"));T.emit(r,D,"code",{mode:x.mode,text:i.clipboardData.getData("text/plain")}),i.preventDefault();return}e.maxLength&&f.length+e.modelValue.length>e.maxLength&&T.emit(r,ge,{name:"overlength",message:"The input text is too long",data:f})},[t,r,o,e])};ce.Lz.EDIT_CONTEXT=!1;const kl=e=>{const{tabWidth:t,editorId:r,theme:o}=(0,d.useContext)(J),i=(0,d.useRef)(null),n=(0,d.useRef)(),c=(0,d.useRef)(!0),[a]=(0,d.useState)(()=>({language:new ae.xx,theme:new ae.xx,autocompletion:new ae.xx,update:new ae.xx,domEvent:new ae.xx,history:new ae.xx})),[f]=(0,d.useState)(()=>bl(r,e)),g=(0,d.useCallback)(()=>[...f,...xe.pw,...xe.cL,xe.Yc],[f]),p=xl(e,n),[s,u]=(0,d.useState)({}),b=(0,d.useMemo)(()=>{const h={paste:p,blur:e.onBlur,focus:e.onFocus,drop:e.onDrop,input:$=>{e.onInput&&e.onInput($);const{data:w}=$;e.maxLength&&e.modelValue.length+w.length>e.maxLength&&T.emit(r,ge,{name:"overlength",message:"The input text is too long",data:w})}},k=A({},h),C=Object.keys(h);for(const $ in s){const w=$;C.includes(w)?k[w]=(j,I)=>{s[w](j,I),j.defaultPrevented||h[w](j,I)}:k[w]=s[w]}return k},[s,r,p,e]),[x]=(0,d.useState)(()=>[ce.w4.of(g()),a.history.of((0,xe.b6)()),a.language.of((0,oo.markdown)({codeLanguages:ro.e})),ce.Lz.lineWrapping,a.update.of(ce.Lz.updateListener.of(h=>{h.docChanged&&e.onChange(h.state.doc.toString())})),a.domEvent.of(ce.Lz.domEventHandlers(b)),(0,ce.VH)()]),[v]=(0,d.useState)(()=>l.h.codeMirrorExtensions(o,[...x,a.theme.of(o==="light"?Pt:St),a.autocompletion.of(_t(e.completions))],g(),{editorId:r})),y=(0,d.useCallback)(()=>{var h,k;(h=n.current)==null||h.view.dispatch({effects:a.history.reconfigure([])}),(k=n.current)==null||k.view.dispatch({effects:a.history.reconfigure((0,xe.b6)())})},[a.history]);return(0,d.useEffect)(()=>{const h=new ce.Lz({doc:e.modelValue,parent:i.current,extensions:v}),k=new Xo(h);n.current=k,setTimeout(()=>{k.setTabSize(t),k.setDisabled(e.disabled),k.setReadOnly(e.readOnly),e.placeholder&&k.setPlaceholder(e.placeholder),typeof e.maxLength=="number"&&k.setMaxLength(e.maxLength),e.autoFocus&&h.focus(),c.current=!1},0);const C=()=>(0,xe.tN)(h),$=()=>(0,xe.ZS)(h),w=I=>{u(I)},j=(I,N)=>{const F=h.state.doc.line(I);h.dispatch(h.state.update({changes:{from:F.from,to:F.to,insert:N}}))};return T.on(r,{name:Oe,callback:C}),T.on(r,{name:Se,callback:$}),T.on(r,{name:le,callback:w}),T.on(r,{name:ie,callback:j}),()=>{h.destroy(),T.remove(r,Oe,C),T.remove(r,Se,$),T.remove(r,le,w),T.remove(r,ie,j),c.current=!0}},[]),(0,d.useEffect)(()=>{const h=(k,...C)=>_e(void 0,[k,...C],function*($,w={}){var j,I;if($==="image"&&w.transform){const N=e.transformImgUrl(w.url);if(N instanceof Promise)N.then(F=>_e(void 0,null,function*(){var _;const{text:R,options:P}=yield ut($,n.current,L(A({},w),{url:F}));(_=n.current)==null||_.replaceSelectedText(R,P,r)})).catch(F=>{console.error(F)});else{const{text:F,options:_}=yield ut($,n.current,L(A({},w),{url:N}));(j=n.current)==null||j.replaceSelectedText(F,_,r)}}else{const{text:N,options:F}=yield ut($,n.current,w);(I=n.current)==null||I.replaceSelectedText(N,F,r)}});return T.on(r,{name:D,callback:h}),()=>{T.remove(r,D,h)}},[r,e]),(0,d.useEffect)(()=>{setTimeout(()=>{var h;(h=n.current)==null||h.view.dispatch({effects:a.theme.reconfigure(o==="light"?Pt:St)})},0)},[a.theme,o]),(0,d.useEffect)(()=>{setTimeout(()=>{var h;(h=n.current)==null||h.view.dispatch({effects:[a.update.reconfigure(ce.Lz.updateListener.of(k=>{k.docChanged&&e.onChange(k.state.doc.toString())})),a.domEvent.reconfigure(ce.Lz.domEventHandlers(b)),a.autocompletion.reconfigure(_t(e.completions))]})},0)},[a.autocompletion,a.domEvent,a.update,b,e]),(0,d.useEffect)(()=>{var h,k;((h=n.current)==null?void 0:h.getValue())!==e.modelValue&&((k=n.current)==null||k.setValue(e.modelValue))},[e.modelValue]),(0,d.useEffect)(()=>{var h;c.current||(h=n.current)==null||h.setTabSize(t)},[t]),(0,d.useEffect)(()=>{var h;c.current||(h=n.current)==null||h.setPlaceholder(e.placeholder)},[e.placeholder]),(0,d.useEffect)(()=>{var h;c.current||(h=n.current)==null||h.setDisabled(e.disabled)},[e.disabled]),(0,d.useEffect)(()=>{var h;c.current||(h=n.current)==null||h.setDisabled(e.readOnly)},[e.readOnly]),(0,d.useEffect)(()=>{var h;c.current||typeof e.maxLength=="number"&&((h=n.current)==null||h.setMaxLength(e.maxLength))},[e.maxLength]),{inputWrapperRef:i,codeMirrorUt:n,resetHistory:y}},yl=(e,t)=>{const{editorId:r}=(0,d.useContext)(J);(0,d.useEffect)(()=>e.noImgZoomIn?void 0:(()=>{const o=document.querySelectorAll(`#${r}-preview img:not(.not-zoom):not(.medium-zoom-image)`),i=(0,ao.A)(o,{background:"#00000073"});return()=>{i.detach()}})(),[r,t,e.noImgZoomIn,e.setting])},wl=(e,t,r)=>{const{editorId:o,usedLanguageText:i,customIcon:n,rootRef:c}=(0,d.useContext)(J),{formatCopiedText:a=f=>f}=e;(0,d.useEffect)(()=>{var f;e.setting.preview&&((f=c.current)==null||f.querySelectorAll(`#${o} .${l.p}-preview .${l.p}-code`).forEach(g=>{let p=-1;const s=g.querySelector(`.${l.p}-copy-button`);s&&(s.onclick=u=>{u.preventDefault(),clearTimeout(p);const b=(g.querySelector("input:checked + pre code")||g.querySelector("pre code")).textContent,x=io()(a(b)),{text:v,successTips:y,failTips:h}=i.copyCode,k=x?y:h;s.dataset.isIcon?s.dataset.tips=k:s.innerHTML=k,p=window.setTimeout(()=>{s.dataset.isIcon?s.dataset.tips=v:s.innerHTML=v},1500)})}))},[n,o,a,t,r,e.setting.preview,c,i.copyCode])},Cl=e=>{const{highlight:t}=(0,d.useContext)(J),r=(0,d.useRef)(l.h.editorExtensions.highlight.instance),[o,i]=(0,d.useState)(!!r.current);return(0,d.useEffect)(()=>{e.noHighlight||l.h.editorExtensions.highlight.instance||To("link",L(A({},t.css),{rel:"stylesheet",id:`${l.p}-hlCss`}))},[t.css,e.noHighlight]),(0,d.useEffect)(()=>{e.noHighlight||r.current||ue("script",L(A({},t.js),{id:`${l.p}-hljs`,onload(){r.current=window.hljs,i(!0)}}),"hljs")},[]),{hljsRef:r,hljsInited:o}},et=new fo.q({max:1e3,ttl:6e5}),$l=e=>{const{theme:t,rootRef:r}=(0,d.useContext)(J),{noMermaid:o,sanitizeMermaid:i}=e,n=(0,d.useRef)(l.h.editorExtensions.mermaid.instance),[c,a]=(0,d.useState)(-1),f=(0,d.useCallback)(()=>{et.clear();const p=n.current;!o&&p&&(p.initialize(l.h.mermaidConfig({startOnLoad:!1,theme:t==="dark"?"dark":"default"})),a(s=>s+1))},[o,t]);(0,d.useEffect)(f,[f]),(0,d.useEffect)(()=>{var p,s;const{editorExtensions:u,editorExtensionsAttrs:b}=l.h;if(o||n.current)return;const x=u.mermaid.js;/\.mjs/.test(x)?(ue("link",L(A({},(p=b.mermaid)==null?void 0:p.js),{rel:"modulepreload",href:x,id:`${l.p}-mermaid-m`})),import(x).then(v=>{n.current=v.default,f()})):ue("script",L(A({},(s=b.mermaid)==null?void 0:s.js),{src:x,id:`${l.p}-mermaid`,onload(){n.current=window.mermaid,f()}}),"mermaid")},[f,o]);const g=(0,d.useCallback)(()=>_e(void 0,null,function*(){var p;if(!o&&n.current){const s=((p=r.current)==null?void 0:p.querySelectorAll(`div.${l.p}-mermaid`))||[],u=document.createElement("div"),b=document.body.offsetWidth>1366?document.body.offsetWidth:1366,x=document.body.offsetHeight>768?document.body.offsetHeight:768;u.style.width=b+"px",u.style.height=x+"px",u.style.position="fixed",u.style.zIndex="-10000",u.style.top="-10000";let v=s.length;v>0&&document.body.appendChild(u),yield Promise.allSettled(Array.from(s).map(y=>(h=>_e(void 0,null,function*(){var k;let C=et.get(h.innerText);if(!C){const $=(0,he.zE)();let w={svg:""};try{w=yield n.current.render($,h.innerText,u),C=yield i(w.svg);const j=document.createElement("p");j.className=`${l.p}-mermaid`,j.setAttribute("data-processed",""),j.innerHTML=C,(k=j.children[0])==null||k.removeAttribute("height"),et.set(h.innerText,j.innerHTML),h.dataset.line!==void 0&&(j.dataset.line=h.dataset.line),h.replaceWith(j)}catch(j){}--v===0&&u.remove()}}))(y)))}}),[o,r,i]);return{mermaidRef:n,reRender:c,replaceMermaid:g}},Tl=e=>{const t=(0,d.useRef)(l.h.editorExtensions.katex.instance),[r,o]=(0,d.useState)(!!t.current);return(0,d.useEffect)(()=>{if(e.noKatex||t.current)return;const{editorExtensions:i}=l.h;ue("script",{src:i.katex.js,id:`${l.p}-katex`,onload(){t.current=window.katex,o(!0)}},"katex"),ue("link",{rel:"stylesheet",href:i.katex.css,id:`${l.p}-katexCss`})},[e.noKatex]),{katexRef:t,katexInited:r}},El=(e,t)=>{const r=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(o,i,n,c,a)=>{const f=o[i],g=f.content.trim();if(f.info==="mermaid"){let p;o[i].map&&o[i].level===0&&(p=o[i].map[0],o[i].attrSet("data-line",String(p)));const s=et.get(g);return s?`<p class="${l.p}-mermaid" ${p!==void 0?"data-line="+p:""} data-processed>${s}</p>`:`<div class="${l.p}-mermaid" ${p!==void 0?"data-line="+p:""} data-mermaid-theme=${t.themeRef.current}>${g}</div>`}return r(o,i,n,c,a)}},tt=(e,t)=>{const r=e.attrs?e.attrs.slice():[];return t.forEach(o=>{const i=e.attrIndex(o[0]);i<0?r.push(o):(r[i]=r[i].slice(),r[i][1]+=` ${o[1]}`)}),r},jl=(e,t)=>{const r=[{open:"$",close:"$"},{open:"\\(",close:"\\)"}];let o,i,n;for(const c of r)if(e.src.startsWith(c.open,e.pos)){const a=e.pos+c.open.length;for(o=a;(o=e.src.indexOf(c.close,o))!==-1;){for(n=o-1;e.src[n]==="\\";)n-=1;if((o-n)%2==1)break;o+=c.close.length}return o===-1?(t||(e.pending+=c.open),e.pos=a,!0):o-a===0?(t||(e.pending+=c.open+c.close),e.pos=a+c.close.length,!0):(t||(i=e.push("math_inline","math",0),i.markup=c.open,i.content=e.src.slice(a,o)),e.pos=o+c.close.length,!0)}return!1},Al=(e,t,r,o)=>{const i=[{open:"$$",close:"$$"},{open:"\\[",close:"\\]"}];let n,c,a,f,g=!1,p=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];for(const u of i){if(p+u.open.length>s||e.src.slice(p,p+u.open.length)!==u.open)continue;if(p+=u.open.length,n=e.src.slice(p,s),o)return!0;for(n.trim().slice(-u.close.length)===u.close&&(n=n.trim().slice(0,-u.close.length),g=!0),a=t;!g&&(a++,!(a>=r||(p=e.bMarks[a]+e.tShift[a],s=e.eMarks[a],p<s&&e.tShift[a]<e.blkIndent)));)e.src.slice(p,s).trim().slice(-u.close.length)===u.close&&(f=e.src.slice(0,s).lastIndexOf(u.close),c=e.src.slice(p,f),g=!0);e.line=a+1;const b=e.push("math_block","math",0);return b.block=!0,b.content=(n&&n.trim()?n+`
`:"")+e.getLines(t+1,a,e.tShift[t],!0)+(c&&c.trim()?c:""),b.map=[t,e.line],b.markup=u.open,!0}return!1},Il=(e,{katexRef:t})=>{const r=(i,n,c,a,f)=>{const g=i[n],p={attrs:tt(g,[["class",`${l.p}-katex-inline`]])};if(t.current){const s=t.current.renderToString(g.content,l.h.katexConfig({throwOnError:!1}));return`<span ${f.renderAttrs(p)} data-processed>${s}</span>`}else return`<span ${f.renderAttrs(p)}>${g.content}</span>`},o=(i,n,c,a,f)=>{const g=i[n],p={attrs:tt(g,[["class",`${l.p}-katex-block`]])};if(t.current){const s=t.current.renderToString(g.content,l.h.katexConfig({throwOnError:!1,displayMode:!0}));return`<p ${f.renderAttrs(p)} data-processed>${s}</p>`}else return`<p ${f.renderAttrs(p)}>${g.content}</p>`};e.inline.ruler.before("escape","math_inline",jl),e.block.ruler.after("blockquote","math_block",Al,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=r,e.renderer.rules.math_block=o},Nl=(e,t)=>{t=t||{};const r=3,o=t.marker||"!",i=o.charCodeAt(0),n=o.length;let c="",a="";const f=(p,s,u,b,x)=>{const v=p[s];return v.type==="admonition_open"?p[s].attrPush(["class",`${l.p}-admonition ${l.p}-admonition-${v.info}`]):v.type==="admonition_title_open"&&p[s].attrPush(["class",`${l.p}-admonition-title`]),x.renderToken(p,s,u)},g=p=>{const s=p.trim().split(" ",2);a="",c=s[0],s.length>1&&(a=p.substring(c.length+2))};e.block.ruler.before("code","admonition",(p,s,u,b)=>{let x,v,y,h=!1,k=p.bMarks[s]+p.tShift[s],C=p.eMarks[s];if(i!==p.src.charCodeAt(k))return!1;for(x=k+1;x<=C&&o[(x-k)%n]===p.src[x];x++);const $=Math.floor((x-k)/n);if($!==r)return!1;x-=(x-k)%n;const w=p.src.slice(k,x),j=p.src.slice(x,C);if(g(j),b)return!0;for(v=s;v++,!(v>=u||(k=p.bMarks[v]+p.tShift[v],C=p.eMarks[v],k<C&&p.sCount[v]<p.blkIndent));)if(i===p.src.charCodeAt(k)&&!(p.sCount[v]-p.blkIndent>=4)){for(x=k+1;x<=C&&o[(x-k)%n]===p.src[x];x++);if(!(Math.floor((x-k)/n)<$)&&(x-=(x-k)%n,x=p.skipSpaces(x),!(x<C))){h=!0;break}}const I=p.parentType,N=p.lineMax;return p.parentType="root",p.lineMax=v,y=p.push("admonition_open","div",1),y.markup=w,y.block=!0,y.info=c,y.map=[s,v],a&&(y=p.push("admonition_title_open","p",1),y.markup=w+" "+c,y.map=[s,v],y=p.push("inline","",0),y.content=a,y.map=[s,p.line-1],y.children=[],y=p.push("admonition_title_close","p",-1),y.markup=w+" "+c),p.md.block.tokenize(p,s+1,v),y=p.push("admonition_close","div",-1),y.markup=p.src.slice(k,x),y.block=!0,p.parentType=I,p.lineMax=N,p.line=v+(h?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.admonition_open=f,e.renderer.rules.admonition_title_open=f,e.renderer.rules.admonition_title_close=f,e.renderer.rules.admonition_close=f},Sl=(e,t)=>{e.renderer.rules.heading_open=(r,o)=>{var i;const n=r[o],c=((i=r[o+1].children)==null?void 0:i.reduce((f,g)=>f+(["text","code_inline","math_inline"].includes(g.type)&&g.content||""),""))||"",a=n.markup.length;return t.headsRef.current.push({text:c,level:a}),n.map&&n.level===0&&n.attrSet("id",t.mdHeadingId(c,a,t.headsRef.current.length)),e.renderer.renderToken(r,o,t)},e.renderer.rules.heading_close=(r,o,i,n,c)=>c.renderToken(r,o,i)},Ll=(e,t)=>{if(typeof t[e]=="string")return t[e];const r=`<i class="${l.p}-iconfont ${l.p}-icon-${e}"></i>`;switch(l.h.iconfontType){case"svg":return`<svg class="${l.p}-icon" aria-hidden="true"><use xlink:href="#${l.p}-icon-${e}"></use></svg>`;default:return r}},Fl=Ll,Ml=(e,t)=>{const r=e.renderer.rules.fence,o=e.utils.unescapeAll,i=/\[(\w*)(?::([\w ]*))?\]/,n=/::(open|close)/,c=s=>s.info?o(s.info).trim():"",a=s=>{const u=c(s),[b=null,x=""]=(i.exec(u)||[]).slice(1);return[b,x]},f=s=>{const u=c(s);return u?u.split(/(\s+)/g)[0]:""},g=s=>{const u=s.info.match(n)||[],b=u[1]==="open"||u[1]!=="close"&&t.codeFoldable&&s.content.trim().split(`
`).length<t.autoFoldThreshold,x=u[1]||t.codeFoldable?"details":"div",v=u[1]||t.codeFoldable?"summary":"div";return{open:b,tagContainer:x,tagHeader:v}},p=(s,u,b,x,v)=>{if(s[u].hidden)return"";const y=t.usedLanguageTextRef.current.copyCode.text,h=t.customIconRef.current.copy||y,k=!!t.customIconRef.current.copy,C=`<span class="${l.p}-collapse-tips">${Fl("collapse-tips",t.customIconRef.current)}</span>`,[$]=a(s[u]);if($===null){const{open:U,tagContainer:q,tagHeader:B}=g(s[u]),re=[["class",`${l.p}-code`]];U&&re.push(["open",""]);const ne={attrs:tt(s[u],re)};s[u].info=s[u].info.replace(n,"");const oe=r(s,u,b,x,v);return`
        <${q} ${v.renderAttrs(ne)}>
          <${B} class="${l.p}-code-head">
            <div class="${l.p}-code-flag"><span></span><span></span><span></span></div>
            <div class="${l.p}-code-action">
              <span class="${l.p}-code-lang">${s[u].info.trim()}</span>
              <span class="${l.p}-copy-button" data-tips="${y}"${k?" data-is-icon=true":""}>${h}</span>
              ${q==="details"?C:""}
            </div>
          </${B}>
          ${oe}
        </${q}>
      `}let w,j,I,N,F="",_="",R="";const{open:P,tagContainer:K,tagHeader:Z}=g(s[u]),ee=[["class",`${l.p}-code`]];P&&ee.push(["open",""]);const te={attrs:tt(s[u],ee)};for(let U=u;U<s.length&&(w=s[U],[j,I]=a(w),j===$);U++){w.info=w.info.replace(i,"").replace(n,""),w.hidden=!0;const q=`${l.p}-codetab-${t.editorId}-${u}-${U-u}`;N=U-u>0?"":"checked",F+=`
        <li>
          <input
            type="radio"
            id="label-${l.p}-codetab-label-1-${t.editorId}-${u}-${U-u}"
            name="${l.p}-codetab-label-${t.editorId}-${u}"
            class="${q}"
            ${N}
          >
          <label
            for="label-${l.p}-codetab-label-1-${t.editorId}-${u}-${U-u}"
            onclick="this.getRootNode().querySelectorAll('.${q}').forEach(e => e.click())"
          >
            ${I||f(w)}
          </label>
        </li>`,_+=`
        <div role="tabpanel">
          <input
            type="radio"
            name="${l.p}-codetab-pre-${t.editorId}-${u}"
            class="${q}"
            ${N}
            role="presentation">
          ${r(s,U,b,x,v)}
        </div>`,R+=`
        <input
          type="radio"
          name="${l.p}-codetab-lang-${t.editorId}-${u}"
          class="${q}"
          ${N}
          role="presentation">
        <span class=${l.p}-code-lang role="note">${f(w)}</span>`}return`
      <${K} ${v.renderAttrs(te)}>
        <${Z} class="${l.p}-code-head">
          <div class="${l.p}-code-flag">
            <ul class="${l.p}-codetab-label" role="tablist">${F}</ul>
          </div>
          <div class="${l.p}-code-action">
            <span class="${l.p}-codetab-lang">${R}</span>
            <span class="${l.p}-copy-button" data-tips="${y}"${k?" data-is-icon=true":""}>${h}</span>
            ${K==="details"?C:""}
          </div>
        </${Z}>
        ${_}
      </${K}>
    `};e.renderer.rules.fence=p,e.renderer.rules.code_block=p};function Ol(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pt={exports:{}},X={},ft={exports:{}},je={};function Dt(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Rl(e,t,r){}function Pl(e,t,r){}var Hl=/javascript\s*\:/img;function _l(e,t){return Hl.test(t)?"":t}je.whiteList=Dt(),je.getDefaultWhiteList=Dt,je.onAttr=Rl,je.onIgnoreAttr=Pl,je.safeAttrValue=_l;var Dl={indexOf:function(e,t){var r,o;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var o,i;if(Array.prototype.forEach)return e.forEach(t,r);for(o=0,i=e.length;o<i;o++)t.call(r,e[o],o,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ve=Dl;function Bl(e,t){e=Ve.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,o=!1,i=0,n=0,c="";function a(){if(!o){var p=Ve.trim(e.slice(i,n)),s=p.indexOf(":");if(s!==-1){var u=Ve.trim(p.slice(0,s)),b=Ve.trim(p.slice(s+1));if(u){var x=t(i,c.length,u,b,p);x&&(c+=x+"; ")}}}i=n+1}for(;n<r;n++){var f=e[n];if(f==="/"&&e[n+1]==="*"){var g=e.indexOf("*/",n+2);if(g===-1)break;n=g+1,i=n+1,o=!1}else f==="("?o=!0:f===")"?o=!1:f===";"?o||a():f===`
`&&a()}return Ve.trim(c)}var zl=Bl,rt=je,Vl=zl;function Bt(e){return e==null}function Wl(e){var t={};for(var r in e)t[r]=e[r];return t}function zt(e){e=Wl(e||{}),e.whiteList=e.whiteList||rt.whiteList,e.onAttr=e.onAttr||rt.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||rt.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||rt.safeAttrValue,this.options=e}zt.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,o=r.whiteList,i=r.onAttr,n=r.onIgnoreAttr,c=r.safeAttrValue,a=Vl(e,function(f,g,p,s,u){var b=o[p],x=!1;if(b===!0?x=b:typeof b=="function"?x=b(s):b instanceof RegExp&&(x=b.test(s)),x!==!0&&(x=!1),s=c(p,s),!!s){var v={position:g,sourcePosition:f,source:u,isWhite:x};if(x){var y=i(p,s,v);return Bt(y)?p+":"+s:y}else{var y=n(p,s,v);if(!Bt(y))return y}}});return a};var Ul=zt;(function(e,t){var r=je,o=Ul;function i(c,a){var f=new o(a);return f.process(c)}t=e.exports=i,t.FilterCSS=o;for(var n in r)t[n]=r[n];typeof window<"u"&&(window.filterCSS=e.exports)})(ft,ft.exports);var ht=ft.exports,gt={indexOf:function(e,t){var r,o;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var o,i;if(Array.prototype.forEach)return e.forEach(t,r);for(o=0,i=e.length;o<i;o++)t.call(r,e[o],o,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},Gl=ht.FilterCSS,ql=ht.getDefaultWhiteList,ot=gt;function Vt(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Wt=new Gl;function Kl(e,t,r){}function Xl(e,t,r){}function Zl(e,t,r){}function Yl(e,t,r){}function Ut(e){return e.replace(Jl,"&lt;").replace(en,"&gt;")}function Ql(e,t,r,o){if(r=Jt(r),t==="href"||t==="src"){if(r=ot.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(lt.lastIndex=0,lt.test(r))return""}else if(t==="style"){if(Gt.lastIndex=0,Gt.test(r)||(qt.lastIndex=0,qt.test(r)&&(lt.lastIndex=0,lt.test(r))))return"";o!==!1&&(o=o||Wt,r=o.process(r))}return r=er(r),r}var Jl=/</g,en=/>/g,tn=/"/g,rn=/&quot;/g,on=/&#([a-zA-Z0-9]*);?/gim,ln=/&colon;?/gim,nn=/&newline;?/gim,lt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Gt=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,qt=/u\s*r\s*l\s*\(.*/gi;function Kt(e){return e.replace(tn,"&quot;")}function Xt(e){return e.replace(rn,'"')}function Zt(e){return e.replace(on,function(t,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function Yt(e){return e.replace(ln,":").replace(nn," ")}function Qt(e){for(var t="",r=0,o=e.length;r<o;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return ot.trim(t)}function Jt(e){return e=Xt(e),e=Zt(e),e=Yt(e),e=Qt(e),e}function er(e){return e=Kt(e),e=Ut(e),e}function an(){return""}function sn(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function o(c){return r?!0:ot.indexOf(e,c)!==-1}var i=[],n=!1;return{onIgnoreTag:function(c,a,f){if(o(c))if(f.isClosing){var g="[/removed]",p=f.position+g.length;return i.push([n!==!1?n:f.position,p]),n=!1,g}else return n||(n=f.position),"[removed]";else return t(c,a,f)},remove:function(c){var a="",f=0;return ot.forEach(i,function(g){a+=c.slice(f,g[0]),f=g[1]}),a+=c.slice(f),a}}}function cn(e){for(var t="",r=0;r<e.length;){var o=e.indexOf("<!--",r);if(o===-1){t+=e.slice(r);break}t+=e.slice(r,o);var i=e.indexOf("-->",o);if(i===-1)break;r=i+3}return t}function un(e){var t=e.split("");return t=t.filter(function(r){var o=r.charCodeAt(0);return o===127?!1:o<=31?o===10||o===13:!0}),t.join("")}X.whiteList=Vt(),X.getDefaultWhiteList=Vt,X.onTag=Kl,X.onIgnoreTag=Xl,X.onTagAttr=Zl,X.onIgnoreTagAttr=Yl,X.safeAttrValue=Ql,X.escapeHtml=Ut,X.escapeQuote=Kt,X.unescapeQuote=Xt,X.escapeHtmlEntities=Zt,X.escapeDangerHtml5Entities=Yt,X.clearNonPrintableCharacter=Qt,X.friendlyAttrValue=Jt,X.escapeAttrValue=er,X.onIgnoreTagStripAll=an,X.StripTagBody=sn,X.stripCommentTag=cn,X.stripBlankChar=un,X.attributeWrapSign='"',X.cssFilter=Wt,X.getDefaultCSSWhiteList=ql;var nt={},we=gt;function dn(e){var t=we.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=we.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function mn(e){return e.slice(0,2)==="</"}function pn(e,t,r){var o="",i=0,n=!1,c=!1,a=0,f=e.length,g="",p="";e:for(a=0;a<f;a++){var s=e.charAt(a);if(n===!1){if(s==="<"){n=a;continue}}else if(c===!1){if(s==="<"){o+=r(e.slice(i,a)),n=a,i=a;continue}if(s===">"||a===f-1){o+=r(e.slice(i,n)),p=e.slice(n,a+1),g=dn(p),o+=t(n,o.length,g,p,mn(p)),i=a+1,n=!1;continue}if(s==='"'||s==="'")for(var u=1,b=e.charAt(a-u);b.trim()===""||b==="=";){if(b==="="){c=s;continue e}b=e.charAt(a-++u)}}else if(s===c){c=!1;continue}}return i<f&&(o+=r(e.substr(i))),o}var fn=/[^a-zA-Z0-9\\_:.-]/gim;function hn(e,t){var r=0,o=0,i=[],n=!1,c=e.length;function a(u,b){if(u=we.trim(u),u=u.replace(fn,"").toLowerCase(),!(u.length<1)){var x=t(u,b||"");x&&i.push(x)}}for(var f=0;f<c;f++){var g=e.charAt(f),p,s;if(n===!1&&g==="="){n=e.slice(r,f),r=f+1,o=e.charAt(r)==='"'||e.charAt(r)==="'"?r:vn(e,f+1);continue}if(n!==!1&&f===o){if(s=e.indexOf(g,f+1),s===-1)break;p=we.trim(e.slice(o+1,s)),a(n,p),n=!1,f=s,r=f+1;continue}if(/\s|\n|\t/.test(g))if(e=e.replace(/\s|\n|\t/g," "),n===!1)if(s=gn(e,f),s===-1){p=we.trim(e.slice(r,f)),a(p),n=!1,r=f+1;continue}else{f=s-1;continue}else if(s=bn(e,f-1),s===-1){p=we.trim(e.slice(r,f)),p=tr(p),a(n,p),n=!1,r=f+1;continue}else continue}return r<e.length&&(n===!1?a(e.slice(r)):a(n,tr(we.trim(e.slice(r))))),we.trim(i.join(" "))}function gn(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function vn(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function bn(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function xn(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function tr(e){return xn(e)?e.substr(1,e.length-2):e}nt.parseTag=pn,nt.parseAttr=hn;var kn=ht.FilterCSS,pe=X,rr=nt,yn=rr.parseTag,wn=rr.parseAttr,at=gt;function st(e){return e==null}function Cn(e){var t=at.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=at.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=at.trim(e.slice(0,-1))),{html:e,closing:r}}function $n(e){var t={};for(var r in e)t[r]=e[r];return t}function Tn(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(o){return o.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function or(e){e=$n(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=pe.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=Tn(e.whiteList||e.allowList):e.whiteList=pe.whiteList,this.attributeWrapSign=e.singleQuotedAttributeValue===!0?"'":pe.attributeWrapSign,e.onTag=e.onTag||pe.onTag,e.onTagAttr=e.onTagAttr||pe.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||pe.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||pe.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||pe.safeAttrValue,e.escapeHtml=e.escapeHtml||pe.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new kn(e.css))}or.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,o=r.whiteList,i=r.onTag,n=r.onIgnoreTag,c=r.onTagAttr,a=r.onIgnoreTagAttr,f=r.safeAttrValue,g=r.escapeHtml,p=t.attributeWrapSign,s=t.cssFilter;r.stripBlankChar&&(e=pe.stripBlankChar(e)),r.allowCommentTag||(e=pe.stripCommentTag(e));var u=!1;r.stripIgnoreTagBody&&(u=pe.StripTagBody(r.stripIgnoreTagBody,n),n=u.onIgnoreTag);var b=yn(e,function(x,v,y,h,k){var C={sourcePosition:x,position:v,isClosing:k,isWhite:Object.prototype.hasOwnProperty.call(o,y)},$=i(y,h,C);if(!st($))return $;if(C.isWhite){if(C.isClosing)return"</"+y+">";var w=Cn(h),j=o[y],I=wn(w.html,function(N,F){var _=at.indexOf(j,N)!==-1,R=c(y,N,F,_);return st(R)?_?(F=f(y,N,F,s),F?N+"="+p+F+p:N):(R=a(y,N,F,_),st(R)?void 0:R):R});return h="<"+y,I&&(h+=" "+I),w.closing&&(h+=" /"),h+=">",h}else return $=n(y,h,C),st($)?g(h):$},g);return u&&(b=u.remove(b)),b};var En=or;(function(e,t){var r=X,o=nt,i=En;function n(a,f){var g=new i(f);return g.process(a)}t=e.exports=n,t.filterXSS=n,t.FilterXSS=i,function(){for(var a in r)t[a]=r[a];for(var f in o)t[f]=o[f]}(),typeof window<"u"&&(window.filterXSS=e.exports);function c(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}c()&&(self.filterXSS=e.exports)})(pt,pt.exports);var We=pt.exports;const jn=Ol(We),An=Co({__proto__:null,default:jn},[We]),lr={img:["class"],input:["class","disabled","type","checked"],iframe:["class","width","height","src","title","border","frameborder","framespacing","allow","allowfullscreen"]},In=(e,t)=>{const{extendedWhiteList:r={},xss:o={}}=t;let i;if(typeof o=="function")i=new We.FilterXSS(o(An));else{const n=We.getDefaultWhiteList();[...Object.keys(r),...Object.keys(lr)].forEach(c=>{const a=n[c]||[],f=lr[c]||[],g=r[c]||[];n[c]=[...new Set([...a,...f,...g])]}),i=new We.FilterXSS(A({whiteList:n},o))}e.core.ruler.after("linkify","xss",n=>{for(let c=0;c<n.tokens.length;c++){const a=n.tokens[c];switch(a.type){case"html_block":{a.content=i.process(a.content);break}case"inline":{(a.children||[]).forEach(f=>{f.type==="html_inline"&&(f.content=i.process(f.content))});break}}}})},nr=(e,t,r)=>{const o=e.attrIndex(t),i=[t,r];o<0?e.attrPush(i):(e.attrs=e.attrs||[],e.attrs[o]=i)},Nn=e=>e.type==="inline",Sn=e=>e.type==="paragraph_open",Ln=e=>e.type==="list_item_open",Fn=e=>e.content.indexOf("[ ] ")===0||e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0,Mn=(e,t)=>Nn(e[t])&&Sn(e[t-1])&&Ln(e[t-2])&&Fn(e[t]),On=(e,t)=>{const r=e[t].level-1;for(let o=t-1;o>=0;o--)if(e[o].level===r)return o;return-1},Rn=e=>{const t=new e("html_inline","",0);return t.content="<label>",t},Pn=e=>{const t=new e("html_inline","",0);return t.content="</label>",t},Hn=(e,t,r)=>{const o=new r("html_inline","",0);return o.content='<label class="task-list-item-label" for="'+t+'">'+e+"</label>",o.attrs=[{for:t}],o},_n=(e,t,r)=>{const o=new t("html_inline","",0),i=r.enabled?" ":' disabled="" ';return e.content.indexOf("[ ] ")===0?o.content='<input class="task-list-item-checkbox"'+i+'type="checkbox">':(e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0)&&(o.content='<input class="task-list-item-checkbox" checked=""'+i+'type="checkbox">'),o},Dn=(e,t,r)=>{if(e.children=e.children||[],e.children.unshift(_n(e,t,r)),e.children[1].content=e.children[1].content.slice(3),e.content=e.content.slice(3),r.label)if(r.labelAfter){e.children.pop();const o="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);e.children[0].content=e.children[0].content.slice(0,-1)+' id="'+o+'">',e.children.push(Hn(e.content,o,t))}else e.children.unshift(Rn(t)),e.children.push(Pn(t))},Bn=(e,t={})=>{e.core.ruler.after("inline","github-task-lists",r=>{const o=r.tokens;for(let i=2;i<o.length;i++)Mn(o,i)&&(Dn(o[i],r.Token,t),nr(o[i-2],"class","task-list-item"+(t.enabled?" enabled":" ")),nr(o[On(o,i-2)],"class","contains-task-list"))})},zn=e=>{e.core.ruler.push("init-line-number",t=>(t.tokens.forEach(r=>{r.map&&(r.attrs||(r.attrs=[]),r.attrs.push(["data-line",r.map[0].toString()]))}),!0))},Vn=(e,t)=>{const{modelValue:r,sanitize:o,mdHeadingId:i,codeFoldable:n,autoFoldThreshold:c,noKatex:a,noMermaid:f,noHighlight:g,setting:p,onHtmlChanged:s,onGetCatalog:u}=e,{editorConfig:b,markdownItConfig:x,markdownItPlugins:v}=l.h,{editorId:y,language:h,showCodeRowNumber:k,theme:C,usedLanguageText:$,customIcon:w,rootRef:j}=(0,d.useContext)(J),I=(0,d.useRef)([]),N=(0,d.useRef)(C);(0,d.useEffect)(()=>{N.current=C},[C]);const F=(0,d.useRef)($);(0,d.useEffect)(()=>{F.current=$},[$]);const _=(0,d.useRef)(w);(0,d.useEffect)(()=>{_.current=w},[w]);const{hljsRef:R,hljsInited:P}=Cl(e),{katexRef:K,katexInited:Z}=Tl(e),{reRender:ee,replaceMermaid:te}=$l(e),[U]=(0,d.useState)(()=>{const O=(0,co.A)({html:!0,breaks:!0,linkify:!0});x(O,{editorId:y});const Y=[{type:"image",plugin:uo.A,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:Nl,options:{}},{type:"taskList",plugin:Bn,options:{}},{type:"heading",plugin:Sl,options:{mdHeadingId:i,headsRef:I}},{type:"code",plugin:Ml,options:{editorId:y,usedLanguageTextRef:F,codeFoldable:n,autoFoldThreshold:c,customIconRef:_}},{type:"xss",plugin:In,options:{}},{type:"sub",plugin:mo.A,options:{}},{type:"sup",plugin:po.A,options:{}}];a||Y.push({type:"katex",plugin:Il,options:{katexRef:K}}),f||Y.push({type:"mermaid",plugin:El,options:{themeRef:N}}),v(Y,{editorId:y}).forEach(V=>{O.use(V.plugin,V.options)});const Q=O.options.highlight;return O.set({highlight:(V,se,fe)=>{if(Q){const Ue=Q(V,se,fe);if(Ue)return Ue}let de;!g&&R.current?R.current.getLanguage(se)?de=R.current.highlight(V,{language:se,ignoreIllegals:!0}).value:de=R.current.highlightAuto(V).value:de=U.utils.escapeHtml(V);const Ae=k?Kr(de.replace(/^\n+|\n+$/g,""),V.replace(/^\n+|\n+$/g,"")):`<span class="${l.p}-code-block">${de.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${se}" language=${se}>${Ae}</code></pre>`}}),zn(O),O}),[q,B]=(0,d.useState)(`_article-key_${(0,he.zE)()}`),[re,ne]=(0,d.useState)(()=>(I.current=[],o(U.render(r)))),oe=(0,d.useMemo)(()=>(g||P)&&(a||Z),[P,Z,g,a]),S=(0,d.useRef)(!0),M=(0,d.useCallback)(()=>{I.current=[];const O=o(U.render(r));ne(O)},[U,r,o]);return(0,d.useEffect)(()=>{T.emit(y,ve,re),s==null||s(re),u==null||u(I.current),T.emit(y,Ee,I.current)},[y,re,q,u,s]),(0,d.useEffect)(()=>{p.preview&&(te().then(()=>{wt(j==null?void 0:j.current.querySelectorAll(`#${y} .${l.p}-mermaid`))}),T.emit(y,Ee,I.current))},[y,te,j,p.preview]),(0,d.useEffect)(()=>{if(S.current){S.current=!1;return}const O=setTimeout(()=>{M()},t?0:b.renderDelay);return()=>{clearTimeout(O)}},[oe,C,M,h,t,b.renderDelay]),(0,d.useEffect)(()=>{te().then(()=>{wt(j==null?void 0:j.current.querySelectorAll(`#${y} .${l.p}-mermaid`))})},[y,re,q,ee,te,j]),(0,d.useEffect)(()=>{const O=()=>{T.emit(y,Ee,I.current)};return T.on(y,{name:Re,callback:O}),()=>{T.remove(y,Re,O)}},[y]),(0,d.useEffect)(()=>{const O=()=>{B(`_article-key_${(0,he.zE)()}`),M()};return T.on(y,{name:z,callback:O}),()=>{T.remove(y,z,O)}},[y,M]),{html:re,key:q}},Wn=(e,t,r)=>{const[o,i]=(0,d.useState)({width:e.inputBoxWitdh}),[n,c]=(0,d.useState)({left:e.inputBoxWitdh}),[a,f]=(0,d.useState)(e.setting.preview||e.setting.htmlPreview),g=(0,d.useRef)(e.inputBoxWitdh);return(0,d.useEffect)(()=>{var p,s,u,b;const x=((p=t.current)==null?void 0:p.offsetWidth)||0,v=((s=t.current)==null?void 0:s.getBoundingClientRect().x)||0,y=C=>{var $;let w=C.x-v;w<l.M?w=l.M:w>x-l.M&&(w=x-l.M);const j=`${w}px`;i(I=>L(A({},I),{width:j})),c(I=>L(A({},I),{left:j})),g.current=j,($=e.onInputBoxWitdhChange)==null||$.call(e,j)},h=()=>{c(C=>A({},C)),document.addEventListener("mousemove",y)},k=()=>{c(C=>A({},C)),document.removeEventListener("mousemove",y)};return(u=r.current)==null||u.addEventListener("mousedown",h),(b=r.current)==null||b.addEventListener("mouseup",k),()=>{var C,$;(C=r.current)==null||C.removeEventListener("mousedown",h),($=r.current)==null||$.removeEventListener("mouseup",k)}},[t,e,r]),(0,d.useEffect)(()=>{e.inputBoxWitdh&&(g.current=e.inputBoxWitdh,i(p=>L(A({},p),{width:e.inputBoxWitdh})),c(p=>L(A({},p),{left:e.inputBoxWitdh})))},[e.inputBoxWitdh]),(0,d.useEffect)(()=>{const p=e.setting.previewOnly;let s="",u="",b=!1;p?(s="0%",u="none",b=!0):!e.setting.htmlPreview&&!e.setting.preview?(s="100%",u="none",b=!1):(s=g.current,u="initial",b=!0),f(b),i(x=>L(A({},x),{width:s})),c(x=>L(A({},x),{display:u}))},[e.setting.htmlPreview,e.setting.preview,e.setting.previewOnly]),{inputWrapperStyle:o,resizeOperateStyle:n,showPreviewWrapper:a}},ar={checked:{regexp:/- \[x\]/,value:"- [ ]"},unChecked:{regexp:/- \[\s\]/,value:"- [x]"}},Un=(e,t)=>{const{editorId:r,rootRef:o}=(0,d.useContext)(J);(0,d.useEffect)(()=>{var i;const n=((i=o.current)==null?void 0:i.querySelectorAll(".task-list-item.enabled"))||[],c=a=>{var f;a.preventDefault();const g=a.target.checked?"unChecked":"checked",p=(f=a.target.parentElement)==null?void 0:f.dataset.line;if(!p)return;const s=Number(p),u=e.modelValue.split(`
`),b=u[Number(s)].replace(ar[g].regexp,ar[g].value);e.previewOnly?(u[Number(s)]=b,e.onChange(u.join(`
`))):T.emit(r,ie,s+1,b)};return n.forEach(a=>{a.addEventListener("click",c)}),()=>{n.forEach(a=>{a.removeEventListener("click",c)})}},[r,t,e,o])},Gn=e=>{const{previewOnly:t=!1}=e,{editorId:r,previewTheme:o,showCodeRowNumber:i}=(0,d.useContext)(J),{html:n,key:c}=Vn(e,!!t);wl(e,n,c),yl(e,n),Un(e,n);const a=(0,d.useMemo)(()=>(0,m.jsx)("div",{id:`${r}-preview`,className:me([`${l.p}-preview`,`${o}-theme`,i&&`${l.p}-scrn`]),dangerouslySetInnerHTML:{__html:n}},c),[r,n,c,o,i]);return(0,m.jsxs)(m.Fragment,{children:[e.setting.preview&&(0,m.jsx)("div",{id:`${r}-preview-wrapper`,className:`${l.p}-preview-wrapper`,children:a},"content-preview-wrapper"),!t&&e.setting.htmlPreview&&(0,m.jsx)("div",{id:`${r}-html-wrapper`,className:`${l.p}-preview-wrapper`,children:(0,m.jsx)("div",{className:`${l.p}-html`,children:n})},"html-preview-wrapper")]})},qn=(0,d.forwardRef)((e,t)=>{const{onHtmlChanged:r}=e,{editorId:o}=(0,d.useContext)(J),[i,n]=(0,d.useState)(""),c=(0,d.useRef)(null),a=(0,d.useRef)(null),f=(0,d.useCallback)(v=>{n(v),r==null||r(v)},[r]),{inputWrapperRef:g,codeMirrorUt:p,resetHistory:s}=kl(e),{inputWrapperStyle:u,resizeOperateStyle:b,showPreviewWrapper:x}=Wn(e,c,a);return Ko(e,i,p),(0,d.useImperativeHandle)(t,()=>({getSelectedText(){var v;return(v=p.current)==null?void 0:v.getSelectedText()},focus(v){var y;(y=p.current)==null||y.focus(v)},resetHistory:s,getEditorView(){var v;return(v=p.current)==null?void 0:v.view}}),[p,s]),(0,m.jsxs)("div",{className:`${l.p}-content${x?" has-preview":""}`,ref:c,children:[(0,m.jsx)("div",{className:`${l.p}-input-wrapper`,style:u,ref:g}),(e.setting.htmlPreview||e.setting.preview)&&(0,m.jsx)("div",{className:`${l.p}-resize-operate`,style:b,ref:a}),x&&(0,m.jsx)(Gn,{modelValue:e.modelValue,onChange:e.onChange,setting:e.setting,onHtmlChanged:f,onGetCatalog:e.onGetCatalog,mdHeadingId:e.mdHeadingId,noMermaid:e.noMermaid,sanitize:e.sanitize,noKatex:e.noKatex,formatCopiedText:e.formatCopiedText,noHighlight:e.noHighlight,noImgZoomIn:e.noImgZoomIn,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold},"display-editor"),e.catalogVisible&&(0,m.jsx)(to,{theme:e.theme,className:`${l.p}-catalog-editor`,editorId:o,mdHeadingId:e.mdHeadingId,scrollElementOffsetTop:2},"internal-catalog")]})}),Kn=d.memo(qn),Xn=({modelValue:e})=>{const{usedLanguageText:t}=(0,d.useContext)(J);return(0,d.useMemo)(()=>{var r;return(0,m.jsxs)("div",{className:`${l.p}-footer-item`,children:[(0,m.jsx)("label",{className:`${l.p}-footer-label`,children:`${(r=t.footer)==null?void 0:r.markdownTotal}:`}),(0,m.jsx)("span",{children:e.length||0})]})},[t,e])},Zn=e=>(0,m.jsx)("div",{className:me([`${l.p}-checkbox`,e.checked&&`${l.p}-checkbox-checked`]),onClick:()=>{e.onChange(!e.checked)}}),Yn=e=>{var t;const{usedLanguageText:r}=(0,d.useContext)(J);return(0,d.useMemo)(()=>{var o;return(0,m.jsxs)("div",{className:`${l.p}-footer-item`,children:[(0,m.jsx)("label",{className:`${l.p}-footer-label`,onClick:()=>{e.onScrollAutoChange(!e.scrollAuto)},children:(o=r.footer)==null?void 0:o.scrollAuto}),(0,m.jsx)(Zn,{checked:e.scrollAuto,onChange:e.onScrollAutoChange})]})},[(t=r.footer)==null?void 0:t.scrollAuto,e])},Qn=e=>{const t=(0,d.useCallback)(i=>{if(l.d.includes(i))switch(i){case"markdownTotal":return(0,m.jsx)(Xn,{modelValue:e.modelValue},"markdown-total");case"scrollSwitch":return!e.noScrollAuto&&(0,m.jsx)(Yn,{scrollAuto:e.scrollAuto,onScrollAutoChange:e.onScrollAutoChange},"scroll-auto")}else return e.defFooters[i]||""},[e.modelValue,e.noScrollAuto,e.scrollAuto,e.onScrollAutoChange,e.defFooters]),[r,o]=(0,d.useMemo)(()=>{const i=e.footers.indexOf("="),n=i===-1?e.footers:e.footers.slice(0,i),c=i===-1?[]:e.footers.slice(i,Number.MAX_SAFE_INTEGER);return[n.map(a=>t(a)),c.map(a=>t(a))]},[e.footers,t]);return(0,m.jsxs)("div",{className:`${l.p}-footer`,children:[(0,m.jsx)("div",{className:`${l.p}-footer-left`,children:r}),(0,m.jsx)("div",{className:`${l.p}-footer-right`,children:o})]})},Jn=d.memo(Qn),J=(0,d.createContext)({editorId:"",tabWidth:2,theme:"light",language:"zh-CN",highlight:{css:"",js:""},showCodeRowNumber:!1,usedLanguageText:l.s["zh-CN"],previewTheme:"default",customIcon:{},rootRef:null}),ea=(0,d.forwardRef)((e,t)=>{const{modelValue:r=l.f.modelValue,theme:o=l.f.theme,codeTheme:i=l.f.codeTheme,className:n=l.f.className,toolbars:c=l.f.toolbars,toolbarsExclude:a=l.f.toolbarsExclude,defToolbars:f=l.f.defToolbars,tabWidth:g=l.f.tabWidth,showCodeRowNumber:p=l.f.showCodeRowNumber,previewTheme:s=l.f.previewTheme,noPrettier:u=l.f.noPrettier,tableShape:b=l.f.tableShape,noMermaid:x=l.f.noMermaid,noKatex:v=l.f.noKatex,placeholder:y=l.f.placeholder,onChange:h=l.f.onChange,onHtmlChanged:k=l.f.onHtmlChanged,onGetCatalog:C=l.f.onGetCatalog,sanitize:$=l.f.sanitize,onError:w=l.f.onError,mdHeadingId:j=l.f.mdHeadingId,footers:I=l.f.footers,defFooters:N=l.f.defFooters,noIconfont:F=l.f.noIconfont,noUploadImg:_=l.f.noUploadImg,noHighlight:R=l.f.noHighlight,noImgZoomIn:P=l.f.noImgZoomIn,language:K=l.f.language,inputBoxWitdh:Z=l.f.inputBoxWitdh,sanitizeMermaid:ee=l.f.sanitizeMermaid,transformImgUrl:te=l.f.transformImgUrl,codeFoldable:U=l.f.codeFoldable,autoFoldThreshold:q=l.f.autoFoldThreshold}=e,[B]=(0,d.useState)(()=>({editorId:e.editorId||Zr(l.g+"_"),noKatex:v,noMermaid:x,noPrettier:u,noUploadImg:_,noIconfont:F,noHighlight:R})),[re,ne]=(0,d.useState)(()=>({scrollAuto:e.scrollAuto===void 0?!0:e.scrollAuto})),oe=(0,d.useRef)(null),S=(0,d.useRef)(),M=(0,d.useCallback)(fe=>{ne(de=>L(A({},de),{scrollAuto:fe}))},[ne]);jo(e,B),Ao(B),So(e,B),No(B.editorId,w);const O=Lo(e,B),[Y,Q,V,se]=Fo(e);return Mo(t,B,O,V,se,S),(0,d.useEffect)(()=>()=>{T.clear(B.editorId)},[B.editorId]),(0,m.jsx)(J.Provider,{value:{editorId:B.editorId,tabWidth:g,theme:o,language:K,highlight:Y,showCodeRowNumber:p,usedLanguageText:Q,previewTheme:s,customIcon:e.customIcon||{},rootRef:oe},children:(0,m.jsxs)("div",{id:B.editorId,className:me([l.p,!!n&&n,o==="dark"&&`${l.p}-dark`,(V.fullscreen||V.pageFullscreen)&&`${l.p}-fullscreen`]),style:e.style,ref:oe,children:[c.length>0&&(0,m.jsx)(qo,{noPrettier:B.noPrettier,toolbars:c,toolbarsExclude:a,setting:V,updateSetting:se,tableShape:b,defToolbars:f,noUploadImg:B.noUploadImg,showToolbarName:e.showToolbarName,catalogVisible:O,codeTheme:i}),(0,m.jsx)(Kn,{ref:S,modelValue:r,onChange:h,setting:V,mdHeadingId:j,onHtmlChanged:k,onGetCatalog:C,sanitize:$,noMermaid:B.noMermaid,noPrettier:B.noPrettier,noHighlight:B.noHighlight,placeholder:y,noKatex:B.noKatex,scrollAuto:re.scrollAuto,formatCopiedText:e.formatCopiedText,autoFocus:e.autoFocus,disabled:e.disabled,readOnly:e.readOnly,maxLength:e.maxLength,autoDetectCode:e.autoDetectCode,onBlur:e.onBlur,onFocus:e.onFocus,onInput:e.onInput,completions:e.completions,catalogVisible:O,theme:e.theme,noImgZoomIn:P,onDrop:e.onDrop,inputBoxWitdh:Z,onInputBoxWitdhChange:e.onInputBoxWitdhChange,sanitizeMermaid:ee,transformImgUrl:te,codeFoldable:U,autoFoldThreshold:q}),I.length>0&&(0,m.jsx)(Jn,{modelValue:r,footers:I,defFooters:N,noScrollAuto:!V.preview&&!V.htmlPreview||V.previewOnly,scrollAuto:re.scrollAuto,onScrollAutoChange:M})]})})})},35156:($e,Ie,G)=>{G.d(Ie,{M:()=>Re,b:()=>D,c:()=>Ee,d:()=>be,f:()=>Oe,g:()=>T,h:()=>Se,j:()=>ve,p:()=>ct,s:()=>Me});var m=G(62533),d=Object.defineProperty,l=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,Ge=(z,le,ie)=>le in z?d(z,le,{enumerable:!0,configurable:!0,writable:!0,value:ie}):z[le]=ie,qe=(z,le)=>{for(var ie in le||(le={}))he.call(le,ie)&&Ge(z,ie,le[ie]);if(l)for(var ie of l(le))it.call(le,ie)&&Ge(z,ie,le[ie]);return z};const ct="md-editor",T="md-editor-rt",Te="https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.js",Ne="https://at.alicdn.com/t/c/font_2605852_cmafimm6hot.css",W="https://unpkg.com",Ke=`${W}/@highlightjs/cdn-assets@11.10.0/highlight.min.js`,Fe={main:`${W}/prettier@3.3.3/standalone.js`,markdown:`${W}/prettier@3.3.3/plugins/markdown.js`},Xe={css:`${W}/cropperjs@1.6.2/dist/cropper.min.css`,js:`${W}/cropperjs@1.6.2/dist/cropper.min.js`},Ze=`${W}/screenfull@5.2.0/dist/screenfull.js`,Ye=`${W}/mermaid@11.3.0/dist/mermaid.min.js`,Qe={js:`${W}/katex@0.16.11/dist/katex.min.js`,css:`${W}/katex@0.16.11/dist/katex.min.css`},ve={a11y:{light:`${W}/@highlightjs/cdn-assets@11.10.0/styles/a11y-light.min.css`,dark:`${W}/@highlightjs/cdn-assets@11.10.0/styles/a11y-dark.min.css`},atom:{light:`${W}/@highlightjs/cdn-assets@11.10.0/styles/atom-one-light.min.css`,dark:`${W}/@highlightjs/cdn-assets@11.10.0/styles/atom-one-dark.min.css`},github:{light:`${W}/@highlightjs/cdn-assets@11.10.0/styles/github.min.css`,dark:`${W}/@highlightjs/cdn-assets@11.10.0/styles/github-dark.min.css`},gradient:{light:`${W}/@highlightjs/cdn-assets@11.10.0/styles/gradient-light.min.css`,dark:`${W}/@highlightjs/cdn-assets@11.10.0/styles/gradient-dark.min.css`},kimbie:{light:`${W}/@highlightjs/cdn-assets@11.10.0/styles/kimbie-light.min.css`,dark:`${W}/@highlightjs/cdn-assets@11.10.0/styles/kimbie-dark.min.css`},paraiso:{light:`${W}/@highlightjs/cdn-assets@11.10.0/styles/paraiso-light.min.css`,dark:`${W}/@highlightjs/cdn-assets@11.10.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${W}/@highlightjs/cdn-assets@11.10.0/styles/qtcreator-light.min.css`,dark:`${W}/@highlightjs/cdn-assets@11.10.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${W}/@highlightjs/cdn-assets@11.10.0/styles/stackoverflow-light.min.css`,dark:`${W}/@highlightjs/cdn-assets@11.10.0/styles/stackoverflow-dark.min.css`}},ge={highlight:{js:{integrity:"sha384-GdEWAbCjn+ghjX0gLx7/N1hyTVmPAjdC2OvoAA0RyNcAOhqwtT8qnbCxWle2+uJX",crossOrigin:"anonymous"},css:{a11y:{light:{integrity:"sha384-qdZDAN3jffvh670RHw1wxLekabidEFaNRninYgIzBvMbL6WlHdXeHS/Bt+vx33lN",crossOrigin:"anonymous"},dark:{integrity:"sha384-2QAAjX8pqaM5azX68KWI2wExF6Q13kY4kEiQFY4b/1zPe6rpgmTByNpDEllH3sb+",crossOrigin:"anonymous"}},atom:{light:{integrity:"sha384-w6Ujm1VWa9HYFqGc89oAPn/DWDi2gUamjNrq9DRvEYm2X3ClItg9Y9xs1ViVo5b5",crossOrigin:"anonymous"},dark:{integrity:"sha384-oaMLBGEzBOJx3UHwac0cVndtX5fxGQIfnAeFZ35RTgqPcYlbprH9o9PUV/F8Le07",crossOrigin:"anonymous"}},github:{light:{integrity:"sha384-eFTL69TLRZTkNfYZOLM+G04821K1qZao/4QLJbet1pP4tcF+fdXq/9CdqAbWRl/L",crossOrigin:"anonymous"},dark:{integrity:"sha384-wH75j6z1lH97ZOpMOInqhgKzFkAInZPPSPlZpYKYTOqsaizPvhQZmAtLcPKXpLyH",crossOrigin:"anonymous"}},gradient:{light:{integrity:"sha384-yErHBR8aEZPxRl3XmR8dGSRAclMlnSRRw8sXQLcmPWzWUvb56BzQmBw3EWHl7QGI",crossOrigin:"anonymous"},dark:{integrity:"sha384-lUCvtSOdvDbp5hLWKgwz/taFu1HxlpqES2OVP5UG2JMTfnU481gXcBhGF9lAGoSr",crossOrigin:"anonymous"}},kimbie:{light:{integrity:"sha384-tloeSLUPczAvoZ48TUz+OxRie0oYLCRwlkadUXovGzzJEIbNQB2TkfUuvJ6SW5Mi",crossOrigin:"anonymous"},dark:{integrity:"sha384-o5F1vUaMNOmou1sQrsWiFo4/QUGSV0svqNZW+EesmKxWC8MpFJcveBhAyfvTHbGb",crossOrigin:"anonymous"}},paraiso:{light:{integrity:"sha384-5j6QHU2Hwg1ehtlIQNDebhETDB8bga3/88hzBFsMRaGmgQHCftqIN7GZNDNw0vTL",crossOrigin:"anonymous"},dark:{integrity:"sha384-I5vnnMQu0LWDQnHpT61xyoMwKarAB8jpZkB2ioFOlmzUFnIFaV4QbUwlBBOMKhTH",crossOrigin:"anonymous"}},qtcreator:{light:{integrity:"sha384-iEBgHrwi8Hv4dSZBz+MOGvS05rF7I7fGKM2fASQyE9jn2Istg9Qd5dSoK18WyRTB",crossOrigin:"anonymous"},dark:{integrity:"sha384-D6LXJGWNR4QV7gnpuP3ccbvOYoR02td3cU0y7lESABPg/tzCSC4m+y+M2TtrmpHc",crossOrigin:"anonymous"}},stackoverflow:{light:{integrity:"sha384-FMwt7cTGo4aLxZnno5k0xTj0W4gmi48Kwept+y/oQmE6cFk36Kr+QJZOKNOQwORe",crossOrigin:"anonymous"},dark:{integrity:"sha384-iL+x+BroCyHm/p2c6sMA9umXhdCWp2cKe4QUjPeMzHgwXAk+ZxHyIGP3NZTZensU",crossOrigin:"anonymous"}}}},prettier:{standaloneJs:{integrity:"sha384-92h6ALm8/lHpNGn6MfGlgZ+I8c/4yn/nSN8dV9ZmDxqbP9L93gk/Jj2i0LtV+AVd",crossOrigin:"anonymous"},parserMarkdownJs:{integrity:"sha384-5ufuUgoSsr/2oihBZ5d+c+yt0qaUmzLtUz41VZNJ4txtyJ6mBve3ZwuKoq/IygYX",crossOrigin:"anonymous"}},cropper:{js:{integrity:"sha384-jrOgQzBlDeUNdmQn3rUt/PZD+pdcRBdWd/HWRqRo+n2OR2QtGyjSaJC0GiCeH+ir",crossOrigin:"anonymous"},css:{integrity:"sha384-6LFfkTKLRlzFtgx8xsWyBdKGpcMMQTkv+dB7rAbugeJAu1Ym2q1Aji1cjHBG12Xh",crossOrigin:"anonymous"}},screenfull:{js:{integrity:"sha384-Qfbv8upMDu/ikv42M0Jnym2hahbDQ77Nm8PGU0G+iA6UIwt1+scE6P1qKXA0anWU",crossOrigin:"anonymous"}},mermaid:{js:{integrity:"sha384-B2tp/GqmE6VfDRB3JPTsesr0+SXypThjLSvQEQH7iv3f3/PYKCm5Q4+SGPcitStz",crossOrigin:"anonymous"}},katex:{js:{integrity:"sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg",crossOrigin:"anonymous"},css:{integrity:"sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+",crossOrigin:"anonymous"}}},D=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","previewOnly","htmlPreview","catalog","github"],be=["markdownTotal","=","scrollSwitch"],Me={"zh-CN":{toolbarTips:{bold:"\u52A0\u7C97",underline:"\u4E0B\u5212\u7EBF",italic:"\u659C\u4F53",strikeThrough:"\u5220\u9664\u7EBF",title:"\u6807\u9898",sub:"\u4E0B\u6807",sup:"\u4E0A\u6807",quote:"\u5F15\u7528",unorderedList:"\u65E0\u5E8F\u5217\u8868",orderedList:"\u6709\u5E8F\u5217\u8868",task:"\u4EFB\u52A1\u5217\u8868",codeRow:"\u884C\u5185\u4EE3\u7801",code:"\u5757\u7EA7\u4EE3\u7801",link:"\u94FE\u63A5",image:"\u56FE\u7247",table:"\u8868\u683C",mermaid:"mermaid\u56FE",katex:"katex\u516C\u5F0F",revoke:"\u540E\u9000",next:"\u524D\u8FDB",save:"\u4FDD\u5B58",prettier:"\u7F8E\u5316",pageFullscreen:"\u6D4F\u89C8\u5668\u5168\u5C4F",fullscreen:"\u5C4F\u5E55\u5168\u5C4F",preview:"\u9884\u89C8",previewOnly:"\u4EC5\u9884\u89C8",htmlPreview:"html\u4EE3\u7801\u9884\u89C8",catalog:"\u76EE\u5F55",github:"\u6E90\u7801\u5730\u5740"},titleItem:{h1:"\u4E00\u7EA7\u6807\u9898",h2:"\u4E8C\u7EA7\u6807\u9898",h3:"\u4E09\u7EA7\u6807\u9898",h4:"\u56DB\u7EA7\u6807\u9898",h5:"\u4E94\u7EA7\u6807\u9898",h6:"\u516D\u7EA7\u6807\u9898"},imgTitleItem:{link:"\u6DFB\u52A0\u94FE\u63A5",upload:"\u4E0A\u4F20\u56FE\u7247",clip2upload:"\u88C1\u526A\u4E0A\u4F20"},linkModalTips:{linkTitle:"\u6DFB\u52A0\u94FE\u63A5",imageTitle:"\u6DFB\u52A0\u56FE\u7247",descLabel:"\u94FE\u63A5\u63CF\u8FF0\uFF1A",descLabelPlaceHolder:"\u8BF7\u8F93\u5165\u63CF\u8FF0...",urlLabel:"\u94FE\u63A5\u5730\u5740\uFF1A",urlLabelPlaceHolder:"\u8BF7\u8F93\u5165\u94FE\u63A5...",buttonOK:"\u786E\u5B9A"},clipModalTips:{title:"\u88C1\u526A\u56FE\u7247\u4E0A\u4F20",buttonUpload:"\u4E0A\u4F20"},copyCode:{text:"\u590D\u5236\u4EE3\u7801",successTips:"\u5DF2\u590D\u5236\uFF01",failTips:"\u590D\u5236\u5931\u8D25\uFF01"},mermaid:{flow:"\u6D41\u7A0B\u56FE",sequence:"\u65F6\u5E8F\u56FE",gantt:"\u7518\u7279\u56FE",class:"\u7C7B\u56FE",state:"\u72B6\u6001\u56FE",pie:"\u997C\u56FE",relationship:"\u5173\u7CFB\u56FE",journey:"\u65C5\u7A0B\u56FE"},katex:{inline:"\u884C\u5185\u516C\u5F0F",block:"\u5757\u7EA7\u516C\u5F0F"},footer:{markdownTotal:"\u5B57\u6570",scrollAuto:"\u540C\u6B65\u6EDA\u52A8"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Image Link",upload:"Upload Images",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},Oe={modelValue:"",theme:"light",className:"",onChange:()=>{},onSave:()=>{},pageFullscreen:!1,preview:!0,htmlPreview:!1,language:"zh-CN",toolbars:D,toolbarsExclude:[],noPrettier:!1,onHtmlChanged:()=>{},onGetCatalog:()=>{},tabWidth:2,showCodeRowNumber:!0,previewTheme:"default",mdHeadingId:z=>z,style:{},tableShape:[6,4],noMermaid:!1,sanitize:z=>z,placeholder:"",noKatex:!1,defToolbars:[],onError:()=>{},codeTheme:"atom",footers:be,scrollAuto:!0,defFooters:[],noIconfont:!1,formatCopiedText:z=>z,noUploadImg:!1,codeStyleReverse:!0,codeStyleReverseList:["default","mk-cute"],autoFocus:!1,disabled:!1,readOnly:!1,autoDetectCode:!1,noHighlight:!1,noImgZoomIn:!1,inputBoxWitdh:"50%",sanitizeMermaid:z=>Promise.resolve(z),transformImgUrl:z=>z,codeFoldable:!0,autoFoldThreshold:30},Se={editorExtensions:{highlight:{js:Ke,css:ve},prettier:{standaloneJs:Fe.main,parserMarkdownJs:Fe.markdown},cropper:qe({},Xe),iconfont:Te,iconfontClass:Ne,screenfull:{js:Ze},mermaid:{js:Ye},katex:qe({},Qe)},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:(z,le)=>le,markdownItConfig:()=>{},markdownItPlugins:z=>z,iconfontType:"svg",mermaidConfig:z=>z,katexConfig:z=>z},Ee=z=>(0,m.$N)(Se,z,{excludeKeys(le){return/[iI]{1}nstance/.test(le)}}),Re=170}}]);})();

//# sourceMappingURL=n.md-editor-rt.335cfd.chunk.js.map